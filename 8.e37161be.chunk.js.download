(this.webpackJsonpRhyme=this.webpackJsonpRhyme||[]).push([[8],{1023:function(e,t,n){"use strict";n.d(t,"e",(function(){return i})),n.d(t,"i",(function(){return A})),n.d(t,"h",(function(){return I})),n.d(t,"g",(function(){return V})),n.d(t,"c",(function(){return L})),n.d(t,"j",(function(){return X})),n.d(t,"f",(function(){return Q})),n.d(t,"b",(function(){return Z})),n.d(t,"d",(function(){return ee})),n.d(t,"a",(function(){return N.a}));var i=function(e){return e[e.Collapse=0]="Collapse",e[e.Expand=1]="Expand",e}({}),r=n(14),o=n(21),a=n(5),s=n(4),c=n(368),l=n(6),u=Math.pow(2,32)-1,d=function(){function e(){Object(a.a)(this,e),this.version=new Uint8Array([0]),this.packetSize=5}return Object(s.a)(e,[{key:"encodeExpandModeEvent",value:function(e,t){if(e>u)throw new Error("Cannot encode time stamps bigger than 32bit");var n=new Uint32Array([e]),i=new Uint8Array([t]);return new Blob([n,i])}},{key:"decodeBuffer",value:function(e){for(var t=[],n=0;n+5<=e.byteLength;n+=5){var i=new DataView(e,n,5);t.push(this.decodePacket(i))}if(n!==e.byteLength)throw new Error("Invalid package size. It is not dividable by ".concat(5,"."));return t}},{key:"decodePacket",value:function(e){if(5===e.byteLength)return[e.getUint32(0,!0),e.getUint8(4)];throw new Error("Cannot decode packet with size "+e.byteLength)}},{key:"getPacketTimestamp",value:function(e,t){return e.getUint32(t,!0)}},{key:"setPacketTimestamp",value:function(e,t,n){return e.setUint32(t,n,!0)}}]),e}(),p=Object(l.a)({},0,(function(){return new d})),h=function(e){var t=Object(c.c)(e),n=p[t];if(!n)throw new Error("ExpandModeCodec with version ".concat(t," not supported"));return n()},b=function(){function e(){Object(a.a)(this,e),this._encoder=new d}return Object(s.a)(e,[{key:"trim",value:function(e,t){var n=Object(c.f)(e.expandTrackBuffer,h,t);return Promise.resolve(n)}},{key:"merge",value:function(e){var t=Object(c.e)(e,(function(e){return e.expandTrackBuffer}),this._encoder);return Promise.resolve(t)}}]),e}(),f=n(373),v=n(195),m=function(){function e(){Object(a.a)(this,e),this._encoder=new v.a}return Object(s.a)(e,[{key:"trim",value:function(e,t){var n=Object(c.f)(e.inputTrackBuffer,f.c,t);return Promise.resolve(n)}},{key:"merge",value:function(e){var t=Object(c.e)(e,(function(e){return e.inputTrackBuffer}),this._encoder);return Promise.resolve(t)}}]),e}(),y=n(379);new b,new m;var j,g=n(28),O=n(40),w=n(41),x=n(1190),k=n(163),C=function(e){Object(O.a)(n,e);var t=Object(w.a)(n);function n(){var e;Object(a.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).notificationText="Recording too short",e}return Object(s.a)(n)}(Object(x.a)(Error)),A=function(e){function t(e,n,i){Object(a.a)(this,t),this._mediaRecorder=e,this._inputRecorder=n,this._expandModeRecorder=i,this._state="stopped",this._startTime=void 0,this._duration=0,this._recorders=void 0,this._recorders=[this._mediaRecorder,this._inputRecorder,this._expandModeRecorder]}return Object(s.a)(t,[{key:"size",get:function(){return this._recorders.reduce((function(e,t){return e+t.size}),0)}},{key:"duration",get:function(){return"recording"===this._state?Date.now()-this._startTime:this._duration}},{key:"isRecording",get:function(){return"recording"===this._state}},{key:"start",value:function(){"stopped"===this._state&&(this._startTime=Date.now(),this._duration=0,this._state="recording",this._recorders.forEach((function(e){return e.start()})))}},{key:"stop",value:function(){return(e=e||Object(o.a)(Object(r.a)().mark((function e(){var t,n,i=this;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("recording"===this._state){e.next=2;break}return e.abrupt("return",Promise.reject("Cannot stop ScreenRecorder. Current state is ".concat(this._state)));case 2:return this._state="processing",n=Date.now()-this._startTime,this._duration=n,e.abrupt("return",Promise.all(this._recorders.map((function(e){return e.stop()}))).then((function(e){return(t=t||Object(o.a)(Object(r.a)().mark((function e(t){var o,a,s,l,u,d,p,h,b,v,m;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=Object(g.a)(t,3),a=o[0],s=o[1],l=o[2],i._state="stopped",!(n<k.e)){e.next=4;break}throw new C;case 4:return e.next=6,Object(y.a)(a);case 6:return a=e.sent,u=URL.createObjectURL(a),e.next=10,Object(f.d)(s);case 10:return d=e.sent,e.next=13,Object(f.d)(l);case 13:return p=e.sent,e.next=16,Object(c.b)(u);case 16:return h=e.sent,b=i._recorders[0],v=b.videoWidth,m=b.videoHeight,e.abrupt("return",{id:Object(c.a)(),videoTrack:a,inputTrack:s,inputTrackBuffer:d,expandTrack:l,expandTrackBuffer:p,dataSize:a.size+s.size+l.size,mediaUrl:u,duration:h,videoWidth:v,videoHeight:m});case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)})));case 6:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"updateStream",value:function(e){this._recorders.forEach((function(t){return t.updateStream(e)}))}}]),t}(),_=n(46),S=n(364),P=n(365),E=n.n(P);var R,D,I=(j=function(){function e(t,n,i){Object(a.a)(this,e),this._client=t,this._audioStream=n,this._resolution=i,this._state="stopped",this._config=function(){var e,t=[{mediaType:"video/webm;codecs=vp9,opus",audioBitRate:128e3,videoBitRate:2516582,frameRate:30,timeSlice:1e3},{mediaType:"video/webm;codecs=vp8,opus",audioBitRate:128e3,videoBitRate:2516582,frameRate:24,timeSlice:1e3}];return function(){if(e)return e;if(!(e=t.find((function(e){return MediaRecorder.isTypeSupported(e.mediaType)}))))throw new Error("No supported media codec found");return e}()}(),this._videoElement=document.createElement("video"),this._recorder=void 0,this._videoStreamCanvasContext=void 0,this._blobBuffer=[],this._pollingTimeout=void 0,this._pollingDuration=void 0,this._isUsingUpdatedVideoStream=!1,this._stopResolve=void 0,this._stopReject=void 0}return Object(s.a)(e,[{key:"videoWidth",get:function(){return this._resolution.width}},{key:"videoHeight",get:function(){return this._resolution.height}},{key:"start",value:function(){if("stopped"===this._state){this._pollingDuration=1e3/(this._config.frameRate||30);var e=this._createVideoStreamCanvas(),t=new MediaStream([].concat(Object(_.a)(e.getTracks()),Object(_.a)(this._audioStream.getAudioTracks())));this._recorder=new MediaRecorder(t,{mimeType:this._config.mediaType,audioBitsPerSecond:this._config.audioBitRate,videoBitsPerSecond:this._config.videoBitRate}),this._recorder.ondataavailable=this._onRecorderDataAvailable,this._recorder.onstop=this._onRecorderStopped,this._recorder.onerror=this._onRecorderError,this._recorder.start(this._config.timeSlice),this._poll(),this._state="recording",console.log("Recording started. MediaType: ".concat(this._config.mediaType," FrameRate: ").concat(this._config.frameRate," Resolution: ").concat(this._resolution.width,"/").concat(this._resolution.height))}}},{key:"stop",value:function(){var e=this;return this._stopPolling(),this._recorder.stop(),this._state="processing",new Promise((function(t,n){e._stopResolve=function(){e._state="stopped",t(new Blob(e._blobBuffer,{type:"video/webm"})),e._cleanUp()},e._stopReject=n}))}},{key:"updateStream",value:function(e){this._isUsingUpdatedVideoStream=!!e,e&&(this._videoElement.autoplay=!0,this._videoElement.srcObject=e,this._videoElement.height=this._resolution.height,this._videoElement.width=this._resolution.width)}},{key:"size",get:function(){return this._blobBuffer.reduce((function(e,t){return e+t.size}),0)}},{key:"_onRecorderDataAvailable",value:function(e){this._blobBuffer.push(e.data)}},{key:"_onRecorderStopped",value:function(e){this._stopResolve&&this._stopResolve()}},{key:"_onRecorderError",value:function(e){console.error("MediaRecorder error",e),this._state="error",this._stopReject&&this._stopReject(e),this._cleanUp()}},{key:"_poll",value:function(){this._refreshCanvas(),this._pollingTimeout=setTimeout(this._poll,this._pollingDuration)}},{key:"_cleanUp",value:function(){this._stopPolling(),this._blobBuffer=[],this._stopResolve=void 0,this._stopReject=void 0}},{key:"_stopPolling",value:function(){this._pollingTimeout&&(clearTimeout(this._pollingTimeout),this._pollingTimeout=void 0)}},{key:"_createVideoStreamCanvas",value:function(){var e=document.createElement("canvas"),t=e.getContext("2d"),n=e.captureStream(this._config.frameRate),i=this._resolution,r=i.width,o=i.height;if(e.width=r,e.height=o,!t)throw new Error("Cannot initialize the context");return this._videoStreamCanvasContext=t,n}},{key:"_refreshCanvas",value:function(){this._isUsingUpdatedVideoStream?this._drawVideoStream():this._drawVM()}},{key:"_drawVM",value:function(){var e=this._client.getDisplay(),t=this._client.getDisplayCanvas();if(t&&t.width&&t.height&&e){var n=this._resolution;this._videoStreamCanvasContext.drawImage(t,0,0,e?e.getWidth():0,e?e.getHeight():0,0,0,n.width,n.height);var i=this._client.getMouse();if(i){var r=this._client.getCursorCanvas();if(r){var o=i.currentState,a=t.width/n.width;this._videoStreamCanvasContext.drawImage(r,0,0,r.width,r.height,(o.x-e.cursorHotspotX)/a/this._client.scaleX||1,(o.y-e.cursorHotspotY)/a/this._client.scaleY||1,r.width/a,r.height/a)}}}}},{key:"_drawVideoStream",value:function(){this._videoStreamCanvasContext.drawImage(this._videoElement,0,0,this._videoElement.width,this._videoElement.height)}}]),e}(),Object(S.a)(j.prototype,"_onRecorderDataAvailable",[E.a],Object.getOwnPropertyDescriptor(j.prototype,"_onRecorderDataAvailable"),j.prototype),Object(S.a)(j.prototype,"_onRecorderStopped",[E.a],Object.getOwnPropertyDescriptor(j.prototype,"_onRecorderStopped"),j.prototype),Object(S.a)(j.prototype,"_onRecorderError",[E.a],Object.getOwnPropertyDescriptor(j.prototype,"_onRecorderError"),j.prototype),Object(S.a)(j.prototype,"_poll",[E.a],Object.getOwnPropertyDescriptor(j.prototype,"_poll"),j.prototype),j),M=n(376),N=n(143),T=n(136),V=(R=function(){function e(t,n){Object(a.a)(this,e),this._client=void 0,this._onKeyboardEventCallback=void 0,this._codec=new v.a,this._startedAt=0,this._disableClicks=void 0,this._blobs=[],this._lastMouseMoveUpdate=void 0,this._recordKeyUp=this._recordKey(!1),this._recordKeyDown=this._recordKey(!0),this._client=t,this._onKeyboardEventCallback=n}return Object(s.a)(e,[{key:"_isRecording",get:function(){return 0!==this._startedAt}},{key:"size",get:function(){return this._blobs.reduce((function(e,t){return e+t.size}),0)}},{key:"start",value:function(){this._isRecording||(this._startedAt=Date.now(),this._blobs=[new Blob([this._codec.version])],this._recordInitialMousePosition(),this._client.on(M.h,this._recordMouseUp),this._client.on(M.f,this._recordMouseDown),this._client.on(M.g,this._recordMouseMove),this._client.on(M.d,this._recordKeyDown),this._client.on(M.e,this._recordKeyUp))}},{key:"stop",value:function(){if(!this._isRecording)return Promise.reject(new Error("Cannot stop when not recording"));this._client.off(M.h,this._recordMouseUp),this._client.off(M.f,this._recordMouseDown),this._client.off(M.g,this._recordMouseMove),this._client.off(M.d,this._recordKeyDown),this._client.off(M.e,this._recordKeyUp);var e=new Blob(this._blobs);return this._startedAt=0,Promise.resolve(e)}},{key:"updateStream",value:function(e){this._disableClicks=!!e}},{key:"_recordMouseUp",value:function(e){this._isRecording&&!this._disableClicks&&this._encodeMouseEvent(Object(T.d)(e),e.x/this._client.scaleX,e.y/this._client.scaleY)}},{key:"_recordMouseDown",value:function(e){this._isRecording&&!this._disableClicks&&this._encodeMouseEvent(Object(T.d)(e),e.x/this._client.scaleX,e.y/this._client.scaleY)}},{key:"_recordMouseMove",value:function(e){this._isRecording&&(!this._lastMouseMoveUpdate||Math.abs(this._lastMouseMoveUpdate.x-e.x)>=5||Math.abs(this._lastMouseMoveUpdate.y-e.y)>=5)&&(this._disableClicks&&(e.left=!1,e.right=!1,e.middle=!1),this._lastMouseMoveUpdate={x:e.x,y:e.y},this._encodeMouseEvent(Object(T.d)(e),e.x/this._client.scaleX,e.y/this._client.scaleY))}},{key:"_recordInitialMousePosition",value:function(){var e=this._client.getMouse();e&&this._recordMouseMove(e.currentState)}},{key:"_recordKey",value:function(e){var t=this;return function(n){if(t._isRecording){var i=t._encodeKeyboardEvent(e?1:0,n).timestamp;t._onKeyboardEventCallback({type:N.a.Keyboard,timestamp:i,keyCode:n,down:e})}}}},{key:"_encodeKeyboardEvent",value:function(e,t){var n=Date.now()-this._startedAt;return this._blobs.push(this._codec.encodeKeyboardEvent(n,e,t)),{timestamp:n,down:e,keyCode:t}}},{key:"_encodeMouseEvent",value:function(e,t,n){var i=Date.now()-this._startedAt;this._blobs.push(this._codec.encodeMouseEvent(i,e,t,n))}}]),e}(),Object(S.a)(R.prototype,"_recordMouseUp",[E.a],Object.getOwnPropertyDescriptor(R.prototype,"_recordMouseUp"),R.prototype),Object(S.a)(R.prototype,"_recordMouseDown",[E.a],Object.getOwnPropertyDescriptor(R.prototype,"_recordMouseDown"),R.prototype),Object(S.a)(R.prototype,"_recordMouseMove",[E.a],Object.getOwnPropertyDescriptor(R.prototype,"_recordMouseMove"),R.prototype),R),L=(D=function(){function e(t){Object(a.a)(this,e),this._source=t,this._codec=new d,this._blobs=[],this._startedAt=0}return Object(s.a)(e,[{key:"_isRecording",get:function(){return 0!==this._startedAt}},{key:"size",get:function(){return this._blobs.reduce((function(e,t){return e+t.size}),0)}},{key:"start",value:function(){this._isRecording||(this._blobs=[new Blob([this._codec.version])],this._startedAt=Date.now(),this._recordInitialMode(this._source.currentMode),this._source.onCollapse(this._collapse),this._source.onExpand(this._expand))}},{key:"stop",value:function(){if(!this._isRecording)return Promise.reject(new Error("Cannot stop when not recording"));var e=new Blob(this._blobs);return this._source.offCollapse(this._collapse),this._source.offExpand(this._expand),this._startedAt=0,Promise.resolve(e)}},{key:"updateStream",value:function(e){}},{key:"_collapse",value:function(){this._recordExpandModeEvent(i.Collapse)}},{key:"_expand",value:function(){this._recordExpandModeEvent(i.Expand)}},{key:"_recordExpandModeEvent",value:function(e){this._isRecording&&this._blobs.push(this._codec.encodeExpandModeEvent(Date.now()-this._startedAt,e))}},{key:"_recordInitialMode",value:function(e){this._blobs.push(this._codec.encodeExpandModeEvent(0,e))}}]),e}(),Object(S.a)(D.prototype,"_collapse",[E.a],Object.getOwnPropertyDescriptor(D.prototype,"_collapse"),D.prototype),Object(S.a)(D.prototype,"_expand",[E.a],Object.getOwnPropertyDescriptor(D.prototype,"_expand"),D.prototype),Object(S.a)(D.prototype,"_recordExpandModeEvent",[E.a],Object.getOwnPropertyDescriptor(D.prototype,"_recordExpandModeEvent"),D.prototype),D),F=n(13),z=n(1),B=n(0),W="annotations-notification-contex",U=Object(F.List)([]),H=function(e){Object(O.a)(n,e);var t=Object(w.a)(n);function n(e){var i;return Object(a.a)(this,n),(i=t.call(this,e))._timeout=void 0,i._playbackRate=1,i._isPlaying=!1,i}return Object(s.a)(n,[{key:"play",value:function(e){this._isPlaying=!0,this._instance.props.dispatch(new z.G(W));var t=this._annotations.filter((function(t){return t.time>=e}));this._nextAnnotation(e,t)}},{key:"pause",value:function(){this._isPlaying=!1,this._timeout&&clearTimeout(this._timeout)}},{key:"destroy",value:function(){this.pause(),this._instance.props.dispatch(new z.G(W))}},{key:"setPlaybackRate",value:function(e,t){this._playbackRate=e,this._isPlaying&&(this.pause(),this.play(t))}},{key:"_nextAnnotation",value:function(e,t){var n=this;if(this._timeout&&clearTimeout(this._timeout),t.size){var i=t.first(),r=(i.time-e)/this._playbackRate;this._timeout=setTimeout((function(){n._instance.props.dispatch(new z.k(new B.L({type:B.M.Annotation,title:"Annotation",text:i.content,context:W,ttl:i.duration}))),n._nextAnnotation(i.time,t.delete(0))}),r)}}}]),n}(function(){function e(t){Object(a.a)(this,e),this._instance=t}return Object(s.a)(e,[{key:"_annotations",get:function(){return this._instance.props.annotations||U}}]),e}()),X=function(e){return new H(e)},K=n(102),q=(n(374),Symbol("OnFrame")),Y=Symbol("Finish"),Q=function(){function e(t){Object(a.a)(this,e),this._emitter=new K.EventEmitter,this._currentTime=0,this._startedFrom=0,this._playing=!1,this._view=void 0,this._iterator=void 0,this._lastMouseEvent=void 0,this._skipNextFrame=!1,this._startTime=0,this._currentTimeout=void 0,this._playbackRate=1,this._view=new f.b(t)}return Object(s.a)(e,[{key:"play",value:function(e){return clearTimeout(this._currentTimeout),this._startTime=Date.now(),this._startedFrom=e/this._playbackRate,this._currentTime=e/this._playbackRate,this._skipNextFrame=!1,this._iterator=this._view.getIteratorAt(e),this._playing=!0,this._nextFrame(),this._view.getKeyframeAt(e)}},{key:"setPlaybackRate",value:function(e){this._playbackRate=e}},{key:"getKeyframeAt",value:function(e){return this._view.getKeyframeAt(e)}},{key:"pause",value:function(){clearTimeout(this._currentTimeout),this._playing=!1}},{key:"resume",value:function(){this._playing||this._nextFrame()}},{key:"onFrame",value:function(e){var t=this;return this._emitter.on(q,e),function(){return t._emitter.off(q,e)}}},{key:"onFinish",value:function(e){var t=this;return this._emitter.on(Y,e),function(){return t._emitter.off(Y,e)}}},{key:"sync",value:function(e){Math.abs(e-this._currentTime)>150&&(console.log("Syncing the input player"),this.play(e))}},{key:"_nextFrame",value:function(){var e=this,t=this._iterator.next();if(!t.done&&t.value){var n=t.value,i=n.timestamp/this._playbackRate;if(this._skipNextFrame&&this._canSkip(n))return console.log("Skipping frame"),this._currentTime=i,this._nextFrame();var r=Date.now()-this._startTime,o=this._currentTime-this._startedFrom,a=i-this._currentTime,s=r-o,c=Math.max(0,a-s);0===c&&(this._skipNextFrame=!0),this._currentTimeout=setTimeout((function(){e._emitter.emit(q,n),e._currentTime=i,e._nextFrame()}),c)}else this._emitter.emit(Y)}},{key:"_canSkip",value:function(e){if(e.type===f.a.Keyboard)return!1;var t=this._lastMouseEvent;return!!t&&(t.down===e.down&&t.left===e.left&&t.middle===e.middle&&t.right===e.right&&e.up===e.up)}}]),e}(),G=function(){},Z=function(){function e(t){Object(a.a)(this,e),this.codec=void 0,this.events=void 0,this.playbackRate=1,this.learnerSidebarModeChangeTimestamp=-1,this.isPlaying=!1,this.timeout=void 0,this.expandModeChangeCallback=G,this.codec=h(t);var n=this.codec.decodeBuffer(t.slice(1));this.events=this.translate(n)}return Object(s.a)(e,[{key:"onExpandModeChange",value:function(e){this.expandModeChangeCallback=e}},{key:"play",value:function(e){this.isPlaying=!0;var t=this.events.filter((function(t){return t.timestamp<e}));if(t.length){var n=t[t.length-1];n.timestamp>this.learnerSidebarModeChangeTimestamp&&this.expandModeChangeCallback(n.type)}else-1===this.learnerSidebarModeChangeTimestamp&&this.expandModeChangeCallback(i.Collapse);var r=this.events.filter((function(t){return t.timestamp>=e}));this.nextExpandModeChange(e,r)}},{key:"pause",value:function(){this.isPlaying=!1,this.clearTimeout()}},{key:"destroy",value:function(){this.isPlaying=!1,this.clearTimeout()}},{key:"setPlaybackRate",value:function(e,t){this.playbackRate=e,this.isPlaying&&(this.pause(),this.play(t))}},{key:"learnerChangedSidebarMode",value:function(e){this.learnerSidebarModeChangeTimestamp=e}},{key:"nextExpandModeChange",value:function(e,t){var n=this;if(t.length){var i=t[0],r=(i.timestamp-e)/this.playbackRate;this.clearTimeout(),this.timeout=setTimeout((function(){n.expandModeChangeCallback(i.type),t.shift(),n.nextExpandModeChange(i.timestamp,t)}),r)}}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){this.timeout&&clearTimeout(this.timeout)}))},{key:"translate",value:function(e){return e.map((function(e){return{timestamp:e[0],type:e[1]}})).filter((function(e,t,n){return 0===t||e.type!==n[t-1].type}))}}]),e}(),J=Symbol("Expand"),$=Symbol("Collapse"),ee=function(e){Object(O.a)(n,e);var t=Object(w.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o)))._currentMode=i.Collapse,e}return Object(s.a)(n,[{key:"currentMode",get:function(){return this._currentMode}},{key:"onExpand",value:function(e){return this.addListener(J,e)}},{key:"onCollapse",value:function(e){return this.addListener($,e)}},{key:"offExpand",value:function(e){return this.removeListener(J,e)}},{key:"offCollapse",value:function(e){return this.removeListener($,e)}},{key:"didExpand",value:function(){this._currentMode=i.Expand,this.emit(J)}},{key:"didCollapse",value:function(){this._currentMode=i.Collapse,this.emit($)}}]),n}(K.EventEmitter)},1025:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i={encode:function(e){return atob(e.toDataURL("image/jpg").replace(/^data:image\/(png|jpg);base64,/,""))},decode:function(e,t){return"data:".concat(t,";base64,").concat(btoa(e))},toArrayBuffer:function(e){for(var t=(e=atob(e.split(",")[1])).length,n=new Uint8Array(t),i=0;i<t;++i)n[i]=e.charCodeAt(i);return n.buffer},fromArrayBuffer:function(e,t){return this.decode(String.fromCharCode.apply(null,Array.from(new Uint8Array(e))),t)},toBlob:function(e){for(var t=(e=atob(e.split(",")[1])).length,n=new Uint8Array(t),i=0;i<t;++i)n[i]=e.charCodeAt(i);return new Blob([n],{type:"image/png"})}}},1026:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a}));var i=0;function r(){return i++}function o(e,t,n){return e+(t-e)*n}var a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return Number("".concat(Math.round(Number("".concat(e,"e").concat(t))),"e-").concat(t))}},1036:function(e,t,n){"use strict";n.d(t,"a",(function(){return B})),n.d(t,"b",(function(){return H}));var i,r=n(11),o=n(46),a=n(5),s=n(4),c=n(126),l=n(40),u=n(41),d=n(123),p=n.n(d),h=n(13),b=n(3),f=n(190),v=n(67),m=n(1027),y=n(1),j=n(1025),g=n(1023),O=n(0),w=n(372),x=n(14),k=n(21),C=n(162),A=function(e){return function(t){if(t.seekable&&Number.isFinite(t.duration)){var n=Object(C.a)(0,t.duration,t.currentTime+e);t.currentTime=n}}},_=function(e){var t=document,n=t.fullscreenElement,i=t.webkitFullscreenElement;return n===e||i===e},S=function(e){return e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.requestFullscreen()},P=function(){return document.webkitExitFullscreen?document.webkitExitFullscreen():document.exitFullscreen()},E=function(e){return(i=i||Object(k.a)(Object(x.a)().mark((function e(t){return Object(x.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_(t)){e.next=4;break}return e.next=3,S(t);case 3:return e.abrupt("return",!0);case 4:return e.next=6,P();case 6:return e.abrupt("return",!1);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)},R=n(182),D=n(1049),I=n(281),M=n(366),N=n(1062),T=n(1064),V=n(1065),L=(n(1169),n(12)),F=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(a.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={current:void 0},e._leftOn=!1,e._ref=void 0,e}return Object(s.a)(n,[{key:"onMouseEvent",value:function(e){this.setState({current:e})}},{key:"render",value:function(){var e=this;if(!this.state.current)return null;var t=this.state.current,n=t.x,i=t.y,r=t.left,o=this.props.scale;return r&&this._leftOn!==r&&this._playRipple(n*o,i*o),this._leftOn=r,Object(L.jsx)("div",{ref:function(t){return e._ref=t},className:"cursor-player cursor"})}},{key:"_playRipple",value:function(e,t){if(this._ref){var n=document.createElement("div");n.className="ripple ripple-effect",this._ref.appendChild(n),n.style.left=e-n.offsetHeight/2+"px",n.style.top=t-n.offsetWidth/2+"px",n.addEventListener("animationend",(function(){var e=n.parentElement;e&&e.removeChild(n)}))}}}]),n}(b.Component),z=Object(b.memo)((function(e){var t=Object(v.d)(),n=Object(b.useRef)(null);return Object(b.useEffect)((function(){e.default&&t(new y.bb(null))}),[t,e.url,e.default]),Object(b.useEffect)((function(){if(n.current&&e.default){return n.current.addEventListener("cuechange",(function(){var e,i,r,o=(null===(e=n.current)||void 0===e||null===(i=e.track)||void 0===i||null===(r=i.activeCues)||void 0===r?void 0:r[0])||null;(null===o||o instanceof VTTCue)&&t(new y.bb(o))})),t(new y.Bb(n.current)),function(){t(new y.Bb(null))}}}),[t,e.default]),Object(L.jsx)("track",{ref:n,kind:e.kind||"metadata",srcLang:e.srcLang,default:!1!==e.default,src:e.url})})),B=(n(1170),function(e){return e.x025="0.25",e.x050="0.5",e.x075="0.75",e.x100="1",e.x125="1.25",e.x150="1.5",e.x200="2",e}({})),W={zoomPointerCenter:{x:0,y:0},videoSize:{width:0,height:0},videoDimm:{width:0,height:0},videoPlayable:!1,windowBlured:!1,failedUrls:new Set},U=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var i;Object(a.a)(this,n),(i=t.call(this,e)).state=W,i._video=void 0,i._videoWrapper=void 0,i._inputPlayer=void 0,i._annotationsPlayer=void 0,i._expandModePlayer=void 0,i._cursor=void 0,i._lastSync=NaN,i._resizeObserver=void 0,i._mouseDownTimestamp=0,i._playbackRate=B.x100,i._screenshotCanvas=void 0,i._canPlayTimeout=null,i._moveZoomPointerCenter=void 0,i._resetZoomPointerMovementHistory=void 0,i._keyboardActionHandlers={"video.toggleFullscreen":i._withVideoRef(E),"video.forward":i._withVideoRef(A(T.a)),"video.backward":i._withVideoRef(A(-T.a))},i.onVideoRef=function(e){var t,n;i._video=e,null===(t=(n=i.props).onVideoElementRef)||void 0===t||t.call(n,e),e&&(e.playbackRate=parseFloat(i._playbackRate),e.oncanplay=function(){i._obtainDimmensions(e),i._canPlayTimeout=setTimeout((function(){i.setState({videoPlayable:!0},(function(){var e,t;return null===(e=(t=i.props).onCanPlay)||void 0===e?void 0:e.call(t,!0)}))}),500),e.oncanplay=null},e.onplaying=function(){e.onplaying=null})},i.onLoadedData=function(){var e,t;i._video&&i._video.readyState>=1&&(null===(e=(t=i.props).onReadyMetadata)||void 0===e||e.call(t))},i._onSourceError=function(e){var t=e.target;t.src&&i.setState({videoPlayable:!1,failedUrls:new Set([].concat(Object(o.a)(i.state.failedUrls),[t.src]))})},i._onClick=function(){var e,t;Date.now()-i._mouseDownTimestamp<=500&&(null===(e=(t=i.props).onClick)||void 0===e||e.call(t))},i._onWrapperRef=function(e){e&&(i._videoWrapper=e,i._resizeObserver&&i._resizeObserver.disconnect(),i._resizeObserver=new m.a((function(){if(i._video){var e={width:i._video.clientWidth,height:i._video.clientHeight};i.setState({videoSize:e})}})),i._resizeObserver.observe(i._videoWrapper))},i._onMediaPlay=function(){if(i._inputPlayer){i.props.dispatch(new y.X),i._annotationsPlayer&&i._annotationsPlayer.play(i.currentTimeInMs),i._expandModePlayer&&i._expandModePlayer.play(i.currentTimeInMs);var e=i._inputPlayer.play(i.currentTimeInMs);i._playMouseEvent(e.mouse)}},i._onSeeked=function(){if(i._video&&i._inputPlayer){i._resetZoomPointerMovementHistory();var e=i._inputPlayer.getKeyframeAt(i.currentTimeInMs);i._playMouseEvent(e.mouse)}},i._onMediaPause=function(){i._inputPlayer&&(i._inputPlayer.pause(),i._annotationsPlayer&&i._annotationsPlayer.pause(),i._expandModePlayer&&i._expandModePlayer.pause())},i._frameHandler=function(e){e.type===g.a.Mouse?i._playMouseEvent(e):i._playKeyboardEvent(e)},i._onLoadedMetadata=function(e){var t=e.target;t.duration===1/0&&(t.currentTime=1e101,t.ontimeupdate=function(){t.currentTime=.1,t.ontimeupdate=null})},i._syncInput=function(){if(i._video&&i._inputPlayer){var e=Date.now();!i._video.paused&&(isNaN(i._lastSync)||e-i._lastSync>500)&&(i._lastSync=e,i._inputPlayer.sync(i.currentTimeInMs))}},i._onWindowFocus=function(){i.setState({windowBlured:!1},(function(){var e,t;i.play(),null===(e=(t=i.props).onCanPlay)||void 0===e||e.call(t,!0)})),window.removeEventListener("focus",i._onWindowFocus)},i._onWindowBlur=function(){i.playing&&!Object(R.b)("playVideoInBackground")&&(i.pause(),i.setState({windowBlured:!0},(function(){var e,t;return null===(e=(t=i.props).onCanPlay)||void 0===e?void 0:e.call(t,!1)})),window.addEventListener("focus",i._onWindowFocus))},i._tryInitInputPlayer(e),i._tryInitAnnotationsPlayer(e),i._tryInitExpandModePlayer(e),i._screenshotCanvas=document.createElement("canvas");var r=Object(D.b)(Object(c.a)(i));return i._moveZoomPointerCenter=r.moveCenter,i._resetZoomPointerMovementHistory=r.resetHistory,i}return Object(s.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("blur",this._onWindowBlur)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.input,i=t.expandModeData;n&&n!==e.input&&this._tryInitInputPlayer(this.props),!n&&this._inputPlayer&&(this._inputPlayer.pause(),this._inputPlayer=void 0),i&&i!==e.expandModeData&&this._tryInitExpandModePlayer(this.props),!i&&this._expandModePlayer&&(this._expandModePlayer.pause(),this._expandModePlayer=void 0),this._handleNewUrlProps(e),this._tryInitAnnotationsPlayer(this.props)}},{key:"componentWillUnmount",value:function(){this._inputPlayer&&this._inputPlayer.pause(),this._annotationsPlayer&&this._annotationsPlayer.destroy(),this._expandModePlayer&&this._expandModePlayer.destroy(),this._canPlayTimeout&&clearTimeout(this._canPlayTimeout),window.removeEventListener("blur",this._onWindowBlur),window.removeEventListener("focus",this._onWindowFocus)}},{key:"playing",get:function(){return!!this._video&&!this._video.paused}},{key:"playbackRate",get:function(){return this._playbackRate}},{key:"canPlay",get:function(){return this.state.videoPlayable&&!this.state.windowBlured}},{key:"zoomPointerDimensions",get:function(){return this.props.viewboxSize||{height:0,width:0}}},{key:"play",value:function(){return this._inputPlayer&&this._video&&this.canPlay?(this.props.dispatch(new y.X),this._video.play()):Promise.reject()}},{key:"pause",value:function(){this._inputPlayer&&this._video&&this.canPlay&&(window.removeEventListener("focus",this._onWindowFocus),this._video.pause())}},{key:"changePlaybackRate",value:function(e){if(this._video&&this._inputPlayer){this._playbackRate=e;var t=parseFloat(this._playbackRate);this._video.playbackRate=t,this._inputPlayer.setPlaybackRate(t),this._annotationsPlayer&&this._annotationsPlayer.setPlaybackRate(t,this.currentTimeInMs),this._expandModePlayer&&this._expandModePlayer.setPlaybackRate(t,this.currentTimeInMs)}}},{key:"toggleViewbox",value:function(){if(this.props.onViewboxToggle)return this.props.onViewboxToggle(!this.props.showViewbox),!this.props.showViewbox}},{key:"setCurrentTime",value:function(e){this._video&&(this.props.dispatch(new y.X),e&&!isNaN(e)||(e=0),this._video.currentTime=e)}},{key:"learnerChangedSidebarMode",value:function(){this._expandModePlayer&&this._expandModePlayer.learnerChangedSidebarMode(this.currentTimeInMs)}},{key:"currentTime",get:function(){return this._video?this._video.currentTime:0}},{key:"currentTimeInMs",get:function(){return Math.round(1e3*this.currentTime)}},{key:"duration",get:function(){return this._video?this._video.duration:0}},{key:"takeScreenshot",value:function(){if(!this._video)return null;var e=this._video,t=e.videoWidth,n=e.videoHeight;this._screenshotCanvas.width=t,this._screenshotCanvas.height=n,this._screenshotCanvas.getContext("2d").drawImage(this._video,0,0,t,n);var i=this._screenshotCanvas.toDataURL("image/png");return new Blob([j.a.toArrayBuffer(i)],{type:"image/png"})}},{key:"render",value:function(){var e=this,t=p()("vm-player",this.props.className);return this.props.sources.isEmpty()?Object(L.jsx)("div",{className:t,children:Object(L.jsx)("div",{className:"video-placeholder"})}):Object(L.jsxs)("div",{className:t,children:[Object(L.jsx)(I.c,{handlers:this._keyboardActionHandlers}),Object(L.jsxs)("div",{className:"video-wrapper",ref:this._onWrapperRef,children:[Object(L.jsxs)("video",{autoPlay:this.props.autoPlay,onTimeUpdate:this._syncInput,onSeeked:this._onSeeked,ref:this.onVideoRef,onLoadedMetadata:this._onLoadedMetadata,onLoadedData:this.onLoadedData,controls:!this.props.sources.isEmpty()&&this.props.controls,onPlaying:this._onMediaPlay,onPause:this._onMediaPause,onMouseDown:function(){return e._mouseDownTimestamp=Date.now()},onMouseUp:this._onClick,crossOrigin:"anonymous",onError:this._onSourceError,tabIndex:-1,children:[this.props.sources.map((function(e){return Object(L.jsx)("source",{type:Object(V.b)(e),src:e},e)})),(this.props.subtitles||Object(h.Map)()).filter(w.b).map((function(t,n,i){return Object(L.jsx)(z,{url:t.url,srcLang:Object(w.c)(t.language),default:t.language===e.props.subtitleLang||1===i.size},t.url)})).toList()]},this.props.sources.join()),this.props.mouse?Object(L.jsx)(F,{ref:function(t){return e._cursor=t},scale:this.scale}):null,this.renderViewbox(),this.props.errorContainer?f.createPortal(this.renderSourceSplash(),this.props.errorContainer):this.renderSourceSplash()]})]})}},{key:"renderViewbox",value:function(){var e=this.props,t=e.showViewbox,n=e.viewboxSize,i=this.state,r=i.videoSize,o=i.videoDimm,a=i.zoomPointerCenter;if(!t||!n)return null;var s=r.width/o.width,c=a.x,l=a.y;return Object(L.jsx)("div",{className:"zoom-wrapper",children:Object(L.jsx)(N.a,{isExpanded:this.props.isViewExpanded||!1,width:n.width*s,height:n.height*s,maxWidth:r.width,maxHeight:r.height,x:c*s,y:l*s})})}},{key:"renderSourceSplash",value:function(){var e=this.state,t=e.videoPlayable,n=e.windowBlured,i=e.failedUrls;if(t||n)return null;var r=i.size>0&&i.size>=this.props.sources.count();return r&&console.error("Could load any of the video sources: ".concat(this.props.sources.join())),Object(L.jsx)("div",{className:"source-splash",children:r?Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)("p",{children:"We are sorry, but we were not able to load the video. :("}),Object(L.jsx)("p",{children:"Please, try again later."})]}):Object(L.jsx)(M.a,{description:"Loading the video..."})})}},{key:"scale",get:function(){if(!this._video)return 1;var e=this._video.getBoundingClientRect(),t=e.width,n=e.height,i=this.state.videoDimm.width/this.state.videoDimm.height;return Math.min(t,n*i)/this.state.videoDimm.width}},{key:"_tryInitInputPlayer",value:function(e){this._inputPlayer&&this._inputPlayer.pause(),e.input&&(this._inputPlayer=new g.f(e.input),this._inputPlayer.onFrame(this._frameHandler),this._inputPlayer.setPlaybackRate(parseFloat(this._playbackRate)))}},{key:"_tryInitAnnotationsPlayer",value:function(e){!this._annotationsPlayer&&e.annotations&&e.annotations.size&&(this._annotationsPlayer=Object(g.j)(this),this._annotationsPlayer.setPlaybackRate(parseFloat(this._playbackRate),this.currentTimeInMs))}},{key:"_tryInitExpandModePlayer",value:function(e){this._expandModePlayer&&this._expandModePlayer.destroy(),e.expandModeData&&(this._expandModePlayer=new g.b(e.expandModeData),this._expandModePlayer.setPlaybackRate(parseFloat(this._playbackRate),this.currentTimeInMs),this.props.onExpandModeChange&&this._expandModePlayer.onExpandModeChange(this.props.onExpandModeChange))}},{key:"_playMouseEvent",value:function(e){this._cursor&&this._cursor.onMouseEvent(e),this._moveZoomPointerCenter(e),this.props.onMouseFrame&&this.props.onMouseFrame(e)}},{key:"_playKeyboardEvent",value:function(e){this.props.dispatch(new y.j(e)),this.props.onKeyboardFrame&&this.props.onKeyboardFrame(e)}},{key:"_obtainDimmensions",value:function(e){this.setState({videoDimm:{width:e.videoWidth,height:e.videoHeight}}),this.props.onVideoDimmensions&&this.props.onVideoDimmensions(e.videoWidth,e.videoHeight)}},{key:"_withVideoRef",value:function(e){var t=this;return function(){var n;return!t._video||null!==(n=document.activeElement)&&void 0!==n&&n.classList.contains("layout-splitter")?void 0:e(t._video)}}},{key:"_handleNewUrlProps",value:function(e){var t,n;this.props.sources.equals(e.sources)||(this.setState({videoPlayable:!1,failedUrls:new Set}),null===(t=(n=this.props).onCanPlay)||void 0===t||t.call(n,!1))}}]),n}(b.Component);U.defaultProps={subtitleLang:O.gb.enUS};var H=Object(b.forwardRef)((function(e,t){var n=Object(v.d)(),i=Object(b.useCallback)((function(e){return n(new y.Eb(e))}),[n]);return Object(L.jsx)(U,Object(r.a)({},Object(r.a)(Object(r.a)({},e),{},{onVideoElementRef:i,ref:t,dispatch:n})))}))},1040:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"d",(function(){return f})),n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return m}));var i,r=n(5),o=n(4),a=n(40),s=n(41),c=n(6),l=n(68),u=n.n(l),d=n(3),p=n(12),h=function(e){return e.Fit="Fit",e.P50="50%",e.P75="75%",e.P100="100%",e.P125="125%",e.P150="150%",e}({}),b=(i={},Object(c.a)(i,h.Fit,1),Object(c.a)(i,h.P50,.5),Object(c.a)(i,h.P75,.75),Object(c.a)(i,h.P100,1),Object(c.a)(i,h.P125,1.25),Object(c.a)(i,h.P150,1.5),i),f=function(e){return b[e]},v=Object(d.createContext)({zoomLevel:h.Fit,fitValue:b[h.Fit],update:u.a}),m=function(e){Object(a.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(r.a)(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).update=function(t){t.fitValue&&(b[h.Fit]=t.fitValue),e.setState(t)},e.state={zoomLevel:e.props.zoomLevel||h.Fit,fitValue:e.props.fitValue||b[h.Fit],update:e.update},e}return Object(o.a)(n,[{key:"render",value:function(){return Object(p.jsx)(v.Provider,{value:this.state,children:this.props.children})}}]),n}(d.Component)},1041:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));var i,r=n(14),o=n(11),a=n(21),s=function(e){return e.replace(/[\\\/]+/g,"_")},c=function(e,t){var n=Object.assign(document.createElement("a"),{href:URL.createObjectURL(e),download:t,target:"_blank"});n.click(),URL.revokeObjectURL(n.href)},l=function(e,t,n){return(i=i||Object(a.a)(Object(r.a)().mark((function e(t,n,i){var a,s;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,Object(o.a)(Object(o.a)({method:"GET"},i),{},{mode:"cors"}));case 2:return a=e.sent,e.next=5,a.blob();case 5:s=e.sent,c(s,n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},1049:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return v}));var i,r=n(161),o=n(11),a=n(46),s=n(5),c=n(4),l=n(1040),u=function(e,t,n,i){return{left:e,top:t,right:n,bottom:i}},d=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return n.reduce((function(e,t){var n=t.x,i=t.y;return u(Math.min(e.left,n),Math.min(e.top,i),Math.max(e.right,n),Math.max(e.bottom,i))}),u(e.x,e.y,e.x,e.y))},p=function(e,t){return u(Math.max(e.left,t.left),Math.max(e.top,t.top),Math.min(e.right,t.right),Math.min(e.bottom,t.bottom))},h=function(e,t){var n=t.x,i=t.y,r=n-e.left,o=n-e.right,a=i-e.top,s=i-e.bottom;return{x:r<0?r:o>0?o:0,y:a<0?a:s>0?s:0}},b=function(){function e(t){Object(s.a)(this,e),this.minRectWidth=100,this.minRectHeight=100,this.keepHistoryFor=5e3,this.positions=[],this.center={x:0,y:0},this.now=Date.now,Object.assign(this,t)}return Object(c.a)(e,[{key:"update",value:function(t){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=this.center,s=r.x,c=r.y,l=d.apply(void 0,[{x:s-this.minRectWidth/2,y:c-this.minRectHeight/2},{x:s+this.minRectWidth/2,y:c+this.minRectHeight/2}].concat(Object(a.a)(this.positions))),u=i?p(i,l):l,b=h(u,t),f=this.now(),v=this.positions.filter((function(e){return f-e.ts<n.keepHistoryFor})),m=[].concat(Object(a.a)(v),[Object(o.a)(Object(o.a)({},t),{},{ts:f})]),y=b.x||b.y?{x:s+b.x,y:c+b.y}:this.center;return new e({positions:m,center:y})}}]),e}();i=b,b.empty=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new i(e)};var f=function(e){var t=b.empty();return function(n){var i=n.x,o=n.y,a=e.padding,s=void 0===a?20:a,c=Object(l.d)(e.zoomLevel),d={x:c*i,y:c*o},p=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!e||!t)return null;var i=e.getBoundingClientRect(),r=t.getBoundingClientRect(),o=r.left-i.left,a=r.top-i.top;return u(o+n,a+n,o+r.width-n,a+r.height-n)}(e.vmContainer,e.vmKeyhole,s),h=t.update(d,p);if(h.center!==t.center){var b,f=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.minSmoothDist,r=void 0===i?10:i,o=n.maxIntermediatePoints,a=void 0===o?8:o,s=t.x-e.x,c=t.y-e.y,l=Math.max(Math.abs(s),Math.abs(c)),u=Math.ceil(l/r),d=Math.min(a,u);return Array.from({length:d},(function(t,n){var i=(n+1)/d;return{x:e.x+i*s,y:e.y+i*c}}))}(t.center,h.center),v=Object(r.a)(f);try{for(v.s();!(b=v.n()).done;){var m=b.value;e.setState({keyholeCenter:m})}}catch(y){v.e(y)}finally{v.f()}}t=h}},v=function(e){var t=b.empty();return{moveCenter:function(n){var i=e.zoomPointerDimensions,r=i.width,o=i.height,a=e.padding,s=void 0===a?20:a,c=r/2,l=o/2,u=t.center,d={left:u.x-c+s,top:u.y-l+s,right:u.x+c-s,bottom:u.y+l-s},p=t.update(n,d);p.center!==t.center&&e.setState({zoomPointerCenter:p.center}),t=p},resetHistory:function(){return t=b.empty()}}}},1050:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var i=n(11),r=n(5),o=n(4),a=n(40),s=n(41),c=n(123),l=n.n(c),u=n(3),d=n(68),p=n.n(d),h=(n(1150),n(12)),b=function(e){Object(a.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(r.a)(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).onComplete=function(){e.progress>=1&&e.props.onComplete()},e}return Object(o.a)(n,[{key:"progress",get:function(){return this.props.progress<1?this.props.progress:1}},{key:"render",value:function(){var e={width:100*this.progress+"%",backgroundColor:this.props.color},t=Math.floor(100*this.progress);return Object(h.jsx)("div",Object(i.a)(Object(i.a)({className:l()("progress-bar-wrapper",this.props.type,this.props.className),role:"progressbar","aria-valuemin":0,"aria-valuenow":t,"aria-valuemax":100,"aria-live":"assertive","aria-atomic":"true",onTransitionEnd:this.onComplete},this.props.htmlAttributes),{},{children:Object(h.jsx)("div",{style:e,className:"progress-bar-progress","aria-hidden":!0})}))}}]),n}(u.Component);b.defaultProps={type:"regular",onComplete:p.a}},1051:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return y})),n.d(t,"c",(function(){return j}));var i,r=n(28),o=n(5),a=n(4),s=n(40),c=n(41),l=n(364),u=n(3),d=n(365),p=n.n(d),h=n(1101),b=n(19),f=n(1098),v=(n(1157),n(12)),m=600,y=500,j=(i=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var i;return Object(o.a)(this,n),(i=t.call(this,e))._leftResolver=void 0,i._rightResolver=void 0,i._leftPromise=new Promise((function(e){return i._leftResolver=e})),i._rightPromise=new Promise((function(e){return i._rightResolver=e})),i._resizeEntry=void 0,i._rightPanelSize=void 0,i.state={resizing:!1},i.props.onPanelsRefs&&Promise.all([i._leftPromise,i._rightPromise]).then((function(e){var t=Object(r.a)(e,2),n=t[0],o=t[1];return i.props.onPanelsRefs(n,o)})),i}return Object(a.a)(n,[{key:"componentDidMount",value:function(){var e=this;this._resizeEntry=f.a.create({delay:0},(function(){e._onResize(e._rightPanelSize)}))}},{key:"componentWillUnmount",value:function(){f.a.destroy(this._resizeEntry)}},{key:"onResizeStart",value:function(){this.setState({resizing:!0}),this.props.onResizeStart&&this.props.onResizeStart()}},{key:"onResizeEnd",value:function(){this.setState({resizing:!1}),this.props.onResizeEnd&&this.props.onResizeEnd()}},{key:"onResize",value:function(e){this._rightPanelSize=e,this._onResize(this._rightPanelSize)}},{key:"render",value:function(){var e=this.props.children;return Object(v.jsxs)(h.a,{onDragStart:this.onResizeStart,onSecondaryPaneSizeChange:this.onResize,onDragEnd:this.onResizeEnd,primaryMinSize:m,secondaryInitialSize:this.props.rightPanelInitialSize,customClassName:"split-view "+(this.props.className||""),handle:Object(v.jsxs)("div",{className:"dot-wrapper",children:[Object(v.jsx)("i",{className:"fa fa-circle"}),Object(v.jsx)("i",{className:"fa fa-circle"}),Object(v.jsx)("i",{className:"fa fa-circle"})]}),children:[e&&e[0]?Object(v.jsxs)("section",{className:"left-panel",ref:this._leftResolver,children:[this.state.resizing?Object(v.jsx)("div",{className:"overlay"}):null,e[0]]}):null,e&&e[1]?Object(v.jsx)("section",{className:"right-panel",ref:this._rightResolver,children:e[1]}):null]})}},{key:"_onResize",value:function(e){if(this.props.onResize){var t=window.innerWidth-e-b.a.SplitterWidth;this.props.onResize(t,e)}}}]),n}(u.Component),Object(l.a)(i.prototype,"onResizeStart",[p.a],Object.getOwnPropertyDescriptor(i.prototype,"onResizeStart"),i.prototype),Object(l.a)(i.prototype,"onResizeEnd",[p.a],Object.getOwnPropertyDescriptor(i.prototype,"onResizeEnd"),i.prototype),Object(l.a)(i.prototype,"onResize",[p.a],Object.getOwnPropertyDescriptor(i.prototype,"onResize"),i.prototype),i)},1054:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return h}));var i=n(11),r=n(28),o=n(3),a=n(190),s=n(123),c=n.n(s),l=n(1002),u=(n(1162),n(12)),d=Object(o.memo)((function(e){var t,n=e.id,s=e.children,d=Object(r.a)(s,2),p=d[0],h=d[1],b=Object(o.useRef)(null),f=function(){var e=Object(o.useState)(!1),t=Object(r.a)(e,2),n=t[0],i=t[1],a=Object(o.useCallback)((function(){return i(!0)}),[]),s=Object(o.useCallback)((function(){return i(!1)}),[]),c=Object(o.useCallback)((function(e){l.f===e.keyCode&&s()}),[s]);return Object(o.useEffect)((function(){return document.addEventListener("keydown",c),function(){document.removeEventListener("keydown",c)}}),[c]),{isOpen:n,close:s,props:{onMouseEnter:a,onMouseLeave:s,onFocus:a,onBlur:s}}}(),v=f.isOpen,m=f.close,y=f.props,j="string"===typeof p.props.children,g=Array.from({length:o.Children.count(p.props.children)},(function(e,t){return"".concat(n,"-").concat(t)})),O=(null===(t=b.current)||void 0===t?void 0:t.ownerDocument.body)||document.body,w=Object(i.a)({tabIndex:0},j?{"aria-label":p.props.children}:{"aria-describedby":v?g.join(" "):null});return Object(o.useEffect)((function(){return m()}),[m,h]),Object(u.jsxs)("div",{ref:b,className:c()("interactive-tooltip-container",v&&"open"),children:[Object(o.cloneElement)(h,Object(i.a)(Object(i.a)({},y),w)),v&&a.createPortal(Object(o.cloneElement)(p,Object(i.a)({parentRef:b},!j&&{id:n})),O)]})})),p=n(162),h=(n(1163),Object(o.memo)((function(e){var t=e.id,n=e.children,i=e.parentRef,a=e.size,s=void 0===a?"medium":a,l=e.theme,d=void 0===l?"light":l,h=Object(o.useState)(0),b=Object(r.a)(h,2),f=b[0],v=b[1],m=function(e,t){var n,i,a,s,c={min:0,max:((null===t||void 0===t||null===(n=t.current)||void 0===n?void 0:n.ownerDocument.defaultView)||window).innerWidth},l={bottom:(null===t||void 0===t||null===(i=t.current)||void 0===i?void 0:i.getBoundingClientRect().bottom)||0,left:(null===t||void 0===t||null===(a=t.current)||void 0===a?void 0:a.getBoundingClientRect().left)||0,width:(null===t||void 0===t||null===(s=t.current)||void 0===s?void 0:s.getBoundingClientRect().width)||0},u=Object(o.useState)(0),d=Object(r.a)(u,2),h=d[0],b=d[1],f=Object(o.useState)(0),v=Object(r.a)(f,2),m=v[0],y=v[1],j=Object(o.useState)(0),g=Object(r.a)(j,2),O=g[0],w=g[1],x=Object(o.useCallback)((function(){var t=l.left-e/2+l.width/2;if(t<=c.min)t=l.left-(l.left-c.min)/2;else if(t+e>=c.max){var n=l.left-e+l.width;t=n+(c.max-(n+e))/2}return t}),[l.left,l.width,c.min,c.max,e]);return Object(o.useLayoutEffect)((function(){var t=Object(p.a)(0,e);w(l.bottom),y(Math.max(0,x())),b(t(l.left+l.width/2-m))}),[l.left,l.width,l.bottom,m,e,h,x]),{tooltipXPos:m,tooltipYPos:O,caretXPos:h}}(f,i),y=m.tooltipXPos,j=m.tooltipYPos,g=m.caretXPos,O=Object(o.useCallback)((function(e){return e&&v(e.getBoundingClientRect().width)}),[]);return Object(u.jsx)("div",{ref:O,style:{"--tooltip-top":"".concat(j,"px"),"--tooltip-left":"".concat(y,"px"),"--caret-left":"".concat(g,"px")},className:c()("interactive-tooltip","interactive-tooltip--".concat(s),"interactive-tooltip--".concat(d)),role:"tooltip",children:t?o.Children.map(n,(function(e,n){return Object(o.cloneElement)(e,{id:"".concat(t,"-").concat(n)})})):n})})))},1061:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n(11),r=n(5),o=n(4),a=n(40),s=n(41),c=n(3),l=(n(1148),n(12)),u=function(e){Object(a.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(r.a)(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).wrapperRef=Object(c.createRef)(),e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){return e.forceUpdate()}))}},{key:"render",value:function(){var e=this.props.children,t=this.scale,n=t.scaleX,r=t.scaleY,o=t.width,a=t.height,s={WebkitTransform:"scale(".concat(n,", ").concat(r,")"),msTransform:"scale(".concat(n,", ").concat(r,")"),transform:"scale(".concat(n,", ").concat(r,")"),WebkitTransformOrigin:"0 0 0",msTransformOrigin:"0 0 0",transformOrigin:"0 0 0"};return Object(l.jsx)("div",{ref:this.wrapperRef,style:Object(i.a)({width:o,height:a},this.props.style),className:"scalable-component",children:Object(c.cloneElement)(e,{style:s})})}},{key:"scale",get:function(){var e={scaleX:1,scaleY:1,width:0,height:0},t=this.wrapperRef.current;if(t&&t.children[0]){var n=this.props.scaledWidth;(void 0===n||isNaN(n))&&(n=t.parentElement.clientWidth),e.scaleX=n/this.props.originalWidth;var i=n/(this.props.originalWidth/this.props.originalHeight);e.scaleY=i/this.props.originalHeight,e.height=i,e.width=n}return!isNaN(e.width)&&!isNaN(e.height)&&isFinite(e.scaleX)&&isFinite(e.scaleY)?e:{scaleX:1,scaleY:1,width:0,height:0}}}]),n}(c.Component)},1062:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n(1149);var i=n(12),r=function(e){var t=e.x,n=e.y,r=e.width,o=e.height,a=t-(r=isNaN(r)?0:r)/2,s=n-(o=isNaN(o)?0:o)/2;a=Math.max(a,0),s=Math.max(s,0);var c={width:r,height:o,left:a=Math.min(a,e.maxWidth-r)||0,top:s=Math.min(s,e.maxHeight-o)||0};return Object(i.jsx)("div",{className:"sc-zoom-pointer"+(e.isExpanded?" expanded":""),style:c})}},1063:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var i,r=n(5),o=n(4),a=n(40),s=n(41),c=n(364),l=n(365),u=n.n(l),d=n(3),p=n(1027),h=n(1051),b=function(e){return parseInt(e.replace("px","")||"0",10)},f=(i=function(e){Object(a.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(r.a)(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o)))._leftCont=void 0,e._initialLayoutPerformed=!1,e._resizeObserver=void 0,e}return Object(o.a)(n,[{key:"_horizontalPadding",get:function(){return 35}},{key:"_verticalPadding",get:function(){return 35}},{key:"componentWillUnmount",value:function(){this._leftCont&&this._resizeObserver.unobserve(this._leftCont)}},{key:"onLeftContRef",value:function(e){e&&e instanceof Element&&(this._leftCont=e,this._resizeObserver=new p.a(this.adjustLayout),this._resizeObserver.observe(e))}},{key:"adjustLayout",value:function(){if(this._leftCont){var e=window.getComputedStyle(this._leftCont),t=b(e.width||"")-this._horizontalPadding,n=b(e.height||"")-this._verticalPadding,i=t/n,r=this._screenWidth/this._screenHeight,o=0,a=0;i<r?a=(o=Math.max(t,0*r))/r:o=(a=Math.max(n,0))*r;var s=o/this._screenWidth;this.setState({width:o,height:a,scaleX:s,scaleY:s}),this._initialLayoutPerformed||(this._initialLayoutPerformed=!0)}}},{key:"rightPanelSize",get:function(){if(this._initialLayoutPerformed)return 0;var e=window.document.body,t=e.clientWidth,n=e.clientHeight;if(t-h.b<h.a)return t-h.a;var i=Math.max(n,0)*(this._screenWidth/this._screenHeight)-70+10;return Math.max(h.b,t-i)}}]),n}(d.PureComponent),Object(c.a)(i.prototype,"onLeftContRef",[u.a],Object.getOwnPropertyDescriptor(i.prototype,"onLeftContRef"),i.prototype),Object(c.a)(i.prototype,"adjustLayout",[u.a],Object.getOwnPropertyDescriptor(i.prototype,"adjustLayout"),i.prototype),i)},1064:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=15},1065:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}));var i=n(13),r=n(548),o=n.n(r)()((function(e){var t=[e.cdnMp4Url,e.mp4Url,e.cdnWebmUrl,e.webmUrl].filter(Boolean);return Object(i.List)(t)})),a=function(e){return e.endsWith(".mp4")?"video/mp4":e.endsWith(".webm")?"video/webm":void 0}},1072:function(e,t,n){"use strict";n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return x}));var i=n(11),r=n(5),o=n(4),a=n(40),s=n(41),c=n(3),l=n(123),u=n.n(l),d=(n(1159),n(367)),p=n(226),h=n(1044),b=n(1002),f=n(1026),v=n(126),m=n(12),y=function(e){Object(a.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(r.a)(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).ref=Object(c.createRef)(),e.onMouseEnter=function(){e.props.onOptionMouseEnter&&e.props.onOptionMouseEnter(Object(v.a)(e))},e}return Object(o.a)(n,[{key:"componentDidUpdate",value:function(e){e.highlighted!==this.props.highlighted&&this.ref.current&&this.props.highlighted&&this.ref.current.focus()}},{key:"render",value:function(){var e=this.props,t=e.value,n=e.disabled,i=e.selected,r=e.highlighted,o=e.deleted,a=e.text,s=e.children,c=e.ariaLabel,l=e.tooltip;return Object(m.jsxs)("li",{className:u()(p.a,this.props.className),ref:this.ref,"data-value":t,"data-disabled":n,"data-selected":i,"data-highlighted":r,"data-deleted":o,"data-text":a,onMouseEnter:this.onMouseEnter,title:l,role:"option","aria-selected":r,tabIndex:-1,children:[Object(m.jsx)("span",{className:"a11y-visually-hidden",children:c}),Object(m.jsx)("span",{"aria-hidden":"true",children:s})]})}}]),n}(c.Component),j=n(366),g=n(390),O=function(e,t){return e===t||!!e&&!!t&&e.props.value===t.props.value},w=function(e,t){return e.find((function(e){return e.props.value===t}))||null},x=function(e){Object(a.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(r.a)(this,n);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).contextType=void 0,e.state={opened:!1,highlighted:w(e.props.children,e.props.value),selected:w(e.props.children,e.props.value),useTrimmedLabel:!1},e.listBoxId="v3-select-listbox-"+Object(f.a)(),e.listRef=Object(c.createRef)(),e.wrapperRef=Object(c.createRef)(),e.buttonRef=Object(c.createRef)(),e.onItemClick=function(t){for(var n=t.target;n&&!n.hasAttribute("data-value");)n=n.parentElement;if(n){var i=n.getAttribute("data-value");if(null===i)return;var r=w(e.props.children,i);r&&e.updateSelected(r)}},e.toggleOptions=function(){var t;if(e.state.opened||!e.disabled){var n=!e.state.opened;e.setState(Object(i.a)(Object(i.a)({},n?{highlighted:w(e.props.children,e.props.value)}:null),{},{opened:n})),null===(t=e.wrapperRef.current)||void 0===t||t.ownerDocument[n?"addEventListener":"removeEventListener"]("click",e.onWindowClick);var r=e.buttonRef.current;r&&!n&&r.focus()}},e.onBlur=function(){e.props.onBlur&&e.props.onBlur()},e.onFocus=function(){e.state.useTrimmedLabel&&e.setState({useTrimmedLabel:!1}),e.disabled||e.props.onFocus&&e.props.onFocus()},e.onKeyDown=function(t){[b.c,b.b,b.e,b.j].includes(t.keyCode)&&e.handleKnownKeyEvent(t)},e.onKeyUp=function(t){[b.i,b.f].includes(t.keyCode)&&e.handleKnownKeyEvent(t)},e.onOptionMouseEnter=function(t){e.setState({highlighted:t})},e.onWindowClick=function(t){var n,i,r=(null===(n=e.wrapperRef.current)||void 0===n||null===(i=n.ownerDocument.defaultView)||void 0===i?void 0:i.Node)||Node;e.wrapperRef.current&&t.target instanceof r&&(e.wrapperRef.current.contains(t.target)||e.setState({opened:!1}))},e}return Object(o.a)(n,[{key:"componentDidUpdate",value:function(e,t){var n;(this.state.opened&&!t.opened&&this.props.value&&(this.scrollToOption(this.props.value),this.props.onShowOptions&&this.props.onShowOptions()),this.props.children!==e.children&&this.setState({selected:w(this.props.children,this.props.value)}),this.props.isLoading!==e.isLoading)&&this.setState({useTrimmedLabel:!(null!==(n=this.wrapperRef.current)&&void 0!==n&&n.contains(document.activeElement))})}},{key:"componentWillUnmount",value:function(){var e;null===(e=this.wrapperRef.current)||void 0===e||e.ownerDocument.removeEventListener("click",this.onWindowClick)}},{key:"render",value:function(){var e,t,n=this.updateChildrenProps(),r=this.renderSelected(),o="".concat(this.props.ariaLabel+". "||!1).concat((null===(e=this.state.selected)||void 0===e||null===(t=e.props)||void 0===t?void 0:t.ariaLabel)||"").concat(this.state.useTrimmedLabel?"":" Use Enter or Space to toggle the list. Use Up or Down to select another option.");return Object(m.jsxs)("div",{"aria-disabled":this.disabled,ref:this.wrapperRef,id:this.props.id,className:u()("rhyme-select__v3",this.props.type,this.props.className&&this.props.className,this.state.opened&&"opened",this.disabled&&"disabled"),"data-value":r,onFocus:this.onFocus,onBlur:this.onBlur,children:[Object(m.jsx)("button",Object(i.a)(Object(i.a)({className:u()("selected",p.a),onClick:this.toggleOptions,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"aria-controls":this.listBoxId,ref:this.buttonRef,"aria-haspopup":"listbox","aria-expanded":this.state.opened,disabled:this.context.isDisabled||this.props.disabled},this.props.id&&{id:"".concat(this.props.id,"-button")}),{},{children:this.props.selectedElement||Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("span",{className:"a11y-visually-hidden",children:this.props.isLoading?this.props.loadingText:o}),Object(m.jsx)("div",{className:"value","aria-hidden":"true",children:r}),Object(m.jsx)("div",{className:"arrow",onClick:this.toggleOptions})]})})),Object(m.jsx)("ul",{tabIndex:-1,ref:this.listRef,id:this.listBoxId,className:"options",role:"listbox",onClick:this.onItemClick,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"aria-label":"".concat(this.props.ariaLabel||""),children:n}),this.props.isLoading&&Object(m.jsx)(j.a,{theme:"dark"}),this.props.isAsync&&Object(m.jsx)(g.a,{children:o})]})}},{key:"disabled",get:function(){return this.context.isDisabled||this.props.disabled||this.props.isLoading}},{key:"renderSelected",value:function(){var e=this.props.selectedFilter?this.props.selectedFilter:function(e){return e};return this.state.selected?e(this.state.selected.props.children):this.props.deletedOnMissingOption?"- Deleted -":this.props.value?e(this.props.value):this.props.placeholder?this.props.placeholder:""}},{key:"scrollToOption",value:function(e){if(this.listRef.current){var t=this.listRef.current.querySelector('li[data-value="'.concat(e,'"]'));if(t){var n=t?t.offsetTop:0;this.listRef.current.scrollTop=n}}}},{key:"updateSelected",value:function(e){var t=this;e.props.disabled||(this.props.onChange(e.props.value),this.setState({highlighted:e},(function(){t.toggleOptions()})))}},{key:"handleKnownKeyEvent",value:function(e){if(e.keyCode!==b.j&&e.preventDefault(),!this.disabled){var t=this.state.highlighted,n=this.props.children;switch(e.keyCode){case b.b:if(!this.state.opened){this.toggleOptions();break}var i=Object(h.a)(n,t,0,n.length-1,O);this.setState({highlighted:i});break;case b.c:if(!this.state.opened){this.toggleOptions();break}this.setState({highlighted:Object(h.a)(n,t,n.length-1,0,O)});break;case b.e:case b.i:this.state.opened&&t?this.updateSelected(t):this.toggleOptions();break;case b.f:this.state.opened&&this.toggleOptions();break;case b.j:this.setState({opened:!1})}}}},{key:"updateChildrenProps",value:function(){var e=this;return c.Children.map(this.props.children,(function(t){var n=Object(i.a)(Object(i.a)({},t.props),{},{highlighted:e.state.opened&&O(t,e.state.highlighted),selected:e.state.opened&&O(t,e.state.selected),onOptionMouseEnter:e.onOptionMouseEnter});return Object(c.cloneElement)(t,n)}))}}]),n}(c.Component);x.defaultProps={type:"default"},x.contextType=d.a},1089:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i,r=n(14),o=n(28),a=n(21),s=n(44),c=n(73),l=n(381),u=n(329),d=function(e){return new Promise((function(t,n){return e.onstatechange=function(e){switch(e){case c.a.Connected:return t();case c.a.Disconnecting:case c.a.Disconnected:return n(new Error("Client could not connect. State ".concat(e)))}}}))},p=function(e){return new Promise((function(t){return e.onfilesystem=function(e,n){return t(new l.a(e,n))}}))},h=function(e){return(i=i||Object(a.a)(Object(r.a)().mark((function e(t){var n,i,a,c,l,h,b,f,v=arguments;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=v.length>1&&void 0!==v[1]?v[1]:0,i=v.length>2&&void 0!==v[2]?v[2]:0,e.next=4,Object(u.a)(t);case 4:return a=e.sent,c=new s.WebSocketTunnel(Object(u.b)(t,a,n,i)),(l=new s.Client(c)).connect(),e.next=10,Promise.all([d(l),p(l)]);case 10:return h=e.sent,b=Object(o.a)(h,2),f=b[1],e.abrupt("return",{client:l,tunnel:c,token:a,filesystem:f});case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},1090:function(e,t,n){"use strict";n(1038);var i=n(1042);n.d(t,"a",(function(){return i.a}))},1091:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(3),r=n(368),o=function(){var e=Object(i.useRef)("");return e.current=e.current||Object(r.a)(),e.current}},1092:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var i,r,o=n(5),a=n(4),s=n(40),c=n(41),l=n(364),u=n(365),d=n.n(u),p=n(3),h=n(123),b=n.n(h),f=n(367),v=n(281),m=n(85),y=n(63),j=n(1064),g=(n(1167),n(12)),O=(r=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var i;return Object(o.a)(this,n),(i=t.call(this,e)).contextType=void 0,i._track=void 0,i._trackRect={left:0,width:0},i._docMouseMove=void 0,i._docMouseUp=void 0,i.computeElapsedTime=function(e){return e/i.props.duration*100},i.computeRoundedElapsedTime=function(e){return Math.round(i.computeElapsedTime(e))},i.composeVideoDurationLabel=function(e){return"".concat(Object(y.f)(1e3*e)," of ").concat(Object(y.f)(1e3*i.props.duration))},i.onKeyDown=function(e){i.disabled||("ArrowDown"===e.key||"Down"===e.key||"PageDown"===e.key?i.props.onSeek(Math.max(i.props.currentTime-j.a,0)):"ArrowUp"!==e.key&&"Up"!==e.key&&"PageUp"!==e.key||i.props.onSeek(Math.min(i.props.currentTime+j.a,i.props.duration)),["ArrowUp","ArrowDown","Down","Up","PageUp","PageDown"].forEach((function(t){t===e.key&&(e.preventDefault(),e.stopPropagation(),setTimeout((function(){var e=i.composeVideoDurationLabel(i.props.currentTime);m.b.say("Skipping video to ".concat(e,"."),m.a.Assertive)}),100))})))},i.state={tooltipVisible:!1,tooltipTimestamp:0,tipHold:!1},i}return Object(a.a)(n,[{key:"componentDidMount",value:function(){this._onMouseMove(),this._onTipRelease()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousemove",this._docMouseMove),document.removeEventListener("mouseup",this._docMouseUp)}},{key:"onProgressClick",value:function(e){var t=e.clientX;if(this._track&&isFinite(this.props.duration)){var n=this._track.getBoundingClientRect(),i=n.left,r=n.width,o=t-i;this._onSeek(this.props.duration*(o/r))}}},{key:"onMouseEnter",value:function(e){var t=e.clientX;this._trackRect=this._getTrackRect(),this.setState({tooltipVisible:!0,tooltipTimestamp:this._calculateTooltipTimestamp(t)})}},{key:"onMouseLeave",value:function(){this.state.tipHold||this.setState({tooltipVisible:!1})}},{key:"onTipHold",value:function(){this.setState({tipHold:!0}),this._trackRect=this._getTrackRect(),document.body.style.cursor="grabbing"}},{key:"render",value:function(){var e=this;return Object(g.jsxs)("div",{className:b()("video-progress-bar ",v.b,this.props.className),tabIndex:this.disabled?-1:0,onKeyDown:this.onKeyDown,"aria-label":"Video progress bar. Press Up or Down arrows to skip forwards or backwards. You can use Page Up and Page Down keys as well",role:"slider","aria-valuemin":0,"aria-valuenow":this.computeRoundedElapsedTime(this.props.currentTime),"aria-valuemax":100,"aria-valuetext":this.composeVideoDurationLabel(this.props.currentTime),children:[Object(g.jsx)("div",{className:"tooltip"+(this.state.tooltipVisible?" visible":""),style:{left:this._durationPerc(this.state.tooltipTimestamp)},"aria-hidden":"true",children:Object(y.d)(this.state.tooltipTimestamp*y.a.Sec)}),Object(g.jsx)("div",{className:"track-cont",children:Object(g.jsx)("div",{className:"track",ref:function(t){return e._track=t},onClick:this.onProgressClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,children:Object(g.jsx)("div",{style:{width:this._durationPerc(this.props.currentTime)},className:"progress",children:Object(g.jsx)("div",{className:"tip"+(this.state.tipHold?" hold":""),onMouseDown:this.onTipHold})})})})]})}},{key:"disabled",get:function(){return this.context.isDisabled||this.props.disabled}},{key:"_durationPerc",value:function(e){return this.computeElapsedTime(e)+"%"}},{key:"_calculateTooltipTimestamp",value:function(e){if(this._track){var t=this._track.clientWidth,n=this._trackRect.left,i=Math.max(e-n,0)/t;return Math.round(this.props.duration*i*1e3)/1e3}return 0}},{key:"_onMouseMove",value:function(){var e=this;document.addEventListener("mousemove",this._docMouseMove=function(t){var n=t.clientX;if(e.state.tipHold){var i=e._trackRect,r=(n-i.left)/i.width,o=e.props.duration*r;0<=o&&o<=e.props.duration&&(e.props.onDrag(),e._onSeek(o))}e.state.tooltipVisible&&e.setState({tooltipTimestamp:e._calculateTooltipTimestamp(n)})})}},{key:"_onTipRelease",value:function(){var e=this;document.addEventListener("mouseup",this._docMouseUp=function(){e.setState({tipHold:!1,tooltipVisible:!1}),document.body.style.cursor="default",e.props.onRelease()})}},{key:"_getTrackRect",value:function(){if(this._track){var e=this._track.getBoundingClientRect();return{left:e.left,width:e.width}}return{left:0,width:0}}},{key:"_onSeek",value:function(e){this.disabled||this.props.onSeek(e)}}]),n}(p.PureComponent),r.contextType=f.a,i=r,Object(l.a)(i.prototype,"onProgressClick",[d.a],Object.getOwnPropertyDescriptor(i.prototype,"onProgressClick"),i.prototype),Object(l.a)(i.prototype,"onMouseEnter",[d.a],Object.getOwnPropertyDescriptor(i.prototype,"onMouseEnter"),i.prototype),Object(l.a)(i.prototype,"onMouseLeave",[d.a],Object.getOwnPropertyDescriptor(i.prototype,"onMouseLeave"),i.prototype),Object(l.a)(i.prototype,"onTipHold",[d.a],Object.getOwnPropertyDescriptor(i.prototype,"onTipHold"),i.prototype),i)},1093:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(3);function r(e){var t=Object(i.useRef)();return Object(i.useEffect)((function(){t.current=e}),[e]),t.current}},1096:function(e,t,n){"use strict";n.d(t,"a",(function(){return ye}));var i=n(1136),r=n(11),o=n(5),a=n(4),s=n(126),c=n(40),l=n(41),u=n(123),d=n.n(u),p=n(44),h=n(3),b=n(1007),f=n(192),v=n(1),m=n(1025),y=n(376),j=n(167),g=n(0),O=n(377),w=n(73),x=n(152),k=n(1049),C=n(366),A=n(85),_=n(1062),S=n(161),P=n(25),E=n(67),R=n(281),D=n(12),I={position:"fixed",height:"0",width:"0",opacity:0},M=Object(h.memo)(Object(h.forwardRef)((function(e,t){var n=Object(h.useRef)(null);return function(e){Object(h.useLayoutEffect)((function(){var t=e.current;if(t){var n,i=Object(S.a)(["keydown","keyup","keypress"]);try{for(i.s();!(n=i.n()).done;){var r=n.value;t.addEventListener(r,(function(e){(e.isComposing||"~"===e.key[0]&&e.key.length>0)&&e.stopImmediatePropagation()}),{capture:!0})}}catch(o){i.e(o)}finally{i.f()}/safari/i.test(navigator.userAgent)&&t.addEventListener("input",(function(e){"insertCompositionText"===e.inputType&&e.stopImmediatePropagation()})),t.addEventListener("keypress",(function(){t.value=""})),t.addEventListener("compositionend",(function(e){e.data&&(t.value="")})),t.addEventListener("input",(function(e){e.data&&!e.isComposing&&(t.value="")})),t.addEventListener("focus",(function(){window.setTimeout((function(){t.click(),t.select()}))}))}}),[e.current])}(n),function(e){var t=Object(E.e)(P.v);Object(h.useEffect)((function(){var n,i=document.activeElement===e.current;if(t&&!i)null===(n=e.current)||void 0===n||n.focus();else if(!t&&i){var r;null===(r=e.current)||void 0===r||r.blur()}}),[t,e.current])}(n),function(){var e=Object(E.d)();Object(R.f)("cloudDesktop.loseFocus",Object(h.useCallback)((function(){e(new v.Hb(g.wb.KeyboardFocused))}),[e]))}(),Object(h.useLayoutEffect)((function(){t.current=n.current}),[n.current,t]),Object(D.jsx)("textarea",Object(r.a)({"aria-hidden":"true",tabIndex:-1,style:I,ref:n},Object(R.e)("ctrl","ctrl ctrl")))}))),N=n(28),T=n(124),V=n(27),L=function(){return new Map(Object.entries(Object(V.d)(V.a.CloudWorkspaceLoadingProgress)||{}))},F=n(48);function z(e,t){var n=Object(h.useRef)();Object(h.useEffect)((function(){n.current=e}),[e]),Object(h.useEffect)((function(){if(null!==t){var e=setInterval((function(){return n.current&&(null===n||void 0===n?void 0:n.current())}),t);return function(){return clearInterval(e)}}}),[t])}var B,W,U,H=n(63),X=n(1026),K=n(1050),q=(n(1151),function(e){var t=e.children;return Object(D.jsx)("div",{className:"sc-screen-overlay",children:t})}),Y=n(1508),Q=n(1530),G=(n(1152),["children","variant"]),Z=function(e){var t=e.children,n=e.variant,i=void 0===n?"light":n,o=Object(T.a)(e,G);return Object(D.jsx)("kbd",Object(r.a)(Object(r.a)({className:d()("hotkey",i)},o),{},{children:t}))},J=(n(1153),function(e){return e.WatchVideo="WatchVideo",e.Hotkeys="Hotkeys",e.ExpandInstructions="ExpandInstructions",e.ReadySoon="ReadySoon",e.ExceededTime="ExceededTime",e.Corrupted="Corrupted",e}({})),$=10*H.a.Sec,ee=$+30*H.a.Sec,te=function(e){var t=Object(h.useState)(null),n=Object(N.a)(t,2),i=n[0],r=n[1];return Object(h.useEffect)((function(){return r(e.estimationTime>H.a.Min?{First:J.WatchVideo,Second:J.Hotkeys,Third:J.ExpandInstructions,Fourth:J.ReadySoon,Last:J.ExceededTime,Corrupted:J.Corrupted}:{First:J.ReadySoon,Second:J.WatchVideo,Last:J.ExceededTime,Corrupted:J.Corrupted})}),[e.estimationTime]),i},ne=Object(h.memo)((function(e){var t=e.currentHint,n=e.estimationTime,i=Object(E.e)(P.I);return t===J.Corrupted?Object(D.jsxs)(D.Fragment,{children:["This could take up to ".concat(Object(H.f)(n,!0),"\u2014"),Object(D.jsx)("br",{}),"".concat(i?"We\u2019re preparing your cloud workspace again":"While we prepare your cloud workspace your progress may be lost")]}):t===J.ExceededTime?Object(D.jsx)(D.Fragment,{children:"It's taking longer than expected"}):t===J.ReadySoon?Object(D.jsx)(D.Fragment,{children:"Hold tight\u2014your cloud workspace will be ready soon"}):t===J.ExpandInstructions?Object(D.jsx)(D.Fragment,{children:"You can expand the instruction window to watch the video in full view"}):t===J.Hotkeys?Object(D.jsxs)(D.Fragment,{children:["Try out the keyboard shorcuts you can use\u2014",Object(D.jsx)("br",{}),"Press and hold ",Object(D.jsx)(Z,{children:"shift"})," + ",Object(D.jsx)("span",{className:"a11y-visually-hidden",children:"question mark"}),Object(D.jsx)(Z,{"aria-hidden":"true",children:"?"})," to see the list and start exploring"]}):t===J.WatchVideo?Object(D.jsxs)(D.Fragment,{children:[n>H.a.Min&&Object(D.jsxs)(D.Fragment,{children:["This could take ".concat(Object(H.f)(n,!0)," or longer\u2014"),Object(D.jsx)("br",{})]}),"Start watching your first video while you wait"]}):null})),ie=Object(h.memo)((function(e){var t=e.currentTime,n=e.totalTime,i=e.vm,r=te(i),o=Object(h.useState)(null),a=Object(N.a)(o,2),s=a[0],c=a[1];return Object(h.useEffect)((function(){return null!==r&&void 0!==r&&r.Corrupted&&i.state===g.sb.Corrupted?c(r.Corrupted):null!==r&&void 0!==r&&r.Last&&n>0&&t>=n?c(r.Last):null!==r&&void 0!==r&&r.Fourth&&n>0&&t>n/2?c(r.Fourth):null!==r&&void 0!==r&&r.Third&&t>ee?c(r.Third):null!==r&&void 0!==r&&r.Second&&t>$?c(r.Second):null!==r&&void 0!==r&&r.First&&t>=0?c(r.First):void 0}),[i.state,t,n,r]),Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)("div",{className:"screen-hint","aria-hidden":"true",children:Object(D.jsx)(Y.a,{mode:"out-in",children:Object(D.jsx)(Q.a,{classNames:"fade",addEndListener:function(e,t){return e.addEventListener("transitionend",t,!1)},children:Object(D.jsx)("div",{className:"screen-hint__content",children:Object(D.jsx)(b.a,{color:"invertBody",children:Object(D.jsx)(ne,{currentHint:s,estimationTime:i.estimationTime})})})},s)})}),t>0&&Object(D.jsx)("span",{className:"a11y-visually-hidden",children:Object(D.jsx)(ne,{currentHint:s,estimationTime:i.estimationTime})},s)]})})),re=(n(1154),["status"]),oe=function(e){return e.Tick="Tick",e.Reset="Reset",e.UpdateProgress="UpdateProgress",e.CompleteProgress="CompleteProgress",e.UpdateProgressAnnounceValue="UpdateProgressAnnounceValue",e.UpdateEstimationTime="UpdateEstimationTime",e}(oe||{}),ae=.9,se=10*H.a.Sec,ce={elapsedTime:0,estimationTime:0,progress:0,progressAnnounceValue:"",delay:0},le=function(e,t){switch(t.type){case oe.Tick:return Object(r.a)(Object(r.a)({},e),{},{elapsedTime:e.elapsedTime+H.a.Sec});case oe.Reset:return Object(r.a)(Object(r.a)({},e),ce);case oe.UpdateProgress:return Object(r.a)(Object(r.a)(Object(r.a)({},e),0===e.progress&&{progressAnnounceValue:"started"}),{},{progress:Math.min(Object(X.c)(e.progress+.01),ae)});case oe.CompleteProgress:return Object(r.a)(Object(r.a)({},e),{},{progress:1,progressAnnounceValue:"completed"});case oe.UpdateProgressAnnounceValue:return Object(r.a)(Object(r.a)({},e),e.progress>0&&e.progress<=ae&&{progressAnnounceValue:"".concat(Math.round(100*e.progress),"%")});case oe.UpdateEstimationTime:return Object(r.a)(Object(r.a)(Object(r.a)({},e),e.progress<=ae&&{delay:(n=t.payload,i=e.progress,Math.round(n/(100*Object(X.c)(ae-i))))}),{},{estimationTime:t.payload+e.elapsedTime});default:throw new Error("invalid action")}var n,i},ue=function(e){return function(){var t,n=(t=e.id,L().get(t));if(n&&n.status===e.state){n.status;return Object(T.a)(n,re)}return ce}},de=function(e){var t=e.vm,n=e.visible,i=ue(t),r=Object(h.useReducer)(le,ce,i),o=Object(N.a)(r,2),a=o[0],s=o[1],c=Object(h.useState)(n),l=Object(N.a)(c,2),u=l[0],d=l[1],p=Object(E.e)(P.A),f=a.elapsedTime,v=a.estimationTime,m=a.progress,y=a.progressAnnounceValue,j=a.delay,g=Object(h.useCallback)((function(){return d(!1)}),[]),O=Object(h.useCallback)((function(){return function(e){var t=L();return t.has(e)&&t.delete(e),t.size?Object(V.e)(V.a.CloudWorkspaceLoadingProgress,Object.fromEntries(t)):Object(V.c)(V.a.CloudWorkspaceLoadingProgress)}(t.id)}),[t.id]),w=Object(h.useCallback)((function(){n&&m<=ae&&function(e,t){var n=L();n.set(e,t),Object(V.e)(V.a.CloudWorkspaceLoadingProgress,Object.fromEntries(n))}(t.id,{progress:m,elapsedTime:f,estimationTime:v,delay:j,status:t.state})}),[t.id,t.state,n,m,f,v,j]),x=Object(F.k)(),k=Object(h.useCallback)((function(e){x({action:e,obj:"cloud workspace",workspace_id:t.id,workspace_status:t.state,workspace_type:"".concat((null===p||void 0===p?void 0:p.os)||"no template")})}),[t.id,t.state,p,x]);return Object(h.useEffect)((function(){u&&!n?(s({type:oe.CompleteProgress}),O(),k(F.b.loaded)):!u&&n?(d(!0),s({type:oe.Reset}),k(F.b.loading)):u&&k(F.b.loading)}),[n,u,O,k]),Object(h.useEffect)((function(){window.addEventListener("beforeunload",w)}),[w]),Object(h.useEffect)((function(){f>0&&f%se===0&&s({type:oe.UpdateProgressAnnounceValue})}),[f]),Object(h.useEffect)((function(){t.estimationTime!==v&&s({type:oe.UpdateEstimationTime,payload:t.estimationTime})}),[t.estimationTime,v]),z((function(){return s({type:oe.UpdateProgress})}),u&&m<ae?j:null),z((function(){return s({type:oe.Tick})}),u?H.a.Sec:null),u?Object(D.jsx)(q,{children:Object(D.jsxs)("div",{className:"screen-loader",children:[Object(D.jsxs)("div",{className:"screen-progress",children:[Object(D.jsx)(K.a,{type:"thin",progress:m,color:"var(--blue600)",onComplete:g,className:"screen-progress__bar"}),Object(D.jsx)("span",{className:"screen-progress__label","aria-hidden":"true",children:"".concat(Math.round(100*m),"%")})]}),Object(D.jsx)("span",{className:"a11y-visually-hidden","aria-live":"polite","aria-atomic":"true",children:"Preparing your cloud workspace: ".concat(y)}),Object(D.jsxs)("div",{className:"screen-loader__body","aria-live":n?"polite":"off","aria-atomic":"true",children:[Object(D.jsx)(b.a,{variant:"h1semibold",color:"invertBody",className:"screen-loader__title",children:"Preparing your cloud workspace..."}),Object(D.jsx)(ie,{vm:t,currentTime:f,totalTime:v})]})]})}):null},pe=["title","titleId"];function he(){return he=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},he.apply(this,arguments)}function be(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fe(e,t){var n=e.title,i=e.titleId,r=be(e,pe);return h.createElement("svg",he({width:98,height:98,viewBox:"0 0 98 98",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},r),n?h.createElement("title",{id:i},n):null,B||(B=h.createElement("path",{d:"M28.747 68.437h27.91a20.703 20.703 0 0020.58-22.928A25.766 25.766 0 0049.47 22.622l-5.043.408A30.277 30.277 0 0016.68 53.206v3.164a12.046 12.046 0 0012.067 12.067z",fill:"#0056D2"})),W||(W=h.createElement("path",{d:"M49 14.761L88.139 83.24H9.86L49 14.76zM49 39.22v22.826",stroke:"#fff",strokeWidth:.81,strokeLinejoin:"round"})),U||(U=h.createElement("path",{d:"M49 73.46a3.267 3.267 0 100-6.534 3.267 3.267 0 000 6.533z",stroke:"#fff",strokeWidth:.81,strokeLinejoin:"round"})))}var ve=h.forwardRef(fe),me=(n.p,n(1155),function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).wrapper=void 0,e.body=void 0,e.displayScale=1,e.client=void 0,e.state={loading:!e.props.vmAccessLimitReached,zoomPointerCenter:{x:0,y:0}},e.sinkRef=Object(h.createRef)(),e.controlsBound=!1,e.disconnectHandler=void 0,e.connectHandler=void 0,e.screenshotCanvas=document.createElement("canvas"),e.moveZoomPointerCenter=Object(k.b)(Object(s.a)(e)).moveCenter,e.getBodyRef=function(t){t&&(e.body=t)},e.onMouseEnter=function(){e.props.dispatch(new v.Hb(g.wb.MouseActive)),e.controlsBound||e.state.loading||e.bindControls()},e.onMouseLeave=function(){var t;e.props.dispatch(new v.Hb(g.wb.MouseFocused)),null===(t=e.client)||void 0===t||t.releasePressedKeys()},e.updateResolution=function(t,n){e.props.vm.id&&e.props.dispatch(new v.Yb(e.props.vm.id,t,n))},e.onKeyDown=function(t){e.props.onKeyDown&&e.props.onKeyDown(t),e.onKey(!0,t)},e.onKeyUp=function(t){e.props.onKeyUp&&e.props.onKeyUp(t),e.onKey(!1,t)},e.mouseHandler=function(t){if(e.props.onMouseEvent&&e.props.onMouseEvent(t),e.props.mouseDisabled)console.log("Mouse is disabled. Skip send mouse event");else if(e.client){var n=Object.assign({x:1,y:1},t);e.isBroadcastingCamera&&(n.left=!1,n.right=!1,n.middle=!1);var i=e.client.getDisplay(),r=i?i.getScale():1,o=r,a=r;e.props.scaleRatio&&(o=e.props.scaleRatio.scaleX,a=e.props.scaleRatio.scaleY),e.client.scaleX=o,e.client.scaleY=a,n.x/=o,n.y/=a,e.props.showViewbox&&e.moveZoomPointerCenter(n),n.x>e.props.width||n.y>e.props.height||n.x<0||n.y<0||e.client.sendMouseState(n)}else console.error("Failed to send mouse state over null client")},e}return Object(a.a)(n,[{key:"isBroadcastingCamera",get:function(){return!!this.props.cameraStream}},{key:"isVmStarting",get:function(){return!this.props.vmAccessLimitReached&&this.props.vm.stateChangeReason!==g.tb.OtherVmRequested&&(Object(x.b)(this.props.vm.state)||Object(x.c)(this.props.vm.state))}},{key:"userRequestedExcessiveVMs",get:function(){return this.props.vm.stateChangeReason===g.tb.OtherVmRequested&&Object(x.c)(this.props.vm.state)}},{key:"zoomPointerDimensions",get:function(){if(!this.props.viewboxSize)return{width:0,height:0};var e=this.props.width/this.props.viewboxSize.width,t=this.props.height/this.props.viewboxSize.height;return{width:this.props.vm.width/e,height:this.props.vm.height/t}}},{key:"componentDidMount",value:function(){this.props.vm.state===g.sb.Ready&&this.initClient(this.props)}},{key:"componentDidUpdate",value:function(e){e.vm.connection.connectionId!==this.props.vm.connection.connectionId&&this.props.vm.state===g.sb.Ready&&this.initClient(this.props),this.props.cameraStream===e.cameraStream&&this.props.width===e.width&&this.props.height===e.height||this.handleCamera(),e.readOnly===this.props.readOnly&&e.active===this.props.active||(this.props.readOnly?this.unbindControls():this.props.active&&this.bindControls());var t=!Object(x.c)(e.vm.state)&&Object(x.c)(this.props.vm.state),n=!Object(x.d)(e.vm.state)&&Object(x.d)(this.props.vm.state);!t&&!n||this.props.vmAccessLimitReached||(this.removeScreenContent(),this.destroyCurrentClient(),this.setState({loading:!0}))}},{key:"componentWillUnmount",value:function(){this.destroyCurrentClient()}},{key:"isScreenActive",value:function(){return this.controlsBound}},{key:"takeScreenshot",value:function(){if(!this.body)return null;var e=null;if(this.isBroadcastingCamera){var t=this.body.getElementsByTagName("video")[0];if(t)this.screenshotCanvas.width=this.props.width,this.screenshotCanvas.height=this.props.height,this.screenshotCanvas.getContext("2d").drawImage(t,0,0,this.props.width,this.props.height),e=this.screenshotCanvas.toDataURL("image/png")}else{var n=Object(j.a)().getRemoteClient(this.props.vm.id);n&&(e=n.toDataURL("image/png",1,this.props.width,this.props.height,!1))}var i=null;return e&&(i=new Blob([m.a.toArrayBuffer(e)],{type:"image/png"})),i}},{key:"render",value:function(){var e=this,t=this.props.showViewbox&&!this.props.readOnly,n=this.props.vm.id&&this.props.vm.state===g.sb.Ready,i=this.props.vm.purposeType===g.rb.Attendee,r=d()("sc-screen",!this.isScreenActive()&&"sc-screen-no-cursor",this.state.loading&&"loading"),o=Object.assign({},this.props.style,{width:this.props.width,height:this.props.height}),a=d()("screen-wrapper",this.props.readOnly&&"read-only"),s=n&&t&&this.props.viewboxSize?this.renderViewbox():null;return Object(D.jsxs)("div",{className:a,style:o,ref:function(t){return e.wrapper=t},onClick:this.props.onClick,children:[this.userRequestedExcessiveVMs&&this.props.template&&this.props.template.os!==g.N.Docker&&Object(D.jsxs)(q,{children:[Object(D.jsx)(b.a,{variant:"h1semibold",color:"invertBody",children:"Cloud Workspace is unavailable"}),Object(D.jsx)(b.a,{color:"invertBody",className:"overlay-body",children:"We've detected multiple Cloud Workspaces activated under your account. A new Workspace will become available in 20 minutes. You still have full access to the instructional videos."})]}),this.props.vmAccessLimitReached?Object(D.jsxs)(q,{children:[Object(D.jsx)(ve,{}),Object(D.jsx)(b.a,{variant:"h1semibold",color:"invertBody",children:"Your session timed out"}),Object(D.jsxs)(b.a,{color:"invertBody",children:["Your cloud workspace has been unassigned but you can still",Object(D.jsx)("br",{})," watch the instructor\u2019s videos"]})]}):Object(x.d)(this.props.vm.state)?Object(D.jsx)(q,{children:Object(D.jsx)(b.a,{variant:"h1semibold",color:"invertBody",children:"Your cloud workspace has been terminated"})}):null,Object(D.jsxs)("div",{"aria-live":"polite","aria-atomic":"true",children:[this.state.loading&&n&&Object(D.jsxs)(q,{children:[Object(D.jsx)("span",{className:"a11y-visually-hidden",children:"Connecting to your cloud workspace..."}),Object(D.jsx)(b.a,{variant:"h1semibold",color:"invertBody","aria-hidden":"true",children:"Connecting..."})]}),!i&&this.isVmStarting&&Object(D.jsxs)(q,{children:[Object(D.jsx)(C.a,{}),Object(D.jsx)(b.a,{variant:"h1semibold",color:"invertBody",children:"Starting your cloud workspace"}),Object(D.jsx)(b.a,{color:"invertBody",children:"Please wait!"})]})]}),i&&this.props.vm.estimationTime>-1&&Object(D.jsx)(de,{vm:this.props.vm,visible:this.isVmStarting||Object(x.a)(this.props.vm.state)}),Object(D.jsx)(M,{ref:this.sinkRef}),Object(D.jsx)("div",{ref:this.getBodyRef,className:r}),s,this.props.children]})}},{key:"renderViewbox",value:function(){return Object(D.jsx)(_.a,Object(r.a)(Object(r.a)({isExpanded:this.props.isViewExpanded||!1,maxWidth:this.props.width,maxHeight:this.props.height},this.zoomPointerDimensions),this.state.zoomPointerCenter))}},{key:"bindControls",value:function(){this.client?this.isBroadcastingCamera||this.props.readOnly||this.controlsBound||(this.bindMouseHandler(),this.client.unlockMouse(),this.isBroadcastingCamera||(this.bindKeyboardHandler(),this.client.unlockKeyboard()),this.controlsBound=!0):console.error("Failed to set control of client input")}},{key:"unbindControls",value:function(){this.client?(this.unbindMouseHandler(),this.unbindKeyboardHandler(),this.client.lockMouse(),this.client.lockKeyboard(),this.controlsBound=!1):console.error("Failed to unset control of client input")}},{key:"destroyCurrentClient",value:function(){this.unbindControls(),Object(j.a)().releaseClient(this.props.vm.id),this.client&&(this.client.off(y.b,this.disconnectHandler),this.client.off(y.a,this.connectHandler),this.client.disconnect(),this.client=null)}},{key:"initClient",value:function(e){var t=this;if(e.vm){this.client&&this.destroyCurrentClient();var n=e.vm.connection;if(n.connectionId){var r=Object(j.a)();this.client=r.createRemoteClient(e.vm.id,n,this.sinkRef.current);var o=function(){t.client&&(t.props.dispatch(new O.b(w.a.Disconnected,p.Tunnel.State.CLOSED)),t.props.dispatch(new O.c(t.props.vm.id,t.client)))};this.client.on(y.a,this.connectHandler=function(){var n,i;t.props.dispatch(new v.c(e.vm.connection)),A.b.say("Cloud workspace is connected. But ".concat(Object(f.a)({newSentence:!1})," You can also slow down automatic notification hiding and automatic video progress in the settings panel."),A.a.Assertive),null===(n=e.onConnect)||void 0===n||n.call(e,t.client),t.props.track({action:"connected",obj:F.d,vm_id:t.props.vm.id,state:t.props.vm.state,workspace_type:"".concat(t.props.templateOS||"no workspace")}),t.attachScreen(t.client),t.handleCamera(),t.setState({loading:!1},(function(){return t.bindControls()})),null===(i=t.client)||void 0===i||i.once(y.b,o)}),this.client.on(y.b,this.disconnectHandler=function(n){var i;console.log("DISCONNECTED event fired"),A.b.say("Cloud workspace is disconnected.",A.a.Assertive),null===(i=e.onDisconnect)||void 0===i||i.call(e,n),t.props.track({action:"disconnected",obj:F.d,vm_id:t.props.vm.id,state:t.props.vm.state,workspace_type:"".concat(t.props.templateOS||"no workspace"),error:n}),t.setState({loading:!0}),t.unbindControls()}),this.client.connected()?console.log("Client already connected"):(this.client.connect(),new Promise((function(e,n){var i;null===(i=t.client)||void 0===i||i.once(y.a,e),setTimeout(n,1e4)})).catch(o),this.client.on(y.j,(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.props.dispatch(Object(i.a)(O.b,n))})),this.setState({loading:!0}))}}else console.error("No cloud workspace data")}},{key:"attachScreen",value:function(e){if(this.body&&this.wrapper){for(var t=this.body,n=Array.prototype.slice.call(t.children);n.length;){var i=n.pop();i.parentNode.removeChild(i)}this.wrapper.onmouseenter=this.onMouseEnter,this.wrapper.onmouseleave=this.onMouseLeave;var r=e.getDisplay();if(r){var o=this.props.width/this.props.vm.width;r.scale(o),this.displayScale=r.getScale(),r.onresize=this.updateResolution;var a=r.getWidth(),s=r.getHeight();this.updateResolution(a,s);var c=r.getElement();this.removeScreenContent(),t.appendChild(c)}}else console.error("Failed to obtain reference of body and/or wrapper")}},{key:"handleCamera",value:function(){if(this.body)if(this.isBroadcastingCamera){var e=this.body.getElementsByTagName("video")[0],t=e?e.parentElement:null;e&&t&&t.removeChild(e);var n=this.createVideoElement(),i=n?this.body.getElementsByTagName("canvas")[0]:null,r=i?i.parentElement:null;r&&n&&(n.width=this.props.width,n.height=this.props.height,r.appendChild(n)),this.client&&this.unbindControls()}else{var o=this.body.getElementsByTagName("video")[0],a=o?o.parentElement:null;a&&o&&a.removeChild(o),this.client&&this.bindControls()}}},{key:"createVideoElement",value:function(){if(!this.props.cameraStream)return null;var e=document.createElement("video");return e.autoplay=!0,e.srcObject=this.props.cameraStream,e}},{key:"bindKeyboardHandler",value:function(){this.client?(this.client.on(y.d,this.onKeyDown),this.client.on(y.e,this.onKeyUp),console.log("Bind keyboard handler")):console.error("Failed to bind keyboard handler to null remote client")}},{key:"unbindKeyboardHandler",value:function(){this.client?(this.client.off(y.d,this.onKeyDown),this.client.off(y.e,this.onKeyUp),console.log("Unbind keyboard handler")):console.warn("Failed to unbind keyboard handler from a null remote client")}},{key:"bindMouseHandler",value:function(){this.client?(this.client.on(y.f,this.mouseHandler),this.client.on(y.h,this.mouseHandler),this.client.on(y.g,this.mouseHandler)):console.error("Failed to bind mouse handler to null remote client")}},{key:"unbindMouseHandler",value:function(){this.client?(this.client.off(y.f,this.mouseHandler),this.client.off(y.h,this.mouseHandler),this.client.off(y.g,this.mouseHandler)):console.warn("Failed to unbind mouse handler from a null remote client")}},{key:"onKey",value:function(e,t){if((this.props.disableKeys||[]).indexOf(t)>=0)console.log("Key is disabled",t);else if(this.client){var n=this.client.getKeyboard();if(n)if((n.modifiers.ctrl||n.modifiers.meta)&&n.modifiers.shift&&65505===t)console.log("HOTKEY detected (pressed: ".concat(e,")"));else if(!n.modifiers.alt||65289!==t&&96!==t){var i=[65511,65512].includes(t)?65507:t;this.client.sendKeyEvent(e,i)}else console.log("SWITCH TAB combination (pressed: ".concat(e,")"));else console.log("Guac keyboard is not defined")}else console.error("Failed to send key over null client (pressed: ".concat(e,")"),t)}},{key:"removeScreenContent",value:function(){if(this.body)for(var e=0;e<this.body.children.length;e+=1)this.body.removeChild(this.body.children[e])}}]),n}(h.Component));me.defaultProps={disableKeys:[],cursorScale:1,mouseDisabled:!1};var ye=Object(F.l)(me)},1098:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n(5),r=n(4),o=n(40),a=n(41),s=n(79),c=n(58),l=function(e){Object(o.a)(n,e);var t=Object(a.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this))._handleConfig(e),r}return Object(r.a)(n,[{key:"destroy",value:function(){Object(s.a)(Object(c.a)(n.prototype),"removeAllListeners",this).call(this)}}]),n}(n(102).EventEmitter),u=function(e){Object(o.a)(n,e);var t=Object(a.a)(n);function n(e,r){var o;return Object(i.a)(this,n),(o=t.call(this,e))._eventSymbol=r,o._delay=void 0,o._timeout=void 0,o}return Object(r.a)(n,[{key:"execute",value:function(){var e=this;this._timeout&&clearTimeout(this._timeout),this._delay>0?this._timeout=setTimeout((function(){return e.emit(e._eventSymbol)}),this._delay):this.emit(this._eventSymbol)}},{key:"_handleConfig",value:function(e){this._delay=100,void 0!==e.delay&&null!==e.delay&&(this._delay=e.delay)}}]),n}(l),d=new(function(){function e(){Object(i.a)(this,e),this._instances=[],this._init()}return Object(r.a)(e,[{key:"create",value:function(e,t){var n=Symbol("WindowResize"),i=new u(e,n);return i.addListener(n,t),this._instances.push(i),i}},{key:"destroy",value:function(e){var t=this._instances.indexOf(e);t>-1&&(e.destroy(),this._instances.splice(t,1))}},{key:"_init",value:function(){var e=this;window.addEventListener("resize",(function(){e._instances.forEach((function(e){return e.execute()}))}))}}]),e}())},1101:function(e,t,n){"use strict";var i=n(28),r=n(6),o=n(5),a=n(4),s=n(40),c=n(41),l=n(3),u=n(12),d=function(e){var t=e.primary,n=void 0!==t&&t,i=e.vertical,r=void 0!==i&&i,o=e.percentage,a=void 0!==o&&o,s=e.size,c=void 0===s?0:s,l=e.children,d=a?"%":"px",p="layout-pane",h={};return n?p+=" layout-pane-primary":r?h.height="".concat(c).concat(d):h.width="".concat(c).concat(d),Object(u.jsx)("div",{className:p,style:h,children:l})},p=(n(1156),{primaryPaneSize:0,secondaryPaneSize:0,secondaryPaneInitialSize:0,splitterPos:0,resizing:!1,collapsedPane:null});function h(){var e=document;if(e.body.createTextRange){var t=e.body.createTextRange();t.collapse(),t.select()}else if(window.getSelection){var n,i,r;if(null!==(n=window.getSelection())&&void 0!==n&&n.empty)null===(r=window.getSelection())||void 0===r||r.empty();else if(null!==(i=window.getSelection())&&void 0!==i&&i.removeAllRanges){var o;null===(o=window.getSelection())||void 0===o||o.removeAllRanges()}}else e.selection&&e.selection.empty()}var b=20,f={ArrowUp:"ArrowUp",ArrowRight:"ArrowRight",ArrowDown:"ArrowDown",ArrowLeft:"ArrowLeft",Enter:"Enter"},v=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state=p,e.container=void 0,e.splitter=void 0,e.getSecondaryPaneSize=function(t,n,i,r){var o,a,s,c;e.props.vertical?(o=t.height,a=n.height,s=i.top-t.top):(o=t.width,a=n.width,s=i.left-t.left),r&&(s-=a/2),s<0?s=0:s>o-a&&(s=o-a);var l=o-a-(c=1===e.props.primaryIndex?s:o-a-s);return e.props.percentage&&(c=100*c/o,l=100*l/o,a=100*a/o,o=100),l<e.props.primaryMinSize?c=Math.max(c-(e.props.primaryMinSize-l),0):c<e.props.secondaryMinSize&&(c=Math.min(o-a-e.props.primaryMinSize,e.props.secondaryMinSize)),c},e.handleResize=function(){if(e.splitter&&e.container&&!e.props.percentage){var t=e.container.getBoundingClientRect(),n=e.splitter.getBoundingClientRect(),i=e.getSecondaryPaneSize(t,n,{left:n.left,top:n.top},!1);e.setState({secondaryPaneSize:i})}},e.handleMouseMove=function(t){if(e.state.resizing&&e.splitter&&e.container){var n=e.container.getBoundingClientRect(),i=e.splitter.getBoundingClientRect(),r=e.getSecondaryPaneSize(n,i,{left:t.clientX,top:t.clientY},!0);h(),e.setState({secondaryPaneSize:r})}},e.handleTouchMove=function(t){e.handleMouseMove(t.changedTouches[0])},e.handleSplitterMouseDown=function(){h(),e.setState({resizing:!0})},e.handleResizeEnd=function(){e.setState((function(e){return e.resizing?{resizing:!1}:null}))},e.handleDragStart=function(){null!==e.state.collapsedPane&&e.setState({collapsedPane:null}),e.props.onDragStart&&e.props.onDragStart()},e.handleDragEnd=function(){if(e.splitter&&e.container){var t=e.splitter.getBoundingClientRect(),n=e.container.getBoundingClientRect(),i=e.props.vertical?t.top:t.left,r=e.getSplitterMinMaxPositions(n,t),o=r[0];i>=r[1]?e.setState({collapsedPane:1}):i===o&&e.setState({collapsedPane:0}),e.setState((function(t){return{primaryPaneSize:e.computePrimaryPaneSize(t.secondaryPaneSize)}})),e.props.onDragEnd&&e.props.onDragEnd()}},e.handleKeyDown=function(t){var n=t.nativeEvent;n.stopPropagation(),Object.values(f).includes(n.code)&&(e.setState({resizing:!0}),n.code!==f.Enter?e.resizePane(n):e.togglePane(e.state.collapsedPane!==e.props.primaryIndex?e.props.primaryIndex:null))},e.resizePane=function(t){var n;if(t.preventDefault(),e.splitter&&e.container){var i=f.ArrowUp,o=f.ArrowDown,a=f.ArrowLeft,s=f.ArrowRight,c=e.splitter.getBoundingClientRect(),l=e.container.getBoundingClientRect(),u=e.props.vertical&&[i,o].includes(t.code),d=!e.props.vertical&&[a,s].includes(t.code),p=(n={},Object(r.a)(n,i,Math.max(c.top-b,0)),Object(r.a)(n,o,Math.min(c.top+b,l.bottom)),Object(r.a)(n,a,Math.max(c.left-b,0)),Object(r.a)(n,s,Math.min(c.left+b,l.right)),n),v=e.getSecondaryPaneSize(l,c,{left:d?p[t.code]:c.left,top:u?p[t.code]:c.top},!1);h(),e.setState({secondaryPaneSize:v,splitterPos:e.props.vertical?c.top:c.left})}},e.togglePane=function(t){if(e.splitter&&e.container){var n=e.splitter.getBoundingClientRect(),i=e.container.getBoundingClientRect(),r=e.getSplitterMinMaxPositions(i,n),o=null===t?e.state.splitterPos:r[t],a=e.getSecondaryPaneSize(i,n,{left:!e.props.vertical&&o?o:n.left,top:e.props.vertical&&o?o:n.top},!1),s=r[0],c=r[1],l=null===t&&(e.state.splitterPos===s||e.state.splitterPos>=c);h(),e.setState((function(i){return{collapsedPane:t,splitterPos:e.props.vertical?n.top:n.left,secondaryPaneSize:l?i.secondaryPaneInitialSize:a,primaryPaneSize:e.computePrimaryPaneSize(l?i.secondaryPaneInitialSize:a)}}))}},e.getSplitterMinMaxPositions=function(t,n){var r=0===e.props.primaryIndex?[e.props.primaryMinSize,e.props.secondaryMinSize]:[e.props.secondaryMinSize,e.props.primaryMinSize],o=Object(i.a)(r,2),a=o[0],s=o[1];return{0:e.props.vertical?a||t.top:a||t.left,1:e.props.vertical?t.bottom-n.height-s:t.right-n.width-s}},e.computePrimaryPaneSize=function(t){var n=!e.props.percentage&&e.container?100*t/e.container.clientWidth:t;return Math.floor(100-n)},e.composePrimaryPaneLabel=function(){var t=e.props,n=t.vertical,i=t.primaryIndex;return"".concat({0:n?"Top":"Left",1:n?"Bottom":"Right"}[i]," pane occupying ").concat(e.state.primaryPaneSize,"% area")},e}return Object(a.a)(n,[{key:"componentDidMount",value:function(){var e;if(window.addEventListener("resize",this.handleResize),document.addEventListener("mouseup",this.handleResizeEnd),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("touchend",this.handleResizeEnd),document.addEventListener("touchmove",this.handleTouchMove),"undefined"!==typeof this.props.secondaryInitialSize)e=this.props.secondaryInitialSize;else{if(!this.container)return;var t,n=this.container.getBoundingClientRect();t=this.splitter?this.splitter.getBoundingClientRect():{width:4,height:4},e=this.getSecondaryPaneSize(n,t,{left:n.left+(n.width-t.width)/2,top:n.top+(n.height-t.height)/2},!1)}this.setState({secondaryPaneSize:e,secondaryPaneInitialSize:e,primaryPaneSize:this.computePrimaryPaneSize(e)})}},{key:"componentDidUpdate",value:function(e,t){t.secondaryPaneSize!==this.state.secondaryPaneSize&&this.props.onSecondaryPaneSizeChange&&this.props.onSecondaryPaneSizeChange(this.state.secondaryPaneSize),t.resizing!==this.state.resizing&&(this.state.resizing?this.handleDragStart():this.handleDragEnd()),e.collapsed===this.props.collapsed||t.collapsedPane===this.props.collapsed||this.state.resizing||this.togglePane(0===this.props.collapsed||1===this.props.collapsed?this.props.collapsed:null),this.props.secondaryInitialSize&&e.secondaryInitialSize!==this.props.secondaryInitialSize&&this.setState({secondaryPaneSize:this.props.secondaryInitialSize})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),document.removeEventListener("mouseup",this.handleResizeEnd),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("touchend",this.handleResizeEnd),document.removeEventListener("touchmove",this.handleTouchMove)}},{key:"render",value:function(){var e=this,t="splitter-layout";this.props.customClassName&&(t+=" ".concat(this.props.customClassName)),this.props.vertical&&(t+=" splitter-layout-vertical"),this.state.resizing&&(t+=" layout-changing");var n=l.Children.toArray(this.props.children).slice(0,2);0===n.length&&n.push(Object(u.jsx)("div",{}));for(var i=[],r=0!==this.props.primaryIndex&&1!==this.props.primaryIndex?0:this.props.primaryIndex,o=0;o<n.length;++o){var a=!0,s=null;n.length>1&&o!==r&&(a=!1,s=this.state.secondaryPaneSize),i.push(Object(u.jsx)(d,{vertical:this.props.vertical,percentage:this.props.percentage,primary:a,size:s,children:n[o]}))}var c=this.props.vertical?"vertical":"horizontal";return Object(u.jsxs)("div",{className:t,ref:function(t){e.container=t},children:[Object(u.jsx)("span",{className:"sr-only","aria-live":"polite","aria-atomic":"true",children:this.composePrimaryPaneLabel()}),i[0],i.length>1&&Object(u.jsx)("div",{tabIndex:0,role:"slider","aria-label":"Window Splitter","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":this.state.primaryPaneSize,"aria-orientation":c,"aria-roledescription":"".concat(c," splitter"),className:"layout-splitter",ref:function(t){e.splitter=t},onMouseDown:this.handleSplitterMouseDown,onTouchStart:this.handleSplitterMouseDown,onKeyDown:this.handleKeyDown,onKeyUp:this.handleResizeEnd,children:this.props.handle}),i.length>1&&i[1]]})}}]),n}(l.Component);v.defaultProps={customClassName:"",vertical:!1,percentage:!1,primaryIndex:0,primaryMinSize:0,secondaryInitialSize:void 0,secondaryMinSize:0,children:[]};t.a=v},1148:function(e,t,n){},1149:function(e,t,n){},1150:function(e,t,n){},1151:function(e,t,n){},1152:function(e,t,n){},1153:function(e,t,n){},1154:function(e,t,n){},1155:function(e,t,n){},1156:function(e,t,n){},1157:function(e,t,n){},1158:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var i=n(5),r=n(4),o=n(40),a=n(41),s=n(123),c=n.n(s),l=n(3),u=n(67),d=n(19),p=n(0),h=n(25),b=n(1072),f=n(56),v=(n(1160),n(12)),m=[{width:800,height:600},{width:1024,height:768},{width:1280,height:960},{width:1400,height:1050},{width:1600,height:1200}],y=[{width:800,height:600},{width:1024,height:768},{width:1280,height:960}],j=function(e,t){return e.width===t.width&&e.height===t.height},g=function(e){Object(o.a)(n,e);var t=Object(a.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).state={updatingResolution:!1,selectedValue:e._getSelectedValue()},e._responseTimeout=void 0,e._changeResolution=function(t){if(t!==e.state.selectedValue){var n=Number(t),i=e.resolutions[n];e.setState({updatingResolution:!0}),e._responseTimeout=setTimeout((function(){return e.setState({updatingResolution:!1})}),3e4);var r=e.props;(0,r.changeVmResolution)(r.vm,i).catch(e._stopUpdating)}},e}return Object(r.a)(n,[{key:"resolutions",get:function(){switch(this.props.template.os){case p.N.Win:return m;case p.N.Linux:default:return y}}},{key:"componentDidUpdate",value:function(e){j(this.props.vm,e.vm)||(this.state.updatingResolution&&this._stopUpdating(),this.setState({selectedValue:this._getSelectedValue()}))}},{key:"componentWillUnmount",value:function(){clearTimeout(this._responseTimeout)}},{key:"render",value:function(){var e=this;return Object(v.jsxs)("div",{className:c()("vm-resolution-controls",this.state.updatingResolution&&"updating"),children:[Object(v.jsx)("span",{className:"visible-title","aria-disabled":this.props.disabled,children:"Resolution:"}),Object(v.jsx)(b.b,{value:this.state.selectedValue,ariaLabel:"Cloud workspace resolution",onChange:this._changeResolution,disabled:this.props.disabled,isAsync:!0,isLoading:this.state.updatingResolution,loadingText:"Loading the resolution...",children:this.resolutions.map((function(t,n){var i="Resolution: ".concat(e._getDisplayedValue({resolution:t,forVoiceOver:!0}),".");return Object(v.jsx)(b.a,{value:"".concat(n),ariaLabel:i,children:e._getDisplayedValue({resolution:t,forVoiceOver:!1})},n)}))})]})}},{key:"_getDisplayedValue",value:function(e){var t=e.resolution,n=e.forVoiceOver;return"".concat(t.width," ").concat(n?"by":"x"," ").concat(t.height)}},{key:"_getSelectedValue",value:function(){var e=this.props.vm,t=this.resolutions.findIndex((function(t){return j(t,e)}));return-1===t&&(t=this._getDefaultScreenResolutionIndex()),"".concat(t)}},{key:"_getDefaultScreenResolutionIndex",value:function(){return this.resolutions.findIndex((function(e){return e.width===d.a.DefaultScreenWidth&&e.height===d.a.DefaultScreenHeight}))||0}},{key:"_stopUpdating",value:function(){clearTimeout(this._responseTimeout),this.setState({updatingResolution:!1})}}]),n}(l.PureComponent),O=Object(l.memo)((function(e){var t=Object(u.e)((function(t){return t.templates.get(e.vm.templateId)})),n=function(e){return Object(u.e)(h.O)||e.disabled}(e),i=Object(u.d)(),r=Object(l.useCallback)((function(e,t){return i(f.a.changeVMResolution(e,t))}),[i]);return t&&t.os!==p.N.Docker?Object(v.jsx)(g,{vm:e.vm,template:t,disabled:n,changeVmResolution:r}):null}))},1159:function(e,t,n){},1160:function(e,t,n){},1161:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n(28),r=n(3),o=n(67),a=n(123),s=n.n(a),c=n(1032),l=n(0),u=n(1054),d=n(225),p=(n(1164),n(12)),h=Object(r.memo)((function(e){var t=function(){var e=Object(o.e)((function(e){return e.connectionQuality.state})),t=Object(r.useState)(l.t.Unknown),n=Object(i.a)(t,2),a=n[0],s=n[1];return Object(r.useEffect)((function(){if(a===l.t.Unstable&&e===l.t.Good){var t=setTimeout((function(){return s(e)}),2e3);return function(){return clearTimeout(t)}}s(e)}),[e]),a}(),n=function(){var e=Object(o.e)((function(e){return e.connectionQuality})),t=e.state,n=e.nextReconnectAt,a=Object(r.useState)(void 0),s=Object(i.a)(a,2),c=s[0],u=s[1],d=t===l.t.Disconnected;return Object(r.useEffect)((function(){if(d&&void 0!==n){var e=Math.floor((n-Date.now())/1e3);u(e);var t=setInterval((function(){return u((function(e){return e?Math.max(0,e-1):e}))}),1e3);return function(){return clearTimeout(t)}}u(void 0)}),[n,d]),c}();return e.vm.state!==l.sb.Ready||t===l.t.Unknown?null:Object(p.jsxs)("div",{className:s()("connection-quality-indicator",t,e.className),children:[Object(p.jsxs)("span",{className:s()("label",l.t.Disconnected),children:["Connection lost. Reconnecting",void 0!==n?Object(p.jsxs)(p.Fragment,{children:[" ","in ",Object(p.jsxs)("time",{className:"time-to-reconnect",children:[n,"s"]})]}):null,"...",Object(p.jsx)(c.a,{className:"spinner"})]}),Object(p.jsxs)(u.a,{id:"unstable-connection-tooltip",children:[Object(p.jsxs)(u.b,{children:[Object(p.jsx)("p",{children:"Here are a few things you can try to improve your connection:"}),Object(p.jsxs)("ul",{className:"troubleshooting-list",children:[Object(p.jsx)("li",{children:"Move closer to the router"}),Object(p.jsx)("li",{children:"Switch to a stronger network"}),Object(p.jsx)("li",{children:"Try turning off other bandwidth-heavy apps (e.g. YouTube)"}),Object(p.jsx)("li",{children:"Try switching to a LAN connection"}),Object(p.jsx)("li",{children:"Try turning off VPNs/Proxies if possible"})]})]}),Object(p.jsx)(d.a,{className:s()("label",l.t.Unstable),disabled:t!==l.t.Unstable,children:"Unstable connection"})]}),Object(p.jsx)("span",{className:s()("label",l.t.Good),children:"Connected to Cloud Workspace"})]})}))},1162:function(e,t,n){},1163:function(e,t,n){},1164:function(e,t,n){},1165:function(e,t,n){},1167:function(e,t,n){},1168:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n(5),r=n(4),o=n(40),a=n(41),s=n(3),c=n(1036),l=n(1065),u=(n(1171),n(12)),d=function(e){Object(o.a)(n,e);var t=Object(a.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e))._player=void 0,r.state={input:void 0,expandModeData:void 0,loading:!1},r}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.chapter,t=e.inputUrl,n=e.expandModeUrl;this._loadData(t,n)}},{key:"componentDidUpdate",value:function(e){this.props.chapter.inputUrl===e.chapter.inputUrl||this.props.chapter.expandModeUrl===e.chapter.expandModeUrl&&this.props.chapter.expandModeUrl||this._loadData(this.props.chapter.inputUrl,this.props.chapter.expandModeUrl)}},{key:"playing",get:function(){return!!this._player&&this._player.playing}},{key:"playbackRate",get:function(){return this._player?this._player.playbackRate:c.a.x100}},{key:"canPlay",get:function(){return!!this._player&&this._player.canPlay}},{key:"play",value:function(){return this._player?this._player.play():Promise.reject()}},{key:"pause",value:function(){this._player&&this._player.pause()}},{key:"changePlaybackRate",value:function(e){this._player&&this._player.changePlaybackRate(e)}},{key:"toggleViewbox",value:function(){if(this._player)return this._player.toggleViewbox()}},{key:"setCurrentTime",value:function(e){this._player&&this._player.setCurrentTime(e)}},{key:"learnerChangedSidebarMode",value:function(){this._player&&this._player.learnerChangedSidebarMode()}},{key:"currentTime",get:function(){return this._player?this._player.currentTime:0}},{key:"duration",get:function(){return this._player?this._player.duration:0}},{key:"takeScreenshot",value:function(){return this._player?this._player.takeScreenshot():null}},{key:"render",value:function(){var e=this;return Object(u.jsxs)("div",{className:"chapter-player",children:[this.state.loading?this.renderLoading():null,Object(u.jsx)(c.b,{ref:function(t){return e._player=t},sources:Object(l.a)(this.props.chapter),onKeyboardFrame:this.props.onKeyboardFrame,onMouseFrame:this.props.onMouseFrame,mouse:this.props.mouse,autoPlay:this.props.autoPlay||!1,input:this.state.input,expandModeData:this.state.expandModeData,controls:this.props.controls,viewboxSize:this.props.viewboxSize,showViewbox:this.props.showViewbox,isViewExpanded:this.props.isViewExpanded,onViewboxToggle:this.props.onViewboxToggle,onCanPlay:this.props.onCanPlay,onReadyMetadata:this.props.onReadyMetadata,className:this.state.loading?"hidden":void 0,annotations:this.props.chapter.annotations,subtitles:this.props.chapter.subtitles,subtitleLang:this.props.language,onVideoDimmensions:this.props.onVideoDimmensions,onExpandModeChange:this.props.onExpandModeChange,errorContainer:this.props.errorContainer})]})}},{key:"renderLoading",value:function(){return"Buffering..."}},{key:"_loadData",value:function(e,t){var n=this;this.setState({loading:!0}),Promise.all([this._fetchResource(e),this._fetchResource(t)]).then((function(e){var t=e[0],i=e[1];n.setState({input:t,expandModeData:i,loading:!1})})).catch((function(){return n.setState({loading:!1})}))}},{key:"_fetchResource",value:function(e){return e?new Promise((function(t,n){var i=new XMLHttpRequest;i.responseType="arraybuffer",i.onreadystatechange=function(e){4===i.readyState&&(200===i.status?t(i.response):n())},i.open("get",e,!0),i.send()})):Promise.resolve(void 0)}}]),n}(s.PureComponent)},1169:function(e,t,n){},1170:function(e,t,n){},1171:function(e,t,n){},1172:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n(124),r=n(123),o=n.n(r),a=(n(1173),n(12)),s=["hidden","autogenerated"],c=function(e){var t=e.hidden,n=e.autogenerated,r=Object(i.a)(e,s);return Object(a.jsxs)("div",{className:o()("cc-container",{hidden:t,autogenerated:n},r.className),"aria-hidden":"true",children:[r.children,"string"===typeof r.text?r.text&&Object(a.jsx)("span",{dir:r.dir||"ltr",className:"cc-text",children:r.text}):r.text]})}},1173:function(e,t,n){},1174:function(e,t,n){},1175:function(e,t,n){},1176:function(e,t,n){},1177:function(e,t,n){},1178:function(e,t,n){},1179:function(e,t,n){},1180:function(e,t,n){},1181:function(e,t,n){},1182:function(e,t,n){},1183:function(e,t,n){},1184:function(e,t,n){"use strict";n.d(t,"a",(function(){return Te})),n.d(t,"b",(function(){return Ue}));var i,r=n(5),o=n(4),a=n(40),s=n(41),c=n(123),l=n.n(c),u=n(3),d=n(63),p=n(67),h=n(1),b=n(281),f=n(225),v=(n(1174),n(48)),m=n(12),y=function(e){return e.captions.ccOn},j=Object(u.memo)((function(){var e=Object(p.d)(),t=Object(v.k)(),n=Object(p.e)((function(e){return Boolean(e.captions.track)})),i=Object(p.e)(y),r=Object(u.useCallback)((function(){return t({action:"click",obj:"toggle cc button",value:i?"off":"on"}),e(new h.cb(!i))}),[i,e,t]);return n?Object(m.jsx)(b.c,{handlers:{"video.toggleCC":r},children:Object(m.jsx)(f.a,{"data-e2e":"cc-toggle-btn",className:"cc-toggle-button ".concat(i?"":"disabled"),title:i?"Turn off closed captions":"Turn on closed captions",onClick:r,children:Object(m.jsx)("span",{"aria-hidden":"true",children:"cc"})})}):null})),g=["title","titleId"];function O(){return O=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},O.apply(this,arguments)}function w(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function x(e,t){var n=e.title,r=e.titleId,o=w(e,g);return u.createElement("svg",O({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 472.615 472.615",ref:t,"aria-labelledby":r},o),n?u.createElement("title",{id:r},n):null,i||(i=u.createElement("path",{d:"M332.955 266.833V0H139.662v266.833H30.525l205.783 205.782L442.09 266.833z"})))}var k,C=u.forwardRef(x),A=(n.p,n(25)),_=n(1041),S=(n(1175),function(e){return e.captions.track}),P=Object(u.memo)((function(){var e=Object(v.k)(),t=Object(p.e)(S),n=Object(p.e)(A.i),i=Object(u.useCallback)((function(){var i;if(e({action:"click",obj:"download cc button"}),null!==t&&void 0!==t&&null!==(i=t.track)&&void 0!==i&&i.cues&&null!==n&&void 0!==n&&n.name){var r=Array.from(t.track.cues,(function(e){return e.text})).join("\n"),o=new Blob([r],{type:"text/plain"}),a="".concat(Object(_.c)(n.name),"_transcript.txt");Object(_.a)(o,a),e({action:"download",obj:"cc"})}}),[t,null===n||void 0===n?void 0:n.name,e]);return t&&n?Object(m.jsx)(f.a,{title:"Download video transcript",className:"download-cc-button",onClick:i,children:Object(m.jsx)(C,{})}):null})),E=n(364),R=n(365),D=n.n(R),I=(n(1176),["title","titleId"]);function M(){return M=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},M.apply(this,arguments)}function N(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function T(e,t){var n=e.title,i=e.titleId,r=N(e,I);return u.createElement("svg",M({viewBox:"0 0 34 40",ref:t,"aria-labelledby":i},r),n?u.createElement("title",{id:i},n):null,k||(k=u.createElement("path",{d:"M23.77 0h9.616v40H23.77V0zM0 0h9.617v40H0V0z"})))}var V,L=u.forwardRef(T),F=(n.p,["title","titleId"]);function z(){return z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},z.apply(this,arguments)}function B(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function W(e,t){var n=e.title,i=e.titleId,r=B(e,F);return u.createElement("svg",z({viewBox:"0 0 31 40",ref:t,"aria-labelledby":i},r),n?u.createElement("title",{id:i},n):null,V||(V=u.createElement("path",{d:"M0 0v40l30.728-20z"})))}var U,H,X,K,q,Y=u.forwardRef(W),Q=(n.p,U=function(e){Object(a.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(r.a)(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o)))._keyboardActionHandlers={"video.togglePlay":e._onClick},e}return Object(o.a)(n,[{key:"render",value:function(){return Object(m.jsxs)(f.a,{className:l()("play-pause-button",this.props.disabled&&"disabled",this.props.playing?"pause-btn":"play-btn"),onClick:this._onClick,"aria-label":this.props.playing?"Pause video":"Play video",children:[Object(m.jsx)(b.c,{handlers:this._keyboardActionHandlers}),this.props.playing?Object(m.jsx)(L,{}):Object(m.jsx)(Y,{})]})}},{key:"_onClick",value:function(){this.props.disabled||this.props.onClick()}}]),n}(u.PureComponent),Object(E.a)(U.prototype,"_onClick",[D.a],Object.getOwnPropertyDescriptor(U.prototype,"_onClick"),U.prototype),U),G=n(11),Z=n(6),J=n(367),$=n(1036),ee=(n(1177),H={},Object(Z.a)(H,$.a.x025,"0.2x"),Object(Z.a)(H,$.a.x050,"0.5x"),Object(Z.a)(H,$.a.x075,"0.7x"),Object(Z.a)(H,$.a.x100,"1x"),Object(Z.a)(H,$.a.x125,"1.2x"),Object(Z.a)(H,$.a.x150,"1.5x"),Object(Z.a)(H,$.a.x200,"2x"),H),te=Object.values($.a),ne={opened:!1,highlightedRate:$.a.x025},ie=(K=function(e){Object(a.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(r.a)(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).contextType=void 0,e.state=Object(G.a)(Object(G.a)({},ne),{},{highlightedRate:e.props.playbackRate}),e.keyboardActionHandlers={"video.speedUp":e.changePlaybackRate(1),"video.speedDown":e.changePlaybackRate(-1)},e.buttonRef=Object(u.createRef)(),e.onOptionMouseEnter=function(t){e.setState({highlightedRate:t})},e.onOptionClick=function(t){e.props.onPlaybackRateChange(t)},e.onKeyDown=function(t){["ArrowUp","ArrowDown","Enter"].includes(t.key)&&e.handleKnownKeyEvent(t)},e.onKeyUp=function(t){[" ","Escape"].includes(t.key)&&e.handleKnownKeyEvent(t)},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this;return Object(m.jsxs)("div",{className:"playback-rate-button"+(this.props.hidden?" hidden":""),children:[Object(m.jsx)(b.c,{handlers:this.keyboardActionHandlers}),Object(m.jsx)("ul",{className:"list"+(this.state.opened?" visible":""),onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,role:"listbox","aria-label":"Video playback rate",children:te.map((function(t){return Object(m.jsxs)(re,{rate:t,onClick:e.onOptionClick,onMouseEnter:e.onOptionMouseEnter,highlighted:e.state.opened&&t===e.state.highlightedRate,children:[Object(m.jsx)("span",{className:"a11y-visually-hidden",children:"Video playback rate: ".concat(ee[t])}),Object(m.jsx)("span",{"aria-hidden":!0,children:ee[t]})]},t)}))}),Object(m.jsx)("button",{className:l()("open",b.a),onClick:this.open,"aria-haspopup":"listbox","aria-expanded":this.state.opened,"aria-label":"Video playback rate dropdown: ".concat(ee[this.props.playbackRate],". Use Enter or Space to toggle the list. Use Up or Down to select another option."),onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,tabIndex:this.disabled?-1:0,ref:this.buttonRef,children:ee[this.props.playbackRate]})]})}},{key:"disabled",get:function(){return this.context.isDisabled||this.props.hidden}},{key:"open",value:function(){var e=this;this.state.opened||this.setState({opened:!0},(function(){var t;return null===(t=e.buttonRef.current)||void 0===t?void 0:t.ownerDocument.addEventListener("click",e.close)}))}},{key:"close",value:function(){var e=this;this.state.opened&&(this.setState({opened:!1},(function(){var t;return null===(t=e.buttonRef.current)||void 0===t?void 0:t.ownerDocument.removeEventListener("click",e.close)})),this.buttonRef.current&&this.buttonRef.current.focus())}},{key:"changePlaybackRate",value:function(e){var t=this;return function(){var n=te.findIndex((function(e){return parseFloat(e)===parseFloat(t.props.playbackRate)})),i=Math.max(0,Math.min(n+e,te.length-1)),r=te[i];r&&t.props.onPlaybackRateChange(r)}}},{key:"handleKnownKeyEvent",value:function(e){if(e.preventDefault(),e.stopPropagation(),!this.disabled){var t=this.state.highlightedRate;switch(e.key){case"ArrowDown":if(!this.state.opened){this.open();break}var n=te.indexOf(t)+1;n>=te.length&&(n=0),this.setState({highlightedRate:te[n]});break;case"ArrowUp":if(!this.state.opened){this.open();break}var i=te.indexOf(t)-1;i<0&&(i=te.length-1),this.setState({highlightedRate:te[i]});break;case"Enter":case" ":this.state.opened?(this.props.playbackRate!==t&&this.props.onPlaybackRateChange(t),this.close()):this.open();break;case"Escape":case"Tab":this.close()}}}}]),n}(u.PureComponent),K.contextType=J.a,X=K,Object(E.a)(X.prototype,"open",[D.a],Object.getOwnPropertyDescriptor(X.prototype,"open"),X.prototype),Object(E.a)(X.prototype,"close",[D.a],Object.getOwnPropertyDescriptor(X.prototype,"close"),X.prototype),Object(E.a)(X.prototype,"changePlaybackRate",[D.a],Object.getOwnPropertyDescriptor(X.prototype,"changePlaybackRate"),X.prototype),X),re=function(e){var t=e.htmlAttributes,n=e.rate,i=e.onClick,r=e.onMouseEnter,o=e.highlighted,a=e.children,s=Object(u.useCallback)((function(){return i(n)}),[n,i]),c=Object(u.useCallback)((function(){return r(n)}),[n,r]),d=Object(u.useRef)(null);return Object(u.useEffect)((function(){o&&d.current&&d.current.focus()}),[o]),Object(m.jsx)("li",Object(G.a)(Object(G.a)({},t),{},{ref:d,onClick:s,tabIndex:-1,className:l()(o&&"highlighted",b.a),onMouseEnter:c,"aria-selected":o,role:"option",children:a}))},oe=["title","titleId"];function ae(){return ae=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ae.apply(this,arguments)}function se(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ce(e,t){var n=e.title,i=e.titleId,r=se(e,oe);return u.createElement("svg",ae({viewBox:"0 0 40 27",ref:t,"aria-labelledby":i},r),n?u.createElement("title",{id:i},n):null,q||(q=u.createElement("path",{d:"M35.71 0v13.278L15.304 0v9.96L0 0v26.878l15.305-9.963v9.963l20.404-13.28v13.28H40V0z"})))}var le,ue=u.forwardRef(ce),de=(n.p,n(1178),Object(u.memo)((function(e){var t=e.type,n=e.hidden,i=e.disabled,r=e.onClick;return Object(m.jsx)(f.a,{className:l()("prev-next-button",t,{disabled:i,hidden:n}),disabled:i,onClick:r,"aria-label":"next"===t?"Next video chapter":"Previous video chapter",children:Object(m.jsx)(ue,{})})}))),pe=["title","titleId"];function he(){return he=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},he.apply(this,arguments)}function be(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fe(e,t){var n=e.title,i=e.titleId,r=be(e,pe);return u.createElement("svg",he({viewBox:"0 0 79.51 70.7",ref:t,"aria-labelledby":i},r),n?u.createElement("title",{id:i},n):null,le||(le=u.createElement("path",{fill:"#fff",d:"M28.37 27.09L19 27.5a27 27 0 116.61 27.16A4 4 0 0020 60.31a35 35 0 10.07-49.5 36.35 36.35 0 00-9.43 16.47 1.37 1.37 0 00-.07.49l-7.71.35a2.93 2.93 0 00-2 .84 2.7 2.7 0 00-.71 1.13A3.06 3.06 0 001 33.35l13.27 12.18a3 3 0 004.24-.14l12.18-13.28a3.16 3.16 0 00.5-3.32 3 3 0 00-2.82-1.7z"})))}var ve,me=u.forwardRef(fe),ye=(n.p,n(1179),function(e){return Object(m.jsx)(f.a,{className:"repeat-button","data-time":e.predefinedTime,onClick:e.onClick,"aria-label":"Rewind video back ".concat(e.predefinedTime," seconds"),children:Object(m.jsx)(me,{"aria-hidden":!0})})}),je=n(1092),ge=["title","titleId"];function Oe(){return Oe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Oe.apply(this,arguments)}function we(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xe(e,t){var n=e.title,i=e.titleId,r=we(e,ge);return u.createElement("svg",Oe({viewBox:"0 0 1000 1000",ref:t,"aria-labelledby":i},r),n?u.createElement("title",{id:i},n):null,ve||(ve=u.createElement("path",{d:"M419.7 57.6c26.2-26.2 47.6-17.3 47.6 19.7v845.3c0 37.1-21.4 45.9-47.6 19.7L173.3 696H10V304h163.3L419.7 57.6zM990 609.4V696h-86.6L794 586.6 684.6 696H598v-86.6L707.4 500 598 390.6V304h86.6L794 413.4 903.4 304H990v86.6L880.6 500 990 609.4z"})))}var ke,Ce=u.forwardRef(xe),Ae=(n.p,["title","titleId"]);function _e(){return _e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_e.apply(this,arguments)}function Se(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Pe(e,t){var n=e.title,i=e.titleId,r=Se(e,Ae);return u.createElement("svg",_e({viewBox:"0 0 1000 1000",ref:t,"aria-labelledby":i},r),n?u.createElement("title",{id:i},n):null,ke||(ke=u.createElement("path",{d:"M811.3 855.8c-13.7 0-27.4-5.2-37.8-15.7-20.9-20.9-20.9-54.7 0-75.6 145.9-145.9 145.9-383.3 0-529.2-20.9-20.9-20.9-54.7 0-75.6 20.9-20.9 54.7-20.9 75.6 0C940 250.7 990 371.5 990 500s-50 249.3-140.9 340.2c-10.4 10.4-24.1 15.6-37.8 15.6zM621.4 755c-13.7 0-27.4-5.2-37.8-15.7-20.9-20.9-20.9-54.7 0-75.6 90.3-90.3 90.3-237.3 0-327.6-20.9-20.9-20.9-54.7 0-75.6 20.9-20.9 54.7-20.9 75.6 0 132 132 132 346.8 0 478.8-10.4 10.5-24.1 15.7-37.8 15.7zM456.9 17.4c28.6-28.6 52-18.9 52 21.5V961c0 40.4-23.4 50.1-52 21.5L188.2 713.8H10V286.2h178.2L456.9 17.4z"})))}var Ee,Re=u.forwardRef(Pe),De=(n.p,n(1180),function(){var e=Object(p.d)(),t=Object(p.e)(A.P),n=Object(u.useCallback)((function(){return e(new h.Fb(!t))}),[t,e]);Object(b.f)("video.toggleMute",n);var i=t?Ce:Re,r="".concat(t?"Unm":"M","ute");return Object(m.jsx)(f.a,{className:"mute-button","aria-label":r,onClick:n,children:Object(m.jsx)(i,{"aria-hidden":!0})})}),Ie=n(28),Me=(n(1181),function(e){var t=Object(p.d)();Object(b.f)("video.volumeUp",Object(u.useCallback)((function(){return t(new h.Gb((function(e){return e+.1})))}),[t])),Object(b.f)("video.volumeDown",Object(u.useCallback)((function(){return t(new h.Gb((function(e){return e-.1})))}),[t]));var n=Object(p.e)(A.E),i=Object(p.e)(A.P)?0:n,r=Object(u.useCallback)((function(e){return t(new h.Gb(Number(e.target.value)/100))}),[t]),o="".concat(Math.floor(100*i),"%"),a="dark"===e.theme?["black","gray"]:["white","gray"],s=Object(Ie.a)(a,2),c=s[0],l=s[1],d="linear-gradient(to right, ".concat(c," ").concat(o,", ").concat(l," ").concat(o,")"),f="Volume ".concat(Math.round(100*i)," percent"),v=Object(u.useContext)(J.a).isDisabled;return Object(m.jsxs)("label",{className:"volume-slider",children:[Object(m.jsx)("input",{disabled:v,style:{background:d},type:"range",min:0,max:100,step:4,value:100*i,"aria-valuetext":f,onChange:r}),Object(m.jsx)("div",{className:"focus-frame","aria-hidden":!0})]})}),Ne=(n(1182),Object(u.memo)((function(e){return Object(m.jsxs)("div",{className:l()("volume-controls",e.theme),children:[Object(m.jsx)(De,{}),Object(m.jsx)(Me,{theme:e.theme})]})}))),Te=(n(1183),function(e){Object(a.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(r.a)(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o)))._draggingWhilePlaying=void 0,e.onPlay=function(){e.props.disableAll||e.props.onPlay()},e.onPause=function(){e.props.disableAll||e.props.onPause()},e.onPredefinedBackward=function(){e.props.onSeek(Math.max(e.props.currentTime-15,0))},e.onBackward=function(){e.props.backwardDisabled||e.props.navigationHidden||e.props.disableAll||e.props.onBackward()},e.onForward=function(){e.props.forwardDisabled||e.props.navigationHidden||e.props.disableAll||e.props.onForward()},e.onProgressDrag=function(){e.props.playing&&(e._draggingWhilePlaying=!0,e.props.onPause())},e.onProgressRelease=function(){e._draggingWhilePlaying&&(e._draggingWhilePlaying=!1,e.props.onPlay())},e.composeVideoDurationLabel=function(t){return"".concat(Object(d.f)(t*d.a.Sec)," of ").concat(Object(d.f)(e.props.duration*d.a.Sec))},e}return Object(o.a)(n,[{key:"render",value:function(){var e=Object(d.d)(this.props.currentTime*d.a.Sec)+" / "+Object(d.d)(this.props.duration*d.a.Sec);return Object(m.jsxs)("div",{className:l()("video-controls",this.props.className,this.props.disableAll&&"disabled","dark"===this.props.theme&&"dark-theme"),children:[Object(m.jsx)(je.a,{currentTime:this.props.currentTime,duration:this.props.duration,onSeek:this.props.onSeek,onDrag:this.onProgressDrag,onRelease:this.onProgressRelease,disabled:this.props.disableAll}),Object(m.jsxs)("div",{className:"buttons",children:[Object(m.jsxs)("div",{className:"video-nav",children:[Object(m.jsx)(Q,{playing:this.props.playing,onClick:this.props.playing?this.onPause:this.onPlay}),Object(m.jsx)(de,{type:"prev",disabled:this.props.backwardDisabled,hidden:this.props.navigationHidden,onClick:this.onBackward}),Object(m.jsx)(ye,{predefinedTime:15,onClick:this.onPredefinedBackward}),Object(m.jsx)(de,{type:"next",disabled:this.props.forwardDisabled,hidden:this.props.navigationHidden,onClick:this.onForward}),Object(m.jsx)(Ne,{theme:this.props.theme}),Object(m.jsx)("div",{className:"label",role:"progressbar","aria-valuemin":0,"aria-valuemax":this.props.duration,"aria-valuenow":this.props.currentTime,"aria-valuetext":"Video progress: ".concat(this.composeVideoDurationLabel(this.props.currentTime)),children:e})]}),Object(m.jsxs)("div",{className:"video-settings",children:[Object(m.jsx)(P,{}),Object(m.jsx)(j,{}),Object(m.jsx)(ie,{playbackRate:this.props.playbackRate,onPlaybackRateChange:this.props.onPlaybackRateChange})]})]})]})}}]),n}(u.PureComponent)),Ve=n(102),Le=n(13),Fe=n(142),ze=Symbol("PlayerPlaying"),Be=Symbol("PlayerTimeUpdated"),We=Symbol("PlayerCompleted"),Ue=(Ee=function(){function e(t,n,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};Object(r.a)(this,e),this._dispatch=t,this._currentChapter=n,this._chapters=i,this._hooks=o,this._emitter=new Ve.EventEmitter,this._interval=void 0,this._player=void 0}return Object(o.a)(e,[{key:"chapters",get:function(){return this._chapters?this._chapters.filter((function(e){return!!e&&Object(Fe.e)(e)})).toList():Object(Le.List)()}},{key:"nextChapter",get:function(){if(!this._currentChapter)return null;var e=this.chapters,t=e.indexOf(this._currentChapter),n=t+1;return-1===t||n>=e.size?null:e.get(n)}},{key:"prevChapter",get:function(){if(!this._currentChapter)return null;var e=this.chapters,t=e.indexOf(this._currentChapter)-1;return t<0?void 0:e.get(t)}},{key:"hasNextChapter",get:function(){return!!this.nextChapter}},{key:"hasPrevChapter",get:function(){return!!this.prevChapter}},{key:"destroy",value:function(){this.clearInterval()}},{key:"setRefs",value:function(e){e&&(this._player=e)}},{key:"updateProps",value:function(e,t){this._currentChapter=e,this._chapters=t}},{key:"clearInterval",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){clearInterval(this._interval)}))},{key:"onPlayerPlaying",value:function(e){this._emitter.addListener(ze,e)}},{key:"onPlayerTimeUpdated",value:function(e){this._emitter.addListener(Be,e)}},{key:"onPlayerCompleted",value:function(e){this._emitter.addListener(We,e)}},{key:"onPause",value:function(){this._player&&(clearInterval(this._interval),this._emitter.emit(ze,!1),this._player.pause())}},{key:"onPlay",value:function(){var e=this;if(this._player){clearInterval(this._interval);var t=this._player.play();t?t.then(this._onSuccessfulPlay).catch((function(){e._emitter.emit(ze,!1)})):this._onSuccessfulPlay()}}},{key:"onPlaybackRateChange",value:function(e){this._player&&this._player.changePlaybackRate(e)}},{key:"onSeek",value:function(e){this._player&&(this._emitter.emit(Be,e),this._player.setCurrentTime(e))}},{key:"onForward",value:function(){this.nextChapter&&this._selectChapter(this.nextChapter)}},{key:"onBackward",value:function(){this.prevChapter&&this._selectChapter(this.prevChapter)}},{key:"_selectChapter",value:function(e){this._dispatch(new h.jb(e)),this._emitter.emit(Be,0)}},{key:"_onSuccessfulPlay",value:function(){this._emitter.emit(ze,!0),clearInterval(this._interval),this._interval=setInterval(this._emitPlayerTimeAndPauses,50),this._hooks.onPlay&&this._hooks.onPlay()}},{key:"_emitPlayerTimeAndPauses",value:function(){this._player&&(this._emitter.emit(Be,this._player.currentTime),this._player.currentTime===this._player.duration&&this._player.canPlay?(this.onPause(),this._emitter.emit(We)):this._player.playing||this.onPause())}}]),e}(),Object(E.a)(Ee.prototype,"onPause",[D.a],Object.getOwnPropertyDescriptor(Ee.prototype,"onPause"),Ee.prototype),Object(E.a)(Ee.prototype,"onPlay",[D.a],Object.getOwnPropertyDescriptor(Ee.prototype,"onPlay"),Ee.prototype),Object(E.a)(Ee.prototype,"onPlaybackRateChange",[D.a],Object.getOwnPropertyDescriptor(Ee.prototype,"onPlaybackRateChange"),Ee.prototype),Object(E.a)(Ee.prototype,"onSeek",[D.a],Object.getOwnPropertyDescriptor(Ee.prototype,"onSeek"),Ee.prototype),Object(E.a)(Ee.prototype,"onForward",[D.a],Object.getOwnPropertyDescriptor(Ee.prototype,"onForward"),Ee.prototype),Object(E.a)(Ee.prototype,"onBackward",[D.a],Object.getOwnPropertyDescriptor(Ee.prototype,"onBackward"),Ee.prototype),Object(E.a)(Ee.prototype,"_onSuccessfulPlay",[D.a],Object.getOwnPropertyDescriptor(Ee.prototype,"_onSuccessfulPlay"),Ee.prototype),Object(E.a)(Ee.prototype,"_emitPlayerTimeAndPauses",[D.a],Object.getOwnPropertyDescriptor(Ee.prototype,"_emitPlayerTimeAndPauses"),Ee.prototype),Ee)},1188:function(e,t,n){"use strict";n.d(t,"a",(function(){return D}));var i,r=n(14),o=n(21),a=n(5),s=n(4),c=n(40),l=n(41),u=n(68),d=n.n(u),p=n(3),h=n(102),b=n(1041),f=n(1089),v=n(181),m="application/zip",y=function(){function e(t,n,i,r,o,s){Object(a.a)(this,e),this._guac=t,this._tunnelUUID=n,this._authToken=i,this._protocol=r,this._host=o,this._file=s,this._emitter=new h.EventEmitter,this._xhr=void 0}return Object(s.a)(e,[{key:"start",value:function(){var e=this,t=this._guac.createFileStream(m,this._file.name);t.onack=function(){e._uploadFile(t),t.onack=null}}},{key:"onProgress",value:function(e){this._emitter.on(v.a.Progress,e)}},{key:"onCompleted",value:function(e){this._emitter.on(v.a.Completed,e)}},{key:"onError",value:function(e){this._emitter.on(v.a.Error,e)}},{key:"destroy",value:function(){this._emitter.off(v.a.Error),this._emitter.off(v.a.Completed),this._emitter.off(v.a.Progress),this._cancel()}},{key:"_uploadFile",value:function(e){var t=this,n=this._protocol+"://"+this._host+"/api/session/tunnels/"+this._tunnelUUID+"/streams/"+encodeURIComponent(e.index)+"/"+encodeURIComponent(Object(b.c)(this._file.name))+"?token="+encodeURIComponent(this._authToken),i=new XMLHttpRequest;i.withCredentials=!0,this._xhr=i,i.upload&&i.upload.addEventListener("progress",(function(e){t._emitter.emit(v.a.Progress,{current:e.loaded,total:t._file.size})})),i.onreadystatechange=function(){4===i.readyState&&(i.status>=200&&i.status<300?(t._guac.endStream(e.index),t._emitter.emit(v.a.Completed)):"application/json"===i.getResponseHeader("Content-Type")?t._emitter.emit(v.a.Error,i.responseText):i.status>=400&&i.status<500?t._emitter.emit(v.a.Error,"Stream error"):t._emitter.emit(v.a.Error,"HTTP "+i.status))},i.open("POST",n,!0),i.setRequestHeader("content-type",m),i.send(this._file)}},{key:"_cancel",value:function(){this._xhr&&this._xhr.abort()}}]),e}(),j=function(e,t,n){return(i=i||Object(o.a)(Object(r.a)().mark((function e(t,n,i){var o,a,s,c,l,u;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.a)(t);case 2:return o=e.sent,a=o.client,s=o.tunnel,c=o.token,(l=new y(a,s.uuid,c,t.protocol,t.host,n)).onProgress(i||d.a),l.start(),u=new Promise((function(e,t){l.onCompleted((function(){a.disconnect(),e()})),l.onError((function(e){a.disconnect(),t(new Error(e))}))})),e.abrupt("return",{promise:u,abort:function(){return l.destroy()}});case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)},g=n(0),O=n(1009),w=n(225),x=n(1050),k=n(1090),C=(n(1165),n(12)),A=Object(p.forwardRef)((function(e,t){var n=e.isDone?"All files uploaded":e.label;return Object(C.jsx)("div",{className:"file-uploader"+(e.isDisabled?" disabled":""),children:Object(C.jsx)(k.a,{ref:t,isDisabled:e.isDisabled,allowSameFileSelection:!0,uploadIcon:e.uploadIcon,filters:e.filters,fileLimit:e.fileLimit,onFiles:e.onFiles,onCancel:e.onCancel,children:e.totalFiles&&!e.isDone?Object(C.jsxs)("div",{"aria-label":"Uploading file ".concat(e.currentFile," of ").concat(e.totalFiles),children:[Object(C.jsxs)("span",{"aria-hidden":!0,children:["File ",e.currentFile,"/",e.totalFiles]}),Object(C.jsx)(x.a,{htmlAttributes:{"aria-label":"Upload progress for the current file."},progress:e.currentProgress}),Object(C.jsx)(w.a,{"aria-label":"Cancel uploading all files",onClick:e.onCancel,className:"cancel",children:Object(C.jsx)("i",{className:"fa fa-times","aria-hidden":!0})})]}):Object(C.jsx)("div",{"aria-label":n+". Click to choose a file for uploading.",children:n})})})})),_=n(33),S=n(1026),P=Object(_.c)("VmFileUploader",!0).log,E={files:[],currentFile:0,currentProgress:0,isInProgress:!1,isDone:!1,abortUpload:d.a},R=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e,i;Object(a.a)(this,n);for(var s=arguments.length,c=new Array(s),l=0;l<s;l++)c[l]=arguments[l];return(i=t.call.apply(t,[this].concat(c))).state=E,i.uploadAreaRef=Object(p.createRef)(),i.onFiles=function(e){var t,n;P("Uploading %d files",e.length),null===(t=(n=i.props).onStart)||void 0===t||t.call(n),i.setState({files:i.state.files.concat(e)},(function(){i.state.isInProgress||i.nextFile()}))},i.nextFile=function(){var e=i.state.currentFile;if(e<i.state.files.length){var t=function(){return i.uploadFile(i.state.files[e]).then((function(){setTimeout((function(){return i.nextFile()}),1e3)}))};i.state.isDone?i.setState({isDone:!1},t):t()}else{var n,r,o;i.setState({isDone:!0,files:[],currentFile:0,currentProgress:0,isInProgress:!1}),null===(n=i.uploadAreaRef.current)||void 0===n||n.reset(),null===(r=(o=i.props).onCompleted)||void 0===r||r.call(o),i.props.showNotification({type:g.M.Success,title:"Files uploaded",text:"Your files were successfully uploaded"})}},i.onUploadError=function(){var e,t;i.props.showNotification({type:g.M.Error,ttl:1e4,title:"Error",text:'Something went wrong while uploading your files. Please, try again. If the issue persists, you can try [ufile.io](https://ufile.io){target="_blank" rel="noopener noreferrer"}'}),null===(e=(t=i.props).onError)||void 0===e||e.call(t)},i.uploadFile=function(t){return(e=e||Object(o.a)(Object(r.a)().mark((function e(t){var n,o,a,s,c,l,u;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.props.vm){e.next=3;break}return e.abrupt("return");case 3:return o=i.state.files.length,a=i.state.currentFile,s=a/o,c=(a+.9)/o,l=function(e){var n=Object(S.b)(s,c,e.current/e.total);P("[".concat(t.name,"] Upload progress: ").concat(e.current," / ").concat(e.total," -> overall progress: ").concat(n," ")),i.setState({currentProgress:n})},e.prev=8,P("[".concat(t.name,"] Initiating upload")),i.setState({currentProgress:s,isInProgress:!0,currentFile:a+1}),e.next=13,j(n.connection,t,l);case 13:return u=e.sent,P("[".concat(t.name,"] Start uploading")),i.setState({abortUpload:function(){return u.abort()}}),e.next=18,u.promise;case 18:P("[".concat(t.name,"] Finished uploading")),i.setState({isInProgress:!1,abortUpload:d.a}),e.next=26;break;case 22:e.prev=22,e.t0=e.catch(8),P("[".concat(t.name,"] Upload error: ").concat(e.t0)),i.onUploadError();case 26:case"end":return e.stop()}}),e,null,[[8,22]])})))).apply(this,arguments)},i.cancel=function(){var e,t,n;i.state.abortUpload(),i.setState({files:[],isInProgress:!1,currentFile:0,currentProgress:0}),null===(e=i.uploadAreaRef.current)||void 0===e||e.reset(),null===(t=(n=i.props).onCompleted)||void 0===t||t.call(n)},i}return Object(s.a)(n,[{key:"render",value:function(){return Object(C.jsx)(A,{ref:this.uploadAreaRef,currentFile:this.state.currentFile,currentProgress:this.state.currentProgress,uploadIcon:this.props.uploadIcon,isDone:this.state.isDone,totalFiles:this.state.files.length,label:this.props.label,isDisabled:this.props.isDisabled,filters:{maxSize:104857600,minSize:1},onCancel:this.cancel,onFiles:this.onFiles})}}]),n}(p.PureComponent),D=Object(O.b)(R)},1420:function(e,t,n){},1421:function(e,t,n){},1422:function(e,t,n){},1423:function(e,t,n){},1424:function(e,t,n){},1425:function(e,t,n){},1426:function(e,t,n){},1427:function(e,t,n){},1428:function(e,t,n){},1429:function(e,t,n){},1430:function(e,t,n){},1431:function(e,t,n){},1432:function(e,t,n){},1433:function(e,t,n){},1434:function(e,t,n){},1435:function(e,t,n){},1436:function(e,t,n){},1437:function(e,t,n){},1438:function(e,t,n){},1439:function(e,t,n){},1440:function(e,t,n){},1441:function(e,t,n){},1443:function(e,t,n){},1444:function(e,t,n){},1445:function(e,t,n){},1446:function(e,t,n){},1447:function(e,t,n){},1448:function(e,t,n){},1449:function(e,t,n){},1450:function(e,t,n){},1452:function(e,t,n){},1453:function(e,t,n){},1454:function(e,t,n){},1455:function(e,t,n){},1456:function(e,t,n){},1457:function(e,t,n){},1458:function(e,t,n){},1459:function(e,t,n){},1460:function(e,t,n){},1461:function(e,t,n){},1462:function(e,t,n){},1463:function(e,t,n){},1519:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return Oa}));var i=n(11),r=n(5),o=n(4),a=n(40),s=n(41),c=n(3),l=n.n(c),u=n(67),d=n(1),p=n(0),h=n(104),b=n(22),f=n(266),v=n(85),m=n(192),y=n(25),j=n(32),g=n(1075),O=n(68),w=n.n(O),x=n(12),k=Object(c.createContext)({isConnected:!1,isUploadingFiles:!1,update:w.a}),C=function(e){Object(a.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(r.a)(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).update=function(t){e.setState(t)},e.state={isConnected:e.props.isConnected||!1,isUploadingFiles:e.props.isUploadingFiles||!1,update:e.update},e}return Object(o.a)(n,[{key:"render",value:function(){return Object(x.jsx)(k.Provider,{value:this.state,children:this.props.children})}}]),n}(c.Component),A=n(123),_=n.n(A),S=n(1019),P=n(369),E=(n(1420),function(e){Object(a.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(r.a)(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o)))._onToggleFromEsc=function(){var t=e.props.data,n=t.choices.get(t.cancelChoiceIndex);n&&!n.disabled&&n.callback()},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=e.data,n=e.visible;return Object(x.jsxs)(P.a,{className:_()("room-modal",t.id),"data-e2e":"room-modal",visible:n,onToggle:this._onToggleFromEsc,title:t.title,size:"tiny",closeWithEsc:!0,children:[Object(x.jsx)("p",{className:"text",children:t.message}),Object(x.jsx)("div",{className:"button-sequence",children:t.choices.filter((function(e){return e.visible})).map((function(e){return Object(x.jsx)(S.a,{className:"modal-button",onClick:e.callback,kind:e.type,disabled:e.disabled,loading:e.loading,children:e.label},e.id)}))})]})}}]),n}(c.Component));function R(){var e=Object(u.e)((function(e){return e.sessionApp.modals}));return Object(x.jsx)(x.Fragment,{children:e.map((function(e){return Object(x.jsx)(E,{data:e,visible:!0},e.id)}))})}var D=n(1053),I=n(1052),M=(n(1421),function(e){switch(e){case p.W.RoomNotFound:return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h1",{children:"Invalid invite code"}),Object(x.jsx)("p",{children:"We could not find a project with this invite code"})]});case p.W.OnlyLtiAttendeesAllowed:return Object(x.jsxs)("h1",{children:["This project can only be accessed through ",Object(x.jsx)("a",{href:b.h,children:"Coursera"})]});case p.W.RoomMaxCapacityReached:return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h1",{children:"Maximum project capacity reached"}),Object(x.jsx)("p",{children:"You cannot join as the project is full"})]});case p.W.AttendeeIsGuide:return Object(x.jsx)("h1",{children:"Joining room as guide is no longer supported"});case p.W.NotRecordedSession:return Object(x.jsx)("h1",{children:"Live and Collaboration sessions are no longer supported"});case p.W.RoomExpired:return Object(x.jsx)("h1",{children:"This Guided Project is no longer available"});case p.W.LoggedOut:return Object(x.jsx)("h1",{children:"You have been logged out"});case p.W.Unknown:default:return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h1",{children:"Initialization error"}),Object(x.jsx)("p",{children:"Error initializing the application. Please try again in a few minutes."})]})}}),N=function(e){var t=e.error;return Object(x.jsxs)("div",{className:"room-init-error page-wrapper",children:[Object(x.jsx)(I.a,{overflow:"hidden"}),Object(x.jsx)(D.a,{}),Object(x.jsx)("div",{className:"error-message",children:M(t)})]})};var T,V,L=n(1094),F=n(48),z=n(102),B=n(19),W=B.a.InactivityLimitInMinutes,U=60*W*1e3,H=60*B.a.InactivityInModalLimitInMinutes*1e3,X=Symbol("VmInteraction"),K=Symbol("InactivityLimitReached"),q=function(){function e(){var t=this;Object(r.a)(this,e),this._emitter=new z.EventEmitter,this._lastVMInteraction=new Date,this._lastAppInteraction=new Date,this._updateActivityInterval=null,this._lastLoggedVMInteraction=this._lastVMInteraction,this.logVmInteraction=function(){t._lastVMInteraction=new Date,t._onAppInteraction()},this._onAppInteraction=function(){return t._lastAppInteraction=new Date}}return Object(o.a)(e,[{key:"lastVmInteraction",get:function(){return this._lastVMInteraction}},{key:"hasTrackingStarted",get:function(){return!!this._updateActivityInterval}},{key:"onVmInteraction",value:function(e){var t=this;return this._emitter.addListener(X,e),function(){return t._emitter.removeListener(X,e)}}},{key:"onInactivityLimitReached",value:function(e){var t=this;return this._emitter.addListener(K,e),function(){return t._emitter.removeListener(K,e)}}},{key:"startTracking",value:function(){var e=this;this.hasTrackingStarted||(document.addEventListener("mousemove",this._onAppInteraction),document.addEventListener("keyup",this._onAppInteraction),this._updateActivityInterval=setInterval((function(){e._lastLoggedVMInteraction!==e._lastVMInteraction&&(e._emitter.emit(X,e._lastVMInteraction),e._lastLoggedVMInteraction=e._lastVMInteraction),Date.now()-e._lastAppInteraction.getTime()>U&&e._emitter.emit(K)}),5e3))}},{key:"stopTracking",value:function(){document.removeEventListener("mousemove",this._onAppInteraction),document.removeEventListener("keyup",this._onAppInteraction),clearInterval(this._updateActivityInterval),this._updateActivityInterval=null}}]),e}(),Y=(n(1422),function(e){var t=Object(F.k)();return Object(c.useEffect)((function(){t({action:"load",obj:"workspace put on hold page"})}),[]),Object(x.jsxs)("div",{className:"inactive-student-view page-wrapper",children:[Object(x.jsx)(I.a,{overflow:"hidden"}),Object(x.jsx)(D.a,{}),Object(x.jsxs)("div",{className:"message",children:[Object(x.jsx)("div",{className:"top-spacer"}),Object(x.jsxs)("p",{children:["We noticed you were inactive for more than ",W," minutes. We have put your cloud workspace on hold in order to save resources."]}),Object(x.jsx)(L.a,{onClick:e.onActiveUser,children:"Continue with the project"}),Object(x.jsx)("div",{className:"bottom-spacer"})]})]})}),Q=n(367),G=n(281),Z=n(1040),J=n(366),$=n(1036),ee=n(283),te=n.n(ee),ne=["title","titleId"];function ie(){return ie=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ie.apply(this,arguments)}function re(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oe(e,t){var n=e.title,i=e.titleId,r=re(e,ne);return c.createElement("svg",ie({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:48,height:48,viewBox:"0 0 48 48",ref:t,"aria-labelledby":i},r),n?c.createElement("title",{id:i},n):null,T||(T=c.createElement("defs",null,c.createElement("polygon",{id:"close-a",points:"40.069 6.222 24 22.291 7.931 6.222 6.222 7.931 22.291 23.999 6.222 40.069 7.931 41.778 24 25.709 40.069 41.778 41.778 40.069 25.709 23.999 41.778 7.931"}))),V||(V=c.createElement("use",{fill:"#1F1F1F",fillRule:"evenodd",xlinkHref:"#close-a"})))}var ae,se=c.forwardRef(oe),ce=(n.p,n(225)),le=n(370);n(1423);null!==(ae=document)&&void 0!==ae&&ae.getElementById("root")&&te.a.setAppElement("#root");var ue=function(e){var t=e.showUnderHeader,n=void 0===t||t,i=e.closeWithEsc,r=void 0===i||i,o=e.visible,a=e.title,s=e.onToggle,l=e.children,u=Object(c.useRef)(null),d="Side screen modal: ".concat(a);return Object(x.jsxs)(te.a,{isOpen:o,contentRef:function(e){return u.current=e},shouldCloseOnOverlayClick:r,overlayClassName:_()("slide-in-modal-backdrop",n&&"under-header"),className:_()("slide-in-modal",n&&"under-header"),aria:{label:d},role:"document",onRequestClose:s,shouldCloseOnEsc:r,closeTimeoutMS:400,onAfterOpen:function(){v.b.say("".concat(d," is opened."));var e=Object(le.b)(u.current);null===e||void 0===e||e.focus()},children:[Object(x.jsxs)("div",{className:"header",children:[Object(x.jsx)("h2",{children:a}),Object(x.jsx)(ce.a,{"aria-label":"Close",className:"close",onClick:s,children:Object(x.jsx)(se,{})})]}),l]})},de=n(46),pe=n(28),he=n(218),be=n(190),fe=Math.round(.75*window.outerWidth),ve=Math.round(.75*window.outerHeight),me={width:fe,height:ve,left:Math.round(window.outerWidth/2+window.screenX-fe/2),top:Math.round(window.outerHeight/2+window.screenY-ve/2)},ye=function(e){return e instanceof HTMLLinkElement&&"stylesheet"===e.getAttribute("rel")},je=function(e){var t,n=e.title,i=void 0===n?document.title:n,r=e.containerClassName,o=void 0===r?"":r,a=e.onClose,s=void 0===a?he.noop:a,l=e.children,u=Object(c.useState)(null),d=Object(pe.a)(u,2),p=d[0],h=d[1],b=Object(c.useRef)(null),f=Object(c.useCallback)((function(){return s()}),[s]),v=Object(c.useCallback)((function(){if(b.current){!function(e,t){var n=e.createElement("base"),i=e.createDocumentFragment(),r=document.documentElement.style.cssText,o=Array.from(document.head.childNodes).reduce((function(t,n){if(n instanceof HTMLScriptElement||n instanceof HTMLMetaElement||n instanceof HTMLTitleElement||n instanceof HTMLLinkElement&&!ye(n))return t;var i,r=n.cloneNode(!0);if(ye(n)&&(i=n.getAttribute("href")||"",!/^[a-z][a-z0-9+.-]*:/.test(i))&&n.sheet){var o=Array.from(n.sheet.cssRules).map((function(e){return e.cssText})).join("");(r=e.createElement("style")).textContent=o}return[].concat(Object(de.a)(t),[r])}),[]);if(document.doctype){var a=e.implementation.createDocumentType(document.doctype.name,document.doctype.publicId,document.doctype.systemId);e.prepend(a)}n.setAttribute("href",document.location.origin),i.append.apply(i,[].concat(Object(de.a)(o),[n])),e.head.append(i),e.documentElement.style.cssText=r,e.title="".concat(t," in a separate window")}(b.current.document,i);var e=Object(le.b)(b.current.document.body);null===e||void 0===e||e.focus()}}),[i]),m=Object(c.useCallback)((function(){if(b.current){var e=b.current.document.createElement("div");o&&e.classList.add(o),b.current.document.body.appendChild(e),h(e)}}),[o]);return function(e,t){var n=function(e){return e instanceof HTMLStyleElement},i=Object(c.useCallback)((function(i){if(t){var r=Array.from(e.childNodes);i.flatMap((function(e){return Array.from(e.addedNodes)})).filter(n).sort((function(e,t){return r.indexOf(e)-r.indexOf(t)})).forEach((function(e){var n=r.indexOf(e),i=t.childNodes[n]||null;t.insertBefore(e.cloneNode(!0),i)})),i.flatMap((function(e){return Array.from(e.removedNodes)})).filter(n).forEach((function(e){var n=Array.from(t.childNodes).find((function(t){return t.isEqualNode(e)}));null===n||void 0===n||n.remove()}))}}),[e,t]);Object(c.useEffect)((function(){var t=new MutationObserver(i);return t.observe(e,{childList:!0}),function(){return t.disconnect()}}),[e,i])}(document.head,null===(t=b.current)||void 0===t?void 0:t.document.head),Object(c.useEffect)((function(){return b.current=window.open("","",Object.entries(me).map((function(e){var t=Object(pe.a)(e,2),n=t[0],i=t[1];return"".concat(n,"=").concat(i)})).join(", ")),m(),function(){var e;null===(e=b.current)||void 0===e||e.close()}}),[m]),Object(c.useEffect)((function(){p&&v()}),[p,v]),Object(c.useEffect)((function(){var e;return null===(e=b.current)||void 0===e||e.addEventListener("beforeunload",f),function(){var e;null===(e=b.current)||void 0===e||e.removeEventListener("beforeunload",f)}}),[f]),p?be.createPortal(l,p):null},ge=n(63),Oe=(n(1424),B.a.AttendeeConnectionExtendWindowInMinutes*ge.a.Min),we=30*ge.a.Sec,xe=60*ge.a.Sec,ke={expireStyle:!1,countdownLabel:""},Ce=function(e){Object(a.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(r.a)(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).state=ke,e.expireStyleTimer=0,e.setCountdownLabel=function(){var t="Cloud Workspace time left: ".concat(Object(ge.f)(e.props.timeLeft));e.setState({countdownLabel:t})},e.toggleExpireStyle=function(){e.setState({expireStyle:!e.state.expireStyle})},e.clearExpireStyleInterval=function(){e.expireStyleTimer&&(clearInterval(e.expireStyleTimer),e.expireStyleTimer=0)},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.setCountdownLabel()}},{key:"componentWillUnmount",value:function(){this.clearExpireStyleInterval()}},{key:"componentDidUpdate",value:function(e){e.timeLeft!==this.props.timeLeft&&this.didUpdateTimeLeft()}},{key:"render",value:function(){var e=this.props.timeLeft;return e<=0||e>Oe?null:Object(x.jsxs)("div",{className:_()("countdown-timer tooltip rel b la",this.state.expireStyle&&"expires"),"data-tooltip":"Time remaining before session ends",children:[Object(x.jsx)("span",{className:"stopwatch-icon","aria-hidden":!0}),Object(x.jsx)("span",{className:"time-left","aria-hidden":!0,children:Object(ge.d)(this.props.timeLeft)}),Object(x.jsx)("span",{className:"a11y-visually-hidden","aria-live":"polite","aria-atomic":"true",children:this.state.countdownLabel})]})}},{key:"didUpdateTimeLeft",value:function(){var e=this.props.timeLeft;e<=xe&&!this.expireStyleTimer&&(this.expireStyleTimer=setInterval(this.toggleExpireStyle,300)),e>xe&&this.expireStyleTimer&&(this.clearExpireStyleInterval(),this.setState({expireStyle:!1})),e%we===0&&this.setCountdownLabel(),0===e&&this.clearExpireStyleInterval()}}]),n}(c.PureComponent),Ae=Object(u.c)((function(e){return{timeLeft:e.sessionApp.timeLeft}}))(Ce),_e=n(124),Se=["isDisabled"];function Pe(e){return Object(c.forwardRef)((function(t,n){var r=t.isDisabled,o=Object(_e.a)(t,Se),a=Object(c.useContext)(Q.a).isDisabled||!!r;return Object(c.createElement)(e,Object(i.a)(Object(i.a)({ref:n},o),{},{tabIndex:a?void 0:o.tabIndex,"aria-hidden":!!a||o["aria-hidden"]}))}))}var Ee=Pe("div"),Re=Pe("section"),De=Pe("footer"),Ie=n(1061),Me=n(1096),Ne=n(1063),Te=(n(1425),Object(c.memo)((function(){var e=function(){var e=Object(u.e)(y.F).status,t=Object(c.useState)(!1),n=Object(pe.a)(t,2),i=n[0],r=n[1];Object(c.useEffect)((function(){e===p.wb.KeyboardFocused||e===p.wb.KeyboardActive?!i&&r(!0):r(!1)}),[e]);var o=Object(c.useState)(!1),a=Object(pe.a)(o,2),s=a[0],l=a[1];return{showHint:i&&!s,dismiss:function(){return l(!0)},isActive:e>=p.wb.MouseActive}}(),t=e.showHint,n=e.dismiss,i=e.isActive;return t?Object(x.jsxs)("div",{className:"focus-vm-hint",onClick:n,children:[i?Object(x.jsxs)("span",{children:["Press ",Object(x.jsx)("strong",{children:"Ctrl-Ctrl"})," to detach keyboard from the workspace"]}):Object(x.jsxs)("span",{children:["Press ",Object(x.jsx)("strong",{children:"Enter"})," to attach keyboard to the workspace"]}),Object(x.jsx)(ce.a,{"aria-label":"Got it. Don't show keyboard navigation hint in this session",onClick:n,title:"Don't show it again in this session",children:"Got it"})]}):null}))),Ve=(n(1426),{width:400,height:400,scaleX:1,scaleY:1}),Le=function(e){Object(a.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(r.a)(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).context=void 0,e.state=Ve,e.onConnect=function(){var t,n;e.context.update({isConnected:!0}),null===(t=(n=e.props).onConnect)||void 0===t||t.call(n)},e.onDisconnect=function(){var t,n;e.context.update({isConnected:!1}),null===(t=(n=e.props).onDisconnect)||void 0===t||t.call(n)},e.onContainerMousedown=function(t){t.target===e._leftCont&&t.preventDefault()},e.onContainerFocus=function(t){e.props.vmActiveStatus===p.wb.Inactive&&t.target===e._leftCont&&e.props.setVmActiveStatus(p.wb.KeyboardFocused)},e.onBlur=function(t){var n;e.props.vmActiveStatus!==p.wb.KeyboardFocused&&e.props.vmActiveStatus!==p.wb.MouseFocused||null!==(n=e._leftCont)&&void 0!==n&&n.contains(t.relatedTarget)||e.props.setVmActiveStatus(p.wb.Inactive)},e.onKeyPress=function(t){"Enter"===t.key&&t.target===e._leftCont&&e.props.setVmActiveStatus(p.wb.KeyboardActive)},e.focusContainer=function(){e._leftCont&&e._leftCont.focus()},e}return Object(o.a)(n,[{key:"_screenWidth",get:function(){return this.props.vm?this.props.vm.width:B.a.DefaultScreenWidth}},{key:"_screenHeight",get:function(){return this.props.vm?this.props.vm.height:B.a.DefaultScreenHeight}},{key:"_horizontalPadding",get:function(){return 10}},{key:"_verticalPadding",get:function(){return 10}},{key:"componentDidUpdate",value:function(e){var t=this.props.vm,n=e.vm;(t&&!n||t&&n&&(t.width!==n.width||t.height!==n.height))&&this.adjustLayout();var i=this.props.vmActiveStatus;i===e.vmActiveStatus||i!==p.wb.KeyboardFocused&&i!==p.wb.MouseFocused||this.focusContainer()}},{key:"render",value:function(){return Object(x.jsxs)(Ee,{className:_()("focus-vm",this.props.isVmActive&&"vm-active",this.context.isConnected&&"connected"),tabIndex:0,ref:this.onLeftContRef,onFocus:this.onContainerFocus,onBlur:this.onBlur,onKeyPress:this.onKeyPress,onMouseDown:this.onContainerMousedown,role:"application",children:[Object(x.jsx)(Te,{}),Object(x.jsx)(Ie.a,{originalWidth:this.props.vm.width,originalHeight:this.props.vm.height,scaledWidth:this.state.width-4,children:Object(x.jsx)(Me.a,{active:this.props.isVmActive,onKeyDown:this.props.onEvent,onKeyUp:this.props.onEvent,onMouseEvent:this.props.onEvent,vm:this.props.vm,template:this.props.focusVmTemplate,templateOS:this.props.templateOS,isViewExpanded:this.props.rightPanelExpandedForStudents,showViewbox:this.props.showViewbox,viewboxSize:this.props.viewboxSize,width:this.props.vm.width,height:this.props.vm.height,scaleRatio:{scaleX:this.state.scaleX,scaleY:this.state.scaleY},onConnect:this.onConnect,onDisconnect:this.onDisconnect,dispatch:this.props.dispatch,vmAccessLimitReached:this.props.vmAccessLimitReached})})]})}}]),n}(Ne.a);Le.contextType=k;var Fe,ze=Object(u.c)((function(e){var t,n;return{vm:Object(y.s)(e)||Object(p.vb)(),focusVmTemplate:Object(y.t)(e),vmAccessLimitReached:null===(t=Object(y.h)(e))||void 0===t?void 0:t.vmAccessLimitReached,rightPanelExpandedForStudents:e.rightPanelExpandedForStudents,vmActiveStatus:e.vmActiveState.status,isVmActive:Object(y.v)(e),templateOS:null===(n=Object(y.A)(e))||void 0===n?void 0:n.os}}),(function(e){return{setVmActiveStatus:function(t){return e(new d.Hb(t))},dispatch:e}}))(Le),Be=n(1512),We=n(382),Ue=function(){var e=Object(u.d)();return Object(c.useCallback)((function(){e(new d.Q),e(new d.rb(p.I.Docked)),e(new d.x(p.F.Right)),e(new We.a({playVideoInBackground:!0})),e(new d.zb(p.xb.PersonalWorkspace))}),[e])},He=n(1158),Xe=n(1054),Ke=n(1510),qe=n(1511),Ye=function(e,t){var n=Object(u.d)();return Object(c.useCallback)((function(){n(new d.x(e,t))}),[e,n])},Qe=Object(c.memo)((function(e){var t=e.panel,n=e.panelAriaName,i=Ye(p.F.None),r=Ye(t,n),o=n||(t===p.F.Left?"left":"right"),a=Object(u.e)((function(e){return e.expandedPanel.mode})),s=Object(u.e)(y.L);return Object(x.jsx)("div",{className:"panel-mode-toggle",children:a===t?Object(x.jsxs)(Xe.a,{children:[Object(x.jsx)(Xe.b,{size:"small",theme:"dark",children:"Collapse ".concat(o," panel")}),Object(x.jsx)(ce.a,{className:"split-screen",disabled:s,onClick:i,children:Object(x.jsx)(Ke.a,{size:"small"})})]}):Object(x.jsxs)(Xe.a,{children:[Object(x.jsx)(Xe.b,{size:"small",theme:"dark",children:"Expand ".concat(o," panel")}),Object(x.jsx)(ce.a,{className:"full-screen",disabled:s,onClick:r,children:Object(x.jsx)(qe.a,{size:"small"})})]})})})),Ge=n(1161),Ze=(n(1427),Object(c.memo)((function(e){var t=e.isBroadcastingCamera,n=Object(u.e)(y.s),i=Object(u.e)(y.C),r=Object(F.k)(),o=Ue(),a=Object(u.e)(y.K),s=Object(c.useCallback)((function(){o(),r({action:"click",obj:"close workspace panel button"})}),[o,r]);return Object(x.jsxs)("div",{className:"focus-vm-header",children:[Object(x.jsx)("h2",{className:"title",children:"Workspace"}),n&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("p",{className:"a11y-visually-hidden",children:"The cloud workspace cannot be accessed or announced by assistive technologies and screen readers. You can disable the cloud workspace from the settings panel by enabling the accessible mode."}),Object(x.jsx)(Ge.a,{vm:n,className:"connection-quality"}),Object(x.jsxs)("div",{className:"controls",children:[Object(x.jsx)(He.a,{disabled:t,vm:n}),!a&&Object(x.jsx)(Qe,{panelAriaName:"Workspace",panel:p.F.Left})]})]}),i===p.xb.None&&Object(x.jsxs)(Xe.a,{children:[Object(x.jsx)(Xe.b,{size:"small",theme:"dark",children:"Close Workspace panel"}),Object(x.jsx)(ce.a,{className:"split-screen",onClick:s,children:Object(x.jsx)(Be.a,{size:"medium"})})]})]})}))),Je=(n(1428),function(e){return Object(x.jsxs)(ce.a,{className:_()("header-button",e.selected&&"selected"),disabled:e.disabled,onClick:e.onClick,tooltip:e.tooltip,children:[Object(x.jsx)("img",{alt:"",src:e.iconSrc}),Object(x.jsx)("span",{children:e.text})]})}),$e=n.p+"static/media/setting.1fbe6883.svg",et=function(e){return Object(x.jsx)(Je,{text:"Settings",selected:e.selected,iconSrc:$e,onClick:e.onToggleSettings})},tt=n.p+"static/media/leave-session.a71c3c4e.svg",nt=function(e){var t=e.onLeave,n=Object(F.k)(),i=Object(c.useCallback)((function(){t(),n({action:"click",obj:"leave session button"})}),[t,n]);return Object(x.jsx)(Je,{text:"Leave Session",iconSrc:tt,onClick:i})},it=(n(1429),function(){var e=Object(u.e)(y.z);if(e.type!==p.z.Recorded)return null;var t=e.chapters.count(),n=e.chapters.filter((function(e){return e.state===p.e.Completed||e.state===p.e.Approved})).count(),i=Math.round(n/t*100),r={width:"".concat(i,"%")},o="".concat(i,"% of tasks completed");return Object(x.jsxs)("div",{className:"project-progress-container",title:"Progress: ".concat(o),children:["Progress ",Object(x.jsx)("span",{className:"a11y-visually-hidden",children:o}),Object(x.jsx)("div",{className:"progress",children:Object(x.jsx)("span",{className:"completed",style:r})})]})}),rt=n.p+"static/media/help.ec7f345b.svg",ot=function(e){return Object(x.jsx)(Je,{text:"Help",selected:e.selected,iconSrc:rt,onClick:e.onToggleHelp})},at=n(33),st=n(250),ct=n(56),lt=n(1045),ut=["title","titleId"];function dt(){return dt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},dt.apply(this,arguments)}function pt(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ht(e,t){var n=e.title,i=e.titleId,r=pt(e,ut);return c.createElement("svg",dt({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:24,height:24,viewBox:"0 0 24 24",ref:t,"aria-labelledby":i},r),n?c.createElement("title",{id:i},n):null,Fe||(Fe=c.createElement("path",{d:"M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm0-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})))}var bt,ft=c.forwardRef(ht),vt=(n.p,["title","titleId"]);function mt(){return mt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},mt.apply(this,arguments)}function yt(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jt(e,t){var n=e.title,i=e.titleId,r=yt(e,vt);return c.createElement("svg",mt({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:24,height:24,viewBox:"0 0 24 24",ref:t,"aria-labelledby":i},r),n?c.createElement("title",{id:i},n):null,bt||(bt=c.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})))}var gt,Ot,wt=c.forwardRef(jt),xt=(n.p,n(1430),function(e){var t=e.value,n=e.checked,i=e.name,r=e.className,o=e.onChange,a=e.children;return Object(x.jsxs)("label",{className:_()("radio-button",r),children:[Object(x.jsxs)("span",{className:"radio-button__input",children:[Object(x.jsx)("input",{type:"radio",value:t,name:i,checked:n,onChange:o}),Object(x.jsx)("span",{className:"radio-button__container",children:n?Object(x.jsx)(ft,{"aria-hidden":"true",focusable:"false"}):Object(x.jsx)(wt,{"aria-hidden":"true",focusable:"false"})})]}),Object(x.jsx)("span",{className:"radio-button__label",children:a})]})}),kt=["title","titleId"];function Ct(){return Ct=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ct.apply(this,arguments)}function At(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _t(e,t){var n=e.title,i=e.titleId,r=At(e,kt);return c.createElement("svg",Ct({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:48,height:48,viewBox:"0 0 48 48",ref:t,"aria-labelledby":i},r),n?c.createElement("title",{id:i},n):null,gt||(gt=c.createElement("defs",null,c.createElement("polygon",{id:"check2-a",points:"19.803 31.303 7.545 19.608 4 23.522 19.803 39.429 44 12.119 40.063 8"}))),Ot||(Ot=c.createElement("use",{fill:"#1F1F1F",fillRule:"evenodd",xlinkHref:"#check2-a"})))}var St,Pt,Et,Rt=c.forwardRef(_t),Dt=(n.p,n.p+"static/media/flag.94a7aea1.svg"),It=(n(1431),n(1091)),Mt=Object(at.c)("SendFeedbackButton",!0).log,Nt=["Instructional video","Cloud Workspace"],Tt={category:"",placeholderText:""},Vt=[{category:"Closed caption issues",placeholderText:"Example: Closed captions are inaccurate or missing"},{category:"Outdated video content",placeholderText:"Example: Features the instructor mentions aren\u2019t available in my Cloud Workspace"},{category:"Video streaming",placeholderText:"Example: Video takes a long time to load or is choppy"},{category:"Poor audio quality",placeholderText:"Example: The volume is too low"},{category:"Other",placeholderText:"Describe the issue you\u2019re experiencing"}],Lt=[{category:"Cloud Workspace isn\u2019t set up as demonstrated in the video",placeholderText:"Example: Application is missing or is a different version than what\u2019s shown in the video"},{category:"Software is unusable",placeholderText:"Example: Unable to get access to the software because I don\u2019t have an account"},{category:"Instructor files are missing or inaccessible",placeholderText:"Example: Unable to open a specific file"},{category:"Cloud Workspace isn\u2019t connecting",placeholderText:"Example: Cloud Workspace isn\u2019t loading"},{category:"Cloud Workspace isn\u2019t responding or is lagging",placeholderText:"Example: Cloud Workspace doesn\u2019t respond or takes a long time to respond when I perform an action"},{category:"Keyboard issues",placeholderText:"Example: I cannot type a special character within the workspace"},{category:"Other",placeholderText:"Describe the issue you\u2019re experiencing"}],Ft="Your report has been submitted successfully",zt=Object(c.memo)((function(){var e=Object(c.useState)(!1),t=Object(pe.a)(e,2),n=t[0],i=t[1],r=Object(c.useState)(""),o=Object(pe.a)(r,2),a=o[0],s=o[1],l=Object(c.useState)(Tt),d=Object(pe.a)(l,2),h=d[0],b=d[1],f=Object(c.useState)(""),v=Object(pe.a)(f,2),m=v[0],j=v[1],g=Object(c.useState)(!1),O=Object(pe.a)(g,2),w=O[0],k=O[1],C=Object(c.useRef)(!0),A=Object(It.a)(),_=Object(u.d)(),S=(Object(u.e)(y.y)||Object(st.d)({})).id,E=(Object(u.e)(y.s)||Object(p.vb)({})).id,R=Object(u.e)(y.j)||Object(p.m)({}),D=R.time,I=R.chapterId,M={category:h.category,chapterId:I,courseId:S,description:m,videoTimestamp:Math.trunc(1e3*D),vmId:E};Object(c.useEffect)((function(){n||(s(""),k(!1)),C.current||Mt((n?"Opening":"Closing")+" feedback modal")}),[n]),Object(c.useEffect)((function(){b(Tt),j("")}),[a]),Object(c.useEffect)((function(){w&&Mt("Submitting user feedback: ",M)}),[w]),Object(c.useEffect)((function(){C.current&&(C.current=!1)}),[]);var N=Nt.map((function(e){return Object(x.jsx)(xt,{value:e,name:"group",className:"feedback__option",checked:a===e,onChange:function(e){return s(e.target.value)},children:e},e)})),T=Vt.map((function(e){return Object(x.jsx)(xt,{value:e.category,name:"issue",className:"feedback__option",checked:h.category===e.category,onChange:function(){return b(e)},children:e.category},e.category)})),V=Lt.map((function(e){return Object(x.jsx)(xt,{value:e.category,name:"issue",className:"feedback__option",checked:h.category===e.category,onChange:function(){return b(e)},children:e.category},e.category)}));return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(P.a,{title:"Report an issue",visible:n&&!w,size:"tiny",className:"feedback",onToggle:i,"data-e2e":"feedback-modal",ariaLive:"polite",children:Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("p",{children:["Submit an issue you\u2019re experiencing with the Instructional Video or Cloud Workspace. If you need to get in touch, visit the"," ",Object(x.jsx)("a",{href:"https://learner.coursera.help/hc/en-us/articles/360044549452",target:"_blank",rel:"noopener noreferrer",children:"Learner Help Centre"})," ","for more information."]}),Object(x.jsxs)("form",{onSubmit:function(e){return e.preventDefault()},className:"feedback-form",children:[Object(x.jsxs)("fieldset",{className:"feedback__section",children:[Object(x.jsx)("legend",{className:"feedback__section-title",children:"What aspect of the guided project are you experiencing issues with?"}),N]}),""!==a&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("fieldset",{className:"feedback__section",children:[Object(x.jsx)("legend",{className:"feedback__section-title",children:"Select an issue you'd like to report:"}),a===Nt[0]&&T,a===Nt[1]&&V]}),Object(x.jsxs)("div",{className:"feedback__section",children:[Object(x.jsx)("span",{className:"a11y-visually-hidden",id:"feedback__description-text",children:h.placeholderText}),Object(x.jsx)("label",{htmlFor:A,className:"feedback__section-title",children:"Describe the issue (optional)"}),Object(x.jsx)("textarea",{"aria-describedby":"feedback__description-text",id:A,placeholder:h.placeholderText,value:m,onChange:function(e){return j(e.target.value)},className:"feedback__description"})]})]}),Object(x.jsxs)("div",{className:"button-sequence",children:[Object(x.jsx)(lt.a,{className:"modal-button",kind:"secondary",onClick:function(){return i(!1)},children:"Cancel"}),Object(x.jsx)(lt.a,{className:"modal-button",kind:"primary",disabled:h.category===Tt.category,onClick:function(){_(ct.a.sendCourseFeedback(Object(p.w)(M))),k(!0)},children:"Submit"})]})]})]})}),Object(x.jsx)(P.a,{visible:n&&w,size:"tiny",className:"feedback",onToggle:i,"data-e2e":"feedback-modal",ariaLabel:Ft,children:Object(x.jsxs)("div",{className:"feedback__success",children:[Object(x.jsx)(Rt,{className:"feedback__check-icon"}),Object(x.jsx)("p",{"aria-hidden":"true",children:Ft}),Object(x.jsx)(lt.a,{kind:"primary",type:"button",onClick:function(){return i(!1)},children:"Got it"})]})}),Object(x.jsx)(Je,{text:"Report an issue",selected:n,iconSrc:Dt,onClick:function(){return i(!0)}})]})})),Bt=(n(1432),function(e){return Object(x.jsxs)("div",{className:"session-view",children:[e.header,Object(x.jsx)("main",{"aria-label":"Main panels",children:e.content}),e.footer]})}),Wt=n(1099),Ut=(n(1433),["className"]),Ht=function(e){var t=e.className,n=Object(_e.a)(e,Ut),r=Object(c.useCallback)((function(e){e.preventDefault();var t=Object(le.b)(document.querySelector("main"));null===t||void 0===t||t.focus()}),[]);return Object(x.jsx)("a",Object(i.a)(Object(i.a)({},n),{},{tabIndex:0,className:_()("skip-link","a11y-visually-hidden",t),href:"#",onClick:r,children:"Skip to main content"}))},Xt=(n(1434),function(e){var t=Object(u.e)(y.w);return Object(x.jsxs)("section",{className:"session-header","aria-label":"Coursera header",children:[Object(x.jsx)("h1",{className:"a11y-visually-hidden",children:t}),Object(x.jsx)(Ht,{}),Object(x.jsx)(Wt.a,{className:"logo"}),e.children]})}),Kt=n(1027),qt=(n(1435),n(1101)),Yt=["title","titleId"];function Qt(){return Qt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Qt.apply(this,arguments)}function Gt(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Zt(e,t){var n=e.title,i=e.titleId,r=Gt(e,Yt);return c.createElement("svg",Qt({fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 4 24",ref:t,"aria-labelledby":i},r),n?c.createElement("title",{id:i},n):null,St||(St=c.createElement("circle",{cx:2,cy:2,r:2,fill:"currentColor"})),Pt||(Pt=c.createElement("circle",{cx:2,cy:12,r:2,fill:"currentColor"})),Et||(Et=c.createElement("circle",{cx:2,cy:22,r:2,fill:"currentColor"})))}var Jt=c.forwardRef(Zt),$t=(n.p,"hidden"),en=function(e){var t=e.ariaLabel?"section":"div";return Object(x.jsxs)(t,{"data-onboarding-step":e["data-onboarding-step"],className:_()("splitter-panel",e.className),"aria-label":e.ariaLabel,children:[Object(x.jsx)("header",{children:e.header}),Object(x.jsx)("section",{children:e.content})]})},tn=function(e){Object(a.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(r.a)(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).state={isDragging:!1,hasLayoutChange:!1},e.splitter=void 0,e.panelsResizeObserver=void 0,e.onDragStart=function(){e.setState({isDragging:!0},(function(){e.props.expandedPanelMode!==p.F.None&&e.props.changeExpandedPanel(p.F.None)}))},e.onDragEnd=function(){e.setState({isDragging:!1},(function(){if(e.splitter){var t=e.splitter,n=t.rightPanel,i=t.splitter,r=t.wrapper;n.clientWidth+i.clientWidth>=r.clientWidth?e.props.changeExpandedPanel(p.F.Right):0===n.clientWidth&&e.props.changeExpandedPanel(p.F.Left)}}))},e.onSplitterLayoutRef=function(t){if(t){var n=Object(be.findDOMNode)(t);if(n instanceof Element){var i=n.querySelector(".layout-splitter"),r=n.querySelector(".layout-pane:not(.layout-pane-primary)"),o=n.querySelector(".layout-pane.layout-pane-primary");e.splitter=n&&i&&r&&o?{wrapper:n,splitter:i,rightPanel:r,leftPanel:o}:null,e.observePanelsResize()}}else e.panelsResizeObserver&&e.panelsResizeObserver.disconnect(),e.splitter=null},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.leftPanel||this.expandRightPanel()}},{key:"componentDidUpdate",value:function(e){!this.props.leftPanel&&e.leftPanel&&this.expandRightPanel(),this.props.expandedPanelMode===e.expandedPanelMode&&this.props.workspaceMode===p.xb.None||this.setState({hasLayoutChange:!0})}},{key:"componentWillUnmount",value:function(){this.panelsResizeObserver.disconnect()}},{key:"render",value:function(){return Object(x.jsx)("div",{className:_()("splitter",this.props.className,{"disable-animation":this.state.isDragging||!this.props.leftPanel||!this.state.hasLayoutChange,disabled:this.props.isMovingSplitterDisabled}),children:Object(x.jsxs)(qt.a,{ref:this.onSplitterLayoutRef,percentage:!0,secondaryInitialSize:this.props.leftPanel?40:100,onDragStart:this.onDragStart,onDragEnd:this.onDragEnd,collapsed:this.props.expandedPanelMode,handle:Object(x.jsx)(Jt,{width:4,height:24,"aria-hidden":"true",className:"splitter-icon"}),children:[Object(x.jsxs)("section",{className:"left-panel",children:[this.state.isDragging?Object(x.jsx)("div",{className:"dragging-overlay"}):null,this.props.leftPanel]}),Object(x.jsx)("section",{className:"right-panel",children:this.props.rightPanel})]})})}},{key:"expandRightPanel",value:function(){this.props.changeExpandedPanel(p.F.Right)}},{key:"observePanelsResize",value:function(){this.splitter&&(this.panelsResizeObserver=new Kt.a(this.onPanelResize),this.panelsResizeObserver.observe(this.splitter.leftPanel),this.panelsResizeObserver.observe(this.splitter.rightPanel))}},{key:"onPanelResize",value:function(e){e.forEach((function(e){if(e.target.firstElementChild){var t=Math.floor(e.contentRect.width),n=e.target.firstElementChild.classList;0!==t||n.contains($t)?t>0&&n.contains($t)&&n.remove($t):n.add($t)}}))}}]),n}(c.PureComponent),nn=Object(u.c)((function(e){return{expandedPanelMode:e.expandedPanel.mode,isMovingSplitterDisabled:Object(y.L)(e),workspaceMode:Object(y.C)(e)}}),(function(e){return{changeExpandedPanel:function(t){return e(new d.x(t))}}}))(tn),rn={none:{display:"none"},block:{display:"block"}},on=function(e){var t=e.visible,n=e.id,r=e.children;return Object(x.jsx)("div",Object(i.a)(Object(i.a)({},Object(m.d)(n)),{},{tabIndex:-1,style:t?rn.block:rn.none,children:c.Children.map(r,(function(e){return Object(c.cloneElement)(e,{tabVisible:t})}))}))},an=(n(1436),function(e){Object(a.a)(n,e);var t=Object(s.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.visibleViewId,i=new Set(t.map((function(e){return e.props.id})));if(t.length!==i.size)throw new Error("Views component: The views should have unique tab IDs. IDs: ".concat(i));return Object(x.jsx)("section",{className:"rhyme-views",children:t.map((function(e){return Object(c.cloneElement)(e,{visible:n===e.props.id})}))})}}]),n}(c.PureComponent)),sn=n(6),cn=n(1513),ln=n(1514),un=n(1515),dn=n(162);var pn=function(e){return function(t){var n=t.reduce((function(e,t){var n=t.target,r=n.dataset.id,o=void 0===r?"":r;if(!o)throw Error("useElementsRectRelativeToParent: measured element ".concat(n," should have a 'data-id' attribute."));var a=n.getBoundingClientRect(),s=n.parentElement?n.parentElement.getBoundingClientRect():null;return Object(i.a)(Object(i.a)({},e),{},Object(sn.a)({},o,{left:a.left-(s?s.left:0),right:a.right-(s?s.left:0),top:a.top-(s?s.top:0),bottom:a.bottom-(s?s.top:0),width:a.width,height:a.height}))}),{});e(n)}},hn=n(1093);n(1437);function bn(e){var t=e.tabConfig,n=e.onTabClick,r=e.className,o=e.selectedId,a=e.tabIds,s=e.badgeTabIds,l=function(e){var t=Object(hn.a)(e)||e,n=Object(c.useState)(fn),i=Object(pe.a)(n,2),r=i[0],o=i[1],a=function(){var e=Object(c.useRef)(),t=Object(c.useState)({}),n=Object(pe.a)(t,2),i=n[0],r=n[1];return Object(c.useEffect)((function(){return function(){e.current&&e.current.disconnect()}}),[]),[i,Object(c.useCallback)((function(t){e.current||(e.current=new Kt.a(pn(r))),t&&e.current.observe(t)}),[])]}(),s=Object(pe.a)(a,2),l=s[0],u=s[1];return Object(c.useEffect)((function(){var n=l[e];o(n?{left:n.left,width:n.width,animated:t!==e}:fn)}),[l,e]),[r,u]}(o),u=Object(pe.a)(l,2),d=u[0],p=u[1],h=Object(c.useCallback)((function(e){if(["ArrowLeft","ArrowRight"].includes(e.key)){var t=a.findIndex((function(e){return o===e})),i="ArrowLeft"===e.key,r=Object(dn.a)(0,a.length-1,t+(i?-1:1)),s=a[r],c=document.getElementById(Object(m.e)(s));n(s),null===c||void 0===c||c.focus()}}),[o,a,n]);return Object(x.jsxs)("div",{onKeyUp:h,role:"tablist",className:_()("room-tab-bar",r),children:[a.map((function(e){return Object(x.jsxs)("button",Object(i.a)(Object(i.a)({"data-id":e},Object(m.c)(e,o)),{},{ref:p,onClick:function(){return n(e)},"data-onboarding-step":t[e]["data-onboarding-step"],tabIndex:o===e?0:-1,className:_()("button-".concat(e),o===e&&"selected",(null===s||void 0===s?void 0:s.includes(e))&&"badge"),children:[Object(c.cloneElement)(t[e].icon,{color:o===e?"interactive":"default"}),Object(x.jsx)("span",{children:t[e].title})]}),e)})),Object(x.jsx)("div",{className:"selected-tab-underline",style:{left:d.left,width:d.width,transitionDuration:vn(d.animated)}})]})}var fn={left:0,width:0,animated:!1},vn=function(e){return e?"0.3s":"0s"};var mn=n(1072),yn=(n(1438),function(e){Object(a.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(r.a)(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).context=void 0,e._onChange=function(t){e.context.update({zoomLevel:t})},e}return Object(o.a)(n,[{key:"render",value:function(){var e="Video zoom control",t="Video size:";return Object(x.jsxs)("div",{className:"zoom-controls",children:[Object(x.jsx)("span",{className:"a11y-visually-hidden","aria-atomic":"true","aria-live":this.context.zoomLevel===Z.a.Fit?"polite":"off",children:"".concat(e,". ").concat(t," ").concat(Z.a.Fit)}),"Zoom:",Object(x.jsx)(mn.b,{value:this.context.zoomLevel,onChange:this._onChange,ariaLabel:e,children:Object.keys(Z.a).map((function(e){var n=Z.a[e];return Object(x.jsx)(mn.a,{value:n,ariaLabel:"".concat(t," ").concat(n,"."),children:n},e)}))})]})}}]),n}(c.PureComponent));yn.contextType=Z.b;var jn,gn=n(1066),On=n(164),wn=n(1079),xn="instructor panel",kn="student panel",Cn="files",An="external instructions panel",_n=function(e){return"oboarding-".concat(e.split(" ").join("-"),"-step")},Sn=_n(Cn),Pn=_n(An),En={width:"20rem",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.13)"},Rn=function(e){return e.key===Sn},Dn=Object(c.memo)((function(){var e=Object(u.d)(),t=Object(u.e)(y.D),n=Object(u.e)((function(e){return e.onboardingSettings})),i=Object(u.e)(y.I),r=Object(u.e)(y.C),o=Object(u.e)(y.G),a=Object(u.e)(y.B),s=i?On.d:On.e,l=n[On.d]&&!n[On.e],h=function(e){return[{headerImage:Object(x.jsx)("img",{src:wn.a,style:{width:"14.875rem"},alt:""}),title:"Welcome to your Guided Project",content:Object(x.jsx)("p",{children:"Here are a few quick tips on how to get the most of out of your hands-on learning experience."})},{anchor:'[data-onboarding-step="'.concat(xn,'"]'),headerImage:Object(x.jsx)("img",{src:"data:image/png;base64,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",style:En,alt:""}),title:"Follow the guided instructions",content:Object(x.jsx)("p",{children:"Practice each task as you follow along with your instructor\u2019s step-by-step video."})},{anchor:'[data-onboarding-step="'.concat(kn,'"]'),headerImage:Object(x.jsx)("img",{src:"data:image/png;base64,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",style:En,alt:""}),title:e?"Choose your workspace view":"Learn side-by-side",content:e?Object(x.jsx)("p",{children:"Based on your screen size, you can practice side-by-side in the same browser or open the link in a separate browser tab."}):Object(x.jsx)("p",{children:"You can get all the tools you need pre-installed in your workspace to start learning right away."})},{key:Sn,anchor:'[data-onboarding-step="'.concat(Cn,'"]'),headerImage:Object(x.jsx)("img",{src:"data:image/png;base64,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",style:En,alt:""}),title:"Download your project files",content:Object(x.jsxs)("p",{children:["You can download all of your project files to use in your workspace in the ",Object(x.jsx)("strong",{children:"Files"})," tab."]})},{key:Pn,anchor:'[data-onboarding-step="'.concat(An,'"]'),headerImage:Object(x.jsx)("img",{src:"data:image/png;base64,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",style:En,alt:""}),title:"A flexible viewing experience",content:Object(x.jsx)("p",{children:"You can watch videos side-by-side or in a separate window based on your screen setup or preference."})}]}(i);i&&!o?h=h.filter((function(e){return!Rn(e)})):!i&&l&&(h=h.filter(Rn));var b=Object(c.useCallback)((function(){i?i&&o&&e(new d.nb(Object(sn.a)({},On.e,!0))):e(new d.nb(Object(sn.a)({},On.d,!0)))}),[e,i,o]);return t.a11yDisableVM||r===p.xb.PersonalWorkspace||a!==p.I.Docked?null:Object(x.jsx)(gn.a,{steps:h,storeKey:s,onComplete:b})})),In=(n(1439),jn={},Object(sn.a)(jn,p.db.Host,{icon:Object(x.jsx)(cn.a,{size:"medium"}),title:"Instructions"}),Object(sn.a)(jn,p.db.FilesSettings,{icon:Object(x.jsx)(ln.a,{size:"medium"}),title:"Files","data-onboarding-step":Cn}),jn),Mn=function(e){Object(a.a)(n,e);var t=Object(s.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=e.onTabClick,n=e.selectedTabId,i=e.visibleTabIds,r=e.a11yDisableVM,o=e.isCloudWorkspaceModeSelected,a=e.isPersonalWorkspaceModeSelected,s=e.onChangeInstructionsPanelMode,c=e.isDetachedInstructionsPanelModeSelected,l=e.isExpandedPanelChangeDisabled,u=In[n].title;return Object(x.jsxs)("div",{className:"student-right-panel-header",children:[Object(x.jsx)(bn,{className:"tab-bar",tabConfig:In,onTabClick:t,selectedId:n,tabIds:i}),n===p.db.Host?Object(x.jsx)(yn,{}):null,!l&&Object(x.jsx)(Qe,{panelAriaName:u,panel:p.F.Right}),!r&&!a&&Object(x.jsxs)(Xe.a,{children:[Object(x.jsx)(Xe.b,{size:"small",theme:"dark",children:c?"Back to side-by-side":"Open Instructions panel in separate window"}),Object(x.jsx)(ce.a,{onClick:s,disabled:!o,"data-onboarding-step":An,children:Object(x.jsx)(un.a,{size:"small",className:_()(c&&"flip-horizontally")})})]})]})}}]),n}(c.PureComponent);Mn.defaultProps={onChangeInstructionsPanelMode:he.noop};var Nn,Tn,Vn,Ln,Fn,zn,Bn,Wn,Un,Hn,Xn,Kn,qn=Object(u.c)((function(e){return{a11yDisableVM:Object(y.D)(e).a11yDisableVM,isCloudWorkspaceModeSelected:Object(y.H)(e),isPersonalWorkspaceModeSelected:Object(y.N)(e),isDetachedInstructionsPanelModeSelected:Object(y.K)(e),isExpandedPanelChangeDisabled:Object(y.L)(e)}}))(Mn),Yn=(n(1440),function(e){Object(a.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(r.a)(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o)))._timeout=void 0,e.stay=function(){e._clearTimeout(),e.props.onToggle(!1),e.props.track({action:"click",obj:"i am still here button"})},e}return Object(o.a)(n,[{key:"componentDidUpdate",value:function(e){this.props.visible&&!e.visible&&(this._timeout=setTimeout(this.props.onConfirmInactivity,H),this.props.track({action:"open",obj:"inactivity modal"}),Object(f.a)()&&"hidden"===document.visibilityState&&Object(f.b)("Are you still here?","Your cloud workspace will be put on hold"))}},{key:"render",value:function(){return Object(x.jsxs)(P.a,{title:"Are you still here?",visible:this.props.visible,onToggle:this.props.onToggle,size:"tiny",id:"inactivity-modal",closeWithEsc:!1,hideClose:!0,children:[Object(x.jsxs)("p",{children:["We noticed you were inactive for the last ",W," minutes.",Object(x.jsx)("br",{}),"We are going to put your cloud workspace on hold in order to save resources.",Object(x.jsx)("br",{}),"You will be able to continue the project when you are back."]}),Object(x.jsx)("div",{className:"button-sequence",children:Object(x.jsx)(L.a,{onClick:this.stay,children:"Wait, I am still here"})})]})}},{key:"_clearTimeout",value:function(){clearTimeout(this._timeout)}}]),n}(c.PureComponent)),Qn=Object(F.l)(Yn),Gn=n.p+"static/media/Certificate-2x.f3b97863.jpg",Zn=n.p+"static/media/Certificate.83ce3a57.jpg",Jn=["title","titleId"];function $n(){return $n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},$n.apply(this,arguments)}function ei(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ti(e,t){var n=e.title,i=e.titleId,r=ei(e,Jn);return c.createElement("svg",$n({width:138,height:98,viewBox:"0 0 138 98",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},r),n?c.createElement("title",{id:i},n):null,Nn||(Nn=c.createElement("path",{d:"M93.4 52.4V27.6H56.6v24.8",fill:"#F2D049"})),Tn||(Tn=c.createElement("path",{d:"M93.4 52.4V27.6H56.6v24.8",stroke:"#fff",strokeWidth:2,strokeMiterlimit:10,strokeLinecap:"round",strokeLinejoin:"round"})),Vn||(Vn=c.createElement("path",{d:"M56.6 52c0 8.834 8.24 16 18.4 16 10.16 0 18.4-7.166 18.4-16",fill:"#F2D049"})),Ln||(Ln=c.createElement("path",{d:"M56.6 52c0 8.834 8.24 16 18.4 16 10.16 0 18.4-7.166 18.4-16M93.667 44.667c6.626 0 12-7.027 12-13.334h-12M56.333 44.667c-6.626 0-12-7.027-12-13.334h12M63.893 83.333l-2.226 5.334M88.333 88.667H61.667M64.333 83.373c4.414 0 8-4.746 8-8.946v-5.72M86.107 83.333l2.227 5.334M85.667 83.373c-4.414 0-8-4.746-8-8.946v-5.72",stroke:"#fff",strokeWidth:2,strokeMiterlimit:10,strokeLinecap:"round",strokeLinejoin:"round"})),Fn||(Fn=c.createElement("path",{d:"M75 36.667l2.467 5.266 5.533.854-4 4.093.947 5.787L75 49.933l-4.947 2.734L71 46.88l-4-4.093 5.533-.854L75 36.667z",stroke:"#fff",strokeWidth:2,strokeMiterlimit:10,strokeLinecap:"round",strokeLinejoin:"round"})),zn||(zn=c.createElement("rect",{x:107,width:9,height:7.935,rx:1,fill:"#D78AE1"})),Bn||(Bn=c.createElement("rect",{x:30,y:57.529,width:8,height:7.935,rx:1,fill:"#8875ED"})),Wn||(Wn=c.createElement("path",{d:"M125.749 78.458a1 1 0 011.689.37l3.373 10.577a1.003 1.003 0 01-1.17 1.282l-10.923-2.39a.997.997 0 01-.518-1.652l7.549-8.187z",fill:"#A4CA67"})),Un||(Un=c.createElement("path",{d:"M26.707 82.864v9.631a.503.503 0 01-.753.434l-8.41-4.816a.497.497 0 01.003-.863l8.41-4.816a.5.5 0 01.75.43z",stroke:"#F2D049"})),Hn||(Hn=c.createElement("ellipse",{cx:5.5,cy:43.147,rx:5.5,ry:5.455,fill:"#60CAF7"})),Xn||(Xn=c.createElement("path",{d:"M137.5 43.147c0 2.732-2.235 4.955-5 4.955s-5-2.223-5-4.955c0-2.733 2.235-4.956 5-4.956s5 2.223 5 4.956z",stroke:"#60CAF7"})),Kn||(Kn=c.createElement("ellipse",{cx:43,cy:4.959,rx:5,ry:4.959,fill:"#F7A360"})))}var ni=c.forwardRef(ti),ii=(n.p,n(1441),{hideImage:!1}),ri=function(e){Object(a.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(r.a)(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).state=ii,e.overlayRef=void 0,e.resizeObserver=new Kt.a((function(t){e.setState({hideImage:t[0].contentRect.height<=525})})),e.renderCertificateContents=function(){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h3",{className:"title",children:"You've almost earned your certificate"}),Object(x.jsx)("img",{alt:"Example of certificate",hidden:e.state.hideImage,className:"certificate",srcSet:"".concat(Zn,", ").concat(Gn," 2x"),src:Zn}),Object(x.jsxs)("p",{className:"message",children:["Take a short quiz on your project home so you can receive",Object(x.jsx)("br",{}),"your certificate of completion."]})]})},e.renderNoCertificateContents=function(){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(ni,{className:"congrats"}),Object(x.jsx)("h3",{className:"title",children:"Great Job!"}),Object(x.jsxs)("p",{className:"message",children:["You\u2019ve completed this Guided Project!",Object(x.jsx)("br",{})," Continue learning from your course home"]})]})},e.renderButtons=function(){return Object(x.jsxs)("div",{className:"buttons",children:[Object(x.jsx)(S.a,{onClick:e.props.leave,kind:"primary",className:"session-completed-overlay-leave-button",children:e.props.course.skipCertificateScreen?"Go to course home":"Go to project home"},"leave-button"),Object(x.jsx)(S.a,{kind:"secondary",onClick:e.props.stay,children:"Stay"},"stay-button")]})},e.handleOverlayRef=function(t){e.overlayRef=t},e.handleContentRef=function(t){t?e.resizeObserver.observe(t):e.resizeObserver.disconnect()},e}return Object(o.a)(n,[{key:"componentWillUnmount",value:function(){this.resizeObserver.disconnect()}},{key:"render",value:function(){var e,t=this;return Object(x.jsx)("div",{ref:this.handleOverlayRef,className:"session-completed-overlay",children:Object(x.jsxs)(te.a,Object(i.a)(Object(i.a)({isOpen:this.props.visible,shouldCloseOnOverlayClick:!1,className:"content",contentRef:this.handleContentRef,overlayClassName:_()("session-completed-overlay-backdrop"),aria:{label:this.title},onAfterOpen:function(){var e=Object(le.b)(t.overlayRef);null===e||void 0===e||e.focus()}},this.overlayRef&&{parentSelector:function(){return t.overlayRef},appElement:null===(e=this.overlayRef)||void 0===e?void 0:e.nextSibling}),{},{children:[this.props.course.skipCertificateScreen?this.renderNoCertificateContents():this.renderCertificateContents(),this.renderButtons()]}))})}}]),n}(c.PureComponent),oi=n(13),ai=n(1009),si=n(548),ci=n.n(si),li=n(496),ui=n.n(li),di=new(n(1442).Converter)({strikethrough:!0,tables:!0,simplifiedAutoLink:!0}),pi=ci()((function(e){return ui()(di.makeHtml(e))})),hi=n(375),bi=n(142),fi=(n(1443),function(e){Object(a.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(r.a)(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).onValueChange=function(t){var n=e.chapters.find((function(e){return e.id===t}));Object(bi.e)(n)&&e.props.setCurrentChapter(n)},e.renderDetails=function(e){return e.type===p.n.Instruction?Object(ge.e)(e.duration):Object(bi.a)(e.type)},e}return Object(o.a)(n,[{key:"chapters",get:function(){return this.props.course.chapters}},{key:"render",value:function(){var e=this;return Object(x.jsx)(mn.b,{id:"chapters-selector",value:this.props.currentChapter.id,onChange:this.onValueChange,selectedElement:this.renderSelectedItem(),ariaLabel:"Project overview",children:this.chapters.toJS().map((function(t){var n=Object(bi.e)(t),i=Object(bi.d)(t,e.chapters),r=!n||i;return Object(x.jsx)(mn.a,{className:e.getChapterItemClassName(t),disabled:r,value:t.id,ariaLabel:e.getAriaLabel(t),tooltip:i?"Complete the preceding challenge first":void 0,children:e.renderItemContents(t,!1)},t.id)}))})}},{key:"renderItemContents",value:function(e,t){var n=Object(bi.f)(e);return Object(x.jsxs)(x.Fragment,{children:[n&&Object(x.jsx)("span",{className:"badge",children:"Extra Practice"}),Object(x.jsx)("span",{className:"chapter-title","data-name":e.name,children:e.name}),!n&&Object(x.jsxs)("span",{className:"chapter-details",children:["(",this.renderDetails(e),")"]}),Object(x.jsx)("span",{className:"flex-separator"}),t?Object(x.jsx)("span",{className:"arrow"}):this.renderStatus(e)]})}},{key:"getAriaLabel",value:function(e){return"".concat(e.name,". ").concat(this.renderDetails(e),". ").concat(this.renderStatusLabel(e))}},{key:"getChapterItemClassName",value:function(e){return _()("chapter-item",this.props.currentChapter.id===e.id&&"selected")}},{key:"renderSelectedItem",value:function(){return Object(x.jsxs)("div",{className:_()(this.getChapterItemClassName(this.props.currentChapter),"selected-chapter-item"),"aria-label":this.getAriaLabel(this.props.currentChapter),children:[Object(x.jsx)("span",{className:"chapter-label",children:"Project overview:"}),this.renderItemContents(this.props.currentChapter,!0)]})}},{key:"renderStatus",value:function(e){switch(e.state){case p.e.Completed:case p.e.Approved:return Object(x.jsx)(hi.a,{className:"completed"});default:return null}}},{key:"renderStatusLabel",value:function(e){switch(e.state){case p.e.Completed:case p.e.Approved:return"Completed";default:return""}}}]),n}(c.Component)),vi=Object(u.c)((function(e){return{course:Object(y.z)(e),currentChapter:Object(y.i)(e)}}),(function(e){return{setCurrentChapter:function(t){return e(new d.jb(t))},showNotification:function(t){return e(new d.k(t))}}}))(fi),mi=(n(1444),Object(c.memo)((function(e){var t=Object(bi.a)(e.chapter.type),n=["".concat(t," Instructions"),"Video Instructions"],i=e.isDescriptionVisible?n:n.reverse(),r=Object(pe.a)(i,2),o=r[0],a=r[1];return Object(x.jsxs)("div",{className:"challenge-controls",children:[Object(x.jsx)("h2",{role:"region","aria-live":"polite",children:Object(x.jsx)("span",{children:o},o)}),e.chapter.description&&Object(x.jsxs)(S.a,{sizeClass:"small",kind:"secondary",onClick:e.onToggleView,children:["See ",a]})]})}))),yi=n(1081),ji=(n(1445),{isSubmitting:!1}),gi=function(e){Object(a.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(r.a)(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).context=void 0,e.state=ji,e.submitChallenge=function(){e.setState({isSubmitting:!0}),e.props.onChallengeSubmission().finally((function(){return e.setState({isSubmitting:!1})}))},e.renderApproved=function(){return Object(x.jsxs)("div",{className:"challenge-actions",children:[e.props.chapter.type!==p.n.Practice&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(yi.a,{"aria-hidden":"true",className:"trophy-icon"}),"Great Job!"]}),Object(x.jsx)("div",{className:"flex-separator"}),Object(x.jsx)(hi.a,{"aria-hidden":"true",className:"approved-icon"}),Object(x.jsx)("span",{"aria-label":e.getAriaLabel(),className:"approved",children:"DONE"})]})},e.renderNotCompleted=function(){var t=e.props.chapter.type,n=t===p.n.Practice?"I\u2019m ready to move on":"Mark as completed";return Object(x.jsxs)("div",{className:"challenge-actions",children:[t!==p.n.Practice&&Object(x.jsx)("span",{children:"Confirm completion to proceed"}),Object(x.jsx)("div",{className:"flex-separator"}),Object(x.jsx)(S.a,{htmlAttributes:{"aria-label":e.getAriaLabel()},sizeClass:"small",onClick:e.submitChallenge,loading:e.state.isSubmitting,children:n})]})},e.getAriaLabel=function(){var t=e.props.chapter,n=t.type,i=t.state;return e.state.isSubmitting?"".concat(Object(bi.a)(n)," submission is in progress..."):i===p.e.Approved?"".concat(Object(bi.a)(n)," is completed"):i===p.e.NotCompleted?"Mark ".concat(Object(bi.a)(n).toLowerCase()," as completed"):""},e}return Object(o.a)(n,[{key:"componentDidUpdate",value:function(e,t){var n=this.props.chapter;!t.isSubmitting&&this.state.isSubmitting?v.b.say("Submitting ".concat(Object(bi.a)(n.type).toLowerCase(),"...")):e.chapter.id===n.id&&e.chapter.state===p.e.NotCompleted&&n.state===p.e.Approved&&v.b.say("".concat(Object(bi.a)(n.type)," submitted. Great job!"))}},{key:"render",value:function(){var e=this.props.chapter.state;return e===p.e.Approved?this.renderApproved():e===p.e.NotCompleted?this.renderNotCompleted():Object(x.jsx)("div",{className:"challenge-actions",children:"n/a"})}}]),n}(c.PureComponent);gi.contextType=k;var Oi=Object(u.c)((function(e){return{chapter:Object(y.i)(e),vm:Object(y.s)(e)}}))(gi),wi=n(126),xi=n(372),ki=n(1172),Ci=Object(c.memo)((function(){var e=Object(u.e)((function(e){return e.captions.activeCue})),t=Object(u.e)((function(e){return!e.captions.ccOn})),n=Object(u.e)(y.m);return Object(x.jsx)(ki.a,{autogenerated:n&&!n.edited,dir:Object(xi.a)(e),hidden:t,text:(null===e||void 0===e?void 0:e.text)||""})})),Ai=n(1023),_i=n(1098),Si=n(1049),Pi=n(1168),Ei=(n(1446),function(){var e=Object(u.e)(y.b);return Object(x.jsx)("div",{className:"autoplay-progress",style:{"--duration":"".concat(e,"ms")},children:Object(x.jsxs)("div",{className:"frame","data-anim":"base autoplay-progress",children:[Object(x.jsx)("div",{className:"circle","data-anim":"base left"}),Object(x.jsx)("div",{className:"circle","data-anim":"base right"})]})})}),Ri=(n(1447),Object(c.memo)((function(e){var t=e.visible,n=void 0!==t&&t,i=e.parentElement,r=void 0===i?document.createElement("div"):i,o=e.ariaHiddenElement,a=void 0===o?document.createElement("div"):o,s=e.chapter,l=void 0===s?Object(p.l)():s,d=e.onPlay,h=void 0===d?w.a:d,b=e.onCancel,f=void 0===b?w.a:b,v=Object(u.e)(y.b),m=Object(c.useRef)(null),j=Object(c.useCallback)((function(e){return m.current=e}),[m]),g=Object(c.useCallback)((function(){var e=Object(le.b)(m.current);null===e||void 0===e||e.focus()}),[]);return Object(x.jsxs)(te.a,{className:"autoplay-controls",overlayClassName:"autoplay-controls-overlay",contentRef:j,contentLabel:"Playing next chapter in ".concat(v/1e3," seconds."),shouldCloseOnOverlayClick:!1,isOpen:n,parentSelector:function(){return r},appElement:a,onAfterOpen:g,children:[Object(x.jsx)("div",{className:"next-label",children:"Up Next"}),Object(x.jsx)("div",{className:"chapter-name",children:null===l||void 0===l?void 0:l.name}),Object(x.jsx)("div",{className:"buttons",children:Object(x.jsxs)("div",{className:"play",children:[Object(x.jsx)(Ei,{}),Object(x.jsx)(ce.a,{className:"play-button",onClick:h,"aria-label":"Play chapter ".concat(null===l||void 0===l?void 0:l.name," now")})]})}),Object(x.jsx)(ce.a,{"aria-label":"Cancel autoplay",className:"cancel",onClick:f,children:"Cancel"})]})}))),Di=n(1184),Ii=function(e){return parseInt((e||"").replace("px",""),10)},Mi="update",Ni=function(e){Object(a.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(r.a)(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).context=void 0,e._container=void 0,e._keyhole=void 0,e._resizeObserver=void 0,e._state={keyholeStyles:{},scaledVmWidth:0,scaledVmHeight:0},e._emitter=new z.EventEmitter,e._getAvailableHeight=function(){if(e._container){var t=window.getComputedStyle(e._container),n=Ii(t.paddingTop),i=Ii(t.paddingBottom);return e._container.clientHeight-n-i}return 0},e._getAvailableWidth=function(){if(e._container){var t=window.getComputedStyle(e._container),n=Ii(t.paddingLeft),i=Ii(t.paddingRight);return e._container.clientWidth-n-i}return 0},e}return Object(o.a)(n,[{key:"updateVmSize",value:function(){var e=this._calculateZoom(),t=this.screenWidth*e,n=this.screenHeight*e;this._state.scaledVmWidth=t,this._state.scaledVmHeight=n,this._emitter.emit(Mi,this._state),this._keyhole&&this._keyhole.refresh()}},{key:"observeForSizeChanges",value:function(e){var t=this;if(this._container){this._resizeObserver=new Kt.a((function(){t._state.keyholeStyles={height:"auto",width:"auto",maxHeight:t._getAvailableHeight(),maxWidth:t._getAvailableWidth()},t._emitter.emit(Mi,t._state),t.updateVmSize()}));var n=Object(be.findDOMNode)(this._container);if(!n)return void console.error("Element unavailable to observe");this._resizeObserver.observe(n)}this._emitter.on(Mi,e)}},{key:"unobserveForSizeChanges",value:function(){if(this._container){var e=Object(be.findDOMNode)(this._container);if(!e)return void console.error("Element unavailable to unobserve");this._resizeObserver.unobserve(e)}this._emitter.off(Mi)}},{key:"_calculateZoom",value:function(){if(this._container){var e=this._getAvailableHeight()/this.screenHeight,t=e<.3?Object(Z.d)(this.zoomLevel):e;this.context.update({fitValue:t})}return Object(Z.d)(this.zoomLevel)}}]),n}(c.PureComponent);Ni.contextType=Z.b;var Ti,Vi,Li=n(364),Fi=n(365),zi=n.n(Fi),Bi=n(1209),Wi=n.n(Bi),Ui=(n(1448),/translate\((-?\d+\.?\d*)px,\s*(-?\d+\.?\d*)px\)/),Hi=(Ti=function(e){Object(a.a)(n,e);var t=Object(s.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e))._contentWrapper=void 0,i._container=void 0,i._timeout=void 0,i._dragging=!1,i.state={position:{x:0,y:0}},i}return Object(o.a)(n,[{key:"componentWillReceiveProps",value:function(e){e.x===this.props.x&&e.y===this.props.y||this._dragging||this.setState({position:{x:e.x,y:e.y}})}},{key:"componentDidMount",value:function(){this.refresh()}},{key:"componentWillUnmount",value:function(){clearTimeout(this._timeout)}},{key:"onStart",value:function(){this._dragging=!0}},{key:"onStop",value:function(){var e=this;this._timeout=setTimeout((function(){e._dragging=!1}),1500)}},{key:"onDrag",value:function(e,t){var n=t.x,i=t.y;this.setState({position:{x:n,y:i}})}},{key:"refresh",value:function(){this.setState({position:this._bound(this.state.position)})}},{key:"render",value:function(){var e=this;return this.props.children?Object(x.jsx)("div",{ref:function(t){return e._container=t},className:"keyhole-container",style:this.props.style,children:Object(x.jsx)(Wi.a,{position:this.state.position,onStart:this.onStart,onStop:this.onStop,onDrag:this.onDrag,bounds:this._bounds,children:Object(x.jsx)("div",{ref:this._onKeyholeRef,className:"keyhole-content-wrapper",children:this.props.children})})}):null}},{key:"_onKeyholeRef",value:function(e){if(e&&!this._contentWrapper){var t=new Proxy(e.style,{set:function(e,t,n){if("transform"===t){var i=Ui.exec(n)||[];e.left=parseInt(i[1],10)+"px",e.top=parseInt(i[2],10)+"px",e.transform="none"}return!0}});Object.defineProperty(e,"style",{get:function(){return t}})}this._contentWrapper=e}},{key:"_bounds",get:function(){var e=this._contentWrapper,t=this._container,n={top:0,bottom:0,right:0,left:0};if(!e||!t)return n;var i=e.getBoundingClientRect(),r=i.width,o=i.height,a=t.offsetWidth,s=t.offsetHeight;return n.top=Math.min(s-o,0),n.bottom=Math.max(s-o,0),n.left=a-r,n}},{key:"_bound",value:function(e){var t=e.x,n=e.y,i=this._bounds;return void 0!==(t=t||0)&&(t=Math.max(i.left,Math.min(t,i.right))),void 0!==(n=n||0)&&(n=Math.max(i.top,Math.min(n,i.bottom))),{x:t,y:n}}}]),n}(c.PureComponent),Object(Li.a)(Ti.prototype,"onStart",[zi.a],Object.getOwnPropertyDescriptor(Ti.prototype,"onStart"),Ti.prototype),Object(Li.a)(Ti.prototype,"onStop",[zi.a],Object.getOwnPropertyDescriptor(Ti.prototype,"onStop"),Ti.prototype),Object(Li.a)(Ti.prototype,"onDrag",[zi.a],Object.getOwnPropertyDescriptor(Ti.prototype,"onDrag"),Ti.prototype),Object(Li.a)(Ti.prototype,"_onKeyholeRef",[zi.a],Object.getOwnPropertyDescriptor(Ti.prototype,"_onKeyholeRef"),Ti.prototype),Ti),Xi=(Vi=function(e){Object(a.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(r.a)(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o)))._keyhole=void 0,e._keyholeNode=void 0,e._resizeObserver=void 0,e._lastParentSize=void 0,e._mouseDownTimestamp=0,e}return Object(o.a)(n,[{key:"refresh",value:function(){this._keyhole&&this._keyhole.refresh()}},{key:"componentDidMount",value:function(){if(this._keyhole){this._resizeObserver=new Kt.a(this._onParentResize);var e=this._keyholeNode;e?this._resizeObserver.observe(e):console.error("Screen keyhole element unavailable (observe)")}}},{key:"componentWillUnmount",value:function(){if(this._keyhole){var e=this._keyholeNode;e?this._resizeObserver.unobserve(e):console.error("Screen keyhole element unavailable (unobserve)")}}},{key:"componentDidUpdate",value:function(){this.refresh()}},{key:"render",value:function(){var e=this;return Object(x.jsx)(Hi,{ref:this._onKeyholeRef,x:this._normalizeX(this.props.x),y:this._normalizeY(this.props.y),style:this.props.style,children:Object(x.jsx)("div",{onMouseDown:function(){return e._mouseDownTimestamp=Date.now()},onMouseUp:this._onMouseUp,onDoubleClick:this.props.onDoubleClick,style:{width:this.props.width,height:this.props.height},children:this.props.children})})}},{key:"_onMouseUp",value:function(){Date.now()-this._mouseDownTimestamp>500||this.props.onClick&&this.props.onClick()}},{key:"_onParentResize",value:function(){this._keyhole&&this._keyholeNode.offsetWidth!==this._lastParentSize&&this.refresh()}},{key:"_onKeyholeRef",value:function(e){this._keyhole=e,this._keyhole&&(this._keyholeNode=Object(be.findDOMNode)(this._keyhole))}},{key:"_normalizeX",value:function(e){if(void 0!==e&&this._keyhole){var t=this._keyholeNode;if(t){e/=this.props.originalWidth/this.props.width;var n=t.offsetWidth;if(!(n>this.props.width))return n/2-e}}}},{key:"_normalizeY",value:function(e){if(void 0!==e&&this._keyhole){var t=this._keyholeNode;if(t){e/=this.props.originalWidth/this.props.width;var n=t.offsetHeight;if(!(n>this.props.height))return n/2-e}}}}]),n}(c.PureComponent),Object(Li.a)(Vi.prototype,"_onMouseUp",[zi.a],Object.getOwnPropertyDescriptor(Vi.prototype,"_onMouseUp"),Vi.prototype),Object(Li.a)(Vi.prototype,"_onParentResize",[zi.a],Object.getOwnPropertyDescriptor(Vi.prototype,"_onParentResize"),Vi.prototype),Object(Li.a)(Vi.prototype,"_onKeyholeRef",[zi.a],Object.getOwnPropertyDescriptor(Vi.prototype,"_onKeyholeRef"),Vi.prototype),Vi),Ki=(n(1449),function(e){switch(e.state){case p.e.Completed:case p.e.Approved:return"Completed";default:return""}}),qi=Object(c.memo)((function(e){var t=e.visible,n=e.parentElement,r=e.ariaHiddenElement,o=e.chapter,a=e.nextChapter,s=e.onStart,c=e.onSkip,l=e.onCompleteSession,u=function(e){switch(e.state){case p.e.Completed:case p.e.Approved:return Object(x.jsx)(hi.a,{className:"completed","aria-hidden":"true"});default:return null}}(o);return Object(x.jsx)(P.a,Object(i.a)(Object(i.a)({hideClose:!0,size:"fluid",visible:t,closeWithEsc:!1,id:"practice-controls-overlay",title:"Want to practice more?",parentSelector:n,className:"practice-controls-overlay"},r&&{appElement:r}),{},{children:Object(x.jsxs)("div",{className:"practice-controls",children:[Object(x.jsx)("div",{className:"practice-controls__body",children:Object(x.jsxs)("p",{className:"practice-chapter",children:[o.name,u&&Object(x.jsx)("span",{className:"practice-chapter__status","aria-label":"".concat(Ki(o)),children:u})]})}),Object(x.jsxs)("div",{className:"practice-controls__actions",children:[Object(x.jsx)(S.a,{type:"button",onClick:function(){return s(o)},children:"Yes, start practice"}),a?Object(x.jsx)(S.a,{type:"button",kind:"secondary",onClick:function(){return c(a)},children:"No, continue to the next task"}):Object(x.jsx)(S.a,{type:"button",kind:"secondary",onClick:l,children:"No, complete the project"})]})]})}))})),Yi=n(14),Qi=n(21),Gi=(n(1450),n(1522)),Zi="How satisfied are you with the user interface of Guided Projects?",Ji=Object(c.memo)((function(e){var t,n=e.visible,r=e.parentElement,o=e.ariaHiddenElement,a=e.onContinue,s=Object(u.d)(),l=Object(c.useState)(0),d=Object(pe.a)(l,2),h=d[0],b=d[1],f=Object(c.useState)(!1),v=Object(pe.a)(f,2),m=v[0],y=v[1],j=function(e){return(t=t||Object(Qi.a)(Object(Yi.a)().mark((function e(t){var n;return Object(Yi.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=0!==t?[Object(p.P)({question:Zi,rating:t})]:[],y(!0),e.next=5,s(ct.a.submitSurveyResult(n));case 5:return e.prev=5,y(!1),a(),e.finish(5);case 9:case"end":return e.stop()}}),e,null,[[0,,5,9]])})))).apply(this,arguments)};return Object(x.jsx)(P.a,Object(i.a)(Object(i.a)({size:"fluid",visible:n,closeWithEsc:!0,closeLabel:"Close",id:"platform-survey-overlay","data-e2e":"platform-survey-modal",title:"We'd like to hear your feedback",parentSelector:r,className:"platform-survey-overlay"},o&&{appElement:o}),{},{overrideClose:function(){return j(0)},children:Object(x.jsxs)("div",{className:"platform-survey",children:[Object(x.jsxs)("div",{className:"platform-survey__body",children:[Object(x.jsx)("p",{children:Zi}),Object(x.jsx)(Gi.a,{label:"Rate this course",className:"platform-survey__rating",value:h,onChange:function(e){b(parseInt(e.target.value))}})]}),Object(x.jsx)(S.a,{type:"button",kind:"primary",onClick:function(){return j(h)},disabled:0===h,loading:m,children:"Submit and continue"})]})}))})),$i=(n(1452),"video player"),er={keyholeCenter:{x:0,y:0},height:window.innerHeight-150,currentTime:0,playing:!1,scaledVmWidth:0,scaledVmHeight:0,playbackRate:$.a.x100,playerKeyhole:!0,visibleVideoControls:!0,canPlayVideo:!1,videoDimm:{width:B.a.DefaultScreenWidth,height:B.a.DefaultScreenHeight},keyholeStyles:{},videoOverlay:"none",disableVideoControls:!1},tr=function(e){Object(a.a)(n,e);var t=Object(s.a)(n);function n(e){var i;Object(r.a)(this,n),(i=t.call(this,e)).vmContainer=void 0,i.vmKeyhole=void 0,i._container=void 0,i._keyhole=void 0,i._player=void 0,i._controlsService=void 0,i._nextChapterTimeout=void 0,i._chapterProgressInterval=void 0,i._resizeEntry=void 0,i._wasRequestedToPlay=void 0,i._onMouseFrame=Object(Si.a)(Object(wi.a)(i)),i.play=function(){var e;null===(e=i._container)||void 0===e||e.style.setProperty("--unfocused-controls-opacity","0"),i._wasRequestedToPlay=!0,i.state.canPlayVideo&&(i._controlsService.onPlay(),i.props.track({action:"play",obj:$i}))},i.onPlaybackRateChange=function(e){i._controlsService.onPlaybackRateChange(e),i.props.onPlaybackRateChange&&i.props.onPlaybackRateChange(e),i.setState({playbackRate:e}),i.props.track({action:"set playback rate",obj:$i,rate:e})},i.onAutoplayPlay=function(){clearTimeout(i._nextChapterTimeout),i._controlsService.onForward(),i.hideVideoOverlay(),i.props.track({action:"autoplay next",obj:$i})},i.onAutoplayCancel=function(){clearTimeout(i._nextChapterTimeout),i.hideVideoOverlay(),i.props.track({action:"cancel autoplay",obj:$i})},i.onVideoDimmensions=function(e,t){i.setState({videoDimm:{width:e,height:t}},(function(){i.updateVmSize()}))},i.onExpandModeChange=function(e){var t=e===Ai.e.Expand;i.props.dispatch(new d.V(t))},i.onCanPlay=function(e){e&&i._wasRequestedToPlay&&i._controlsService.onPlay(),i.setState({canPlayVideo:e})},i.onForward=function(){i._controlsService.onForward(),i.props.track({action:"play next",obj:$i})},i.onBackward=function(){i._controlsService.onBackward(),i.props.track({action:"play prev",obj:$i})},i.onSeek=function(e){i._controlsService.onSeek(e)},i.onPause=function(){i._controlsService.onPause(),i.props.track({action:"pause",obj:$i})},i._onContainerRef=function(e){i._container=e},i._onPauseToggle=function(){i.state.playing?i.pause():i.play()},i._onPlayerCompleted=function(){var e=i.props.currentChapter;if(e.canSubmit&&e.state===p.e.NotCompleted)i.props.onReadyToSubmitChallenge();else{var t=i._controlsService.nextChapter;if(t)t.type===p.n.Practice?i.setState({videoOverlay:"practice-controls"}):i.props.showPlatformSurvey&&t.order>2&&!Object(j.e)(j.a.SuppressPlatformSurvey)?i.setState({videoOverlay:"platform-survey"}):(i.setState({videoOverlay:"auto-play"}),clearTimeout(i._nextChapterTimeout),i._nextChapterTimeout=setTimeout((function(){i._controlsService.onForward(),i.hideVideoOverlay()}),i.props.a11yAutoplayNextChapterDelay)),parseInt(l.a.version.split(".")[0],10)>=18&&(console.error('Make sure "this.setState({ disableVideoControls: true })" is not batched!'),console.error("Why - https://coursera.atlassian.net/browse/RHM-2048")),i.setState({disableVideoControls:!0});else i.onExpandModeChange(Ai.e.Collapse),i.props.onSessionCompleted()}},i._updateChapterProgress=function(){i._chapterProgressInterval=setInterval((function(){var e=i.props.currentChapter.chapterId,t=i.state.currentTime,n=i.props.currentAttendeeChapterProgress,r=n.chapterId,o=n.time;if(e!==r||t!==o){var a=Object(p.m)({chapterId:e,time:t});i.props.dispatch(new d.Rb(i.props.currentAttendee.id,a))}}),1e3)},i._onPlayerReadyMetadata=function(){var e=Object(j.g)(i.props.room.id);if(e&&e.chapterId===i.props.currentChapter.chapterId&&i._player){var t=e.time;if(i.props.currentChapter.canSkip&&i._player.duration>20&&e.time+20>=i._player.duration){var n=i._controlsService.nextChapter;if(n)return void i.props.dispatch(new d.jb(n));t=0}i._player.setCurrentTime(t)}},i._updateVideoControlsVisibility=function(){i.state.visibleVideoControls&&setTimeout((function(){i.setState({visibleVideoControls:!1})}),5e3)},i.onSetCurrentChapter=function(e){i.props.dispatch(new d.jb(e))},i.onGoToNextChapter=function(){var e=i.props.upcomingChapter;e?i.props.dispatch(new d.jb(e)):i.onCompleteSession()},i.onCompleteSession=function(){i.props.onSessionCompleted(),i.hideVideoOverlay()},i.hideVideoOverlay=function(){i.setState({videoOverlay:"none",disableVideoControls:!1})},i.state=er;var o={onPlay:i._updateVideoControlsVisibility};return i._controlsService=new Di.b(e.dispatch,i.props.currentChapter,i.props.course.chapters,o),i}return Object(o.a)(n,[{key:"zoomLevel",get:function(){return this.props.zoomLevel}},{key:"screenWidth",get:function(){return this.state.videoDimm.width}},{key:"screenHeight",get:function(){return this.state.videoDimm.height}},{key:"isForwardDisabled",get:function(){var e=this.props.currentChapter;return!this._controlsService.hasNextChapter||!e.canSkip}},{key:"isPlaying",get:function(){return this.state.playing}},{key:"componentDidMount",value:function(){var e=this,t=Object(j.g)(this.props.room.id).time;this._resizeEntry=_i.a.create({},(function(){e.setState({height:window.innerHeight-150})})),this.observeForSizeChanges(this.setState.bind(this)),this.updateVmSize(),t&&this.setState({currentTime:t}),this._controlsService.setRefs(this._player),this._controlsService.onPlayerPlaying((function(t){return e.setState({playing:t})})),this._controlsService.onPlayerTimeUpdated((function(t){return e.setState({currentTime:t})})),this._controlsService.onPlayerCompleted(this._onPlayerCompleted),this._updateChapterProgress()}},{key:"componentWillUnmount",value:function(){this._controlsService.destroy(),clearTimeout(this._nextChapterTimeout),clearTimeout(this._chapterProgressInterval),_i.a.destroy(this._resizeEntry),this.unobserveForSizeChanges()}},{key:"componentWillReceiveProps",value:function(e){e.currentChapter.id!==this.props.currentChapter.id&&(clearTimeout(this._nextChapterTimeout),this.pause(),this.setState({currentTime:0,playing:!0,videoOverlay:"none"}),this._wasRequestedToPlay=!0),this._controlsService.updateProps(e.currentChapter,e.course.chapters)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.expandedPanel,i=t.currentChapter;n!==e.expandedPanel&&!n.expandedByGuide&&this._player&&this._player.learnerChangedSidebarMode(),this.props.zoomLevel!==e.zoomLevel&&this.updateVmSize(),i.id!==e.currentChapter.id&&this.hideVideoOverlay()}},{key:"pause",value:function(){this._controlsService.onPause(),this.props.track({action:"pause",obj:$i})}},{key:"complete",value:function(){this._onPlayerCompleted()}},{key:"render",value:function(){var e=this,t=this.props,n=t.upcomingChapter,i=t.nextChapter,r=this._player?this._player.duration:0,o="auto-play"===this.state.videoOverlay&&!!this._controlsService.nextChapter;return Object(x.jsxs)("div",{className:_()("session-player",this.props.hidden&&"hidden"),ref:this._onContainerRef,children:[Object(x.jsxs)("div",{className:"video-cont",ref:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(t){return e.vmKeyhole=t})),children:[Object(x.jsx)(Ri,{visible:o,parentElement:this._container,ariaHiddenElement:this.vmKeyhole,chapter:this._controlsService.nextChapter,onPlay:this.onAutoplayPlay,onCancel:this.onAutoplayCancel}),Object(x.jsxs)(Q.b,{isDisabled:this.state.disableVideoControls,children:[Object(x.jsx)(Xi,{x:this.state.keyholeCenter.x,y:this.state.keyholeCenter.y,onClick:this._onPauseToggle,width:this.state.scaledVmWidth,height:this.state.scaledVmHeight,originalWidth:this.state.videoDimm.width,originalHeight:this.state.videoDimm.height,ref:function(t){return e._keyhole=t},style:this.state.keyholeStyles,children:Object(x.jsx)(Ee,{ref:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(t){return e.vmContainer=t})),children:Object(x.jsx)(Pi.a,{ref:function(t){return e._player=t},dispatch:this.props.dispatch,mouse:!0,showViewbox:!1,onMouseFrame:this._onMouseFrame,autoPlay:!1,chapter:this.props.currentChapter,controls:!1,onCanPlay:this.onCanPlay,language:this.props.course.language,onReadyMetadata:this._onPlayerReadyMetadata,onVideoDimmensions:this.onVideoDimmensions,onExpandModeChange:this.onExpandModeChange,errorContainer:this.vmKeyhole})})}),Object(x.jsxs)(De,{className:"player-footer",children:[Object(x.jsx)(Ci,{}),!!r&&Object(x.jsx)(Di.a,{className:this.state.visibleVideoControls?"visible":"",controls:{viewbox:!1},playing:this.state.playing,duration:r,currentTime:this.state.currentTime,playerKeyhole:this.state.playerKeyhole,playbackRate:this.state.playbackRate,backwardDisabled:!this._controlsService.hasPrevChapter,forwardDisabled:this.isForwardDisabled,disableAll:!this.state.canPlayVideo,onPlay:this.play,onPause:this.onPause,onSeek:this.onSeek,onForward:this.onForward,onBackward:this.onBackward,onPlaybackRateChange:this.onPlaybackRateChange})]})]})]}),n&&Object(x.jsx)(qi,{visible:"practice-controls"===this.state.videoOverlay,parentElement:this._container,ariaHiddenElement:this.vmKeyhole,chapter:n,nextChapter:i,onStart:this.onSetCurrentChapter,onSkip:this.onSetCurrentChapter,onCompleteSession:this.onCompleteSession}),Object(x.jsx)(Ji,{visible:"platform-survey"===this.state.videoOverlay,parentElement:this._container,ariaHiddenElement:this.vmKeyhole,onContinue:this.onGoToNextChapter})]})}},{key:"videoWidth",get:function(){return this.state.height*(this.state.videoDimm.width/this.state.videoDimm.height)}}]),n}(Ni),nr=Object(y.a)(1),ir=Object(y.a)(2),rr=Object(u.c)((function(e){return{course:Object(y.z)(e),currentChapter:Object(y.i)(e),room:Object(y.q)(e),currentAttendee:Object(y.h)(e),currentAttendeeChapterProgress:Object(y.j)(e),expandedPanel:e.expandedPanel,upcomingChapter:nr(e),nextChapter:ir(e),showPlatformSurvey:Object(y.T)(e),a11yAutoplayNextChapterDelay:Object(y.b)(e)}}),null,null,{forwardRef:!0})(Object(F.l)(tr)),or=(n(1453),function(e){Object(a.a)(n,e);var t=Object(s.a)(n);function n(e){var i;Object(r.a)(this,n),(i=t.call(this,e)).context=void 0,i.player=void 0,i._shouldPlayVideoOnActiveUser=!1,i.showChallengeDescription=function(){i.setState({isChallengeDescriptionVisible:!0})},i.hideChallengeDescription=function(){i.setState({isChallengeDescriptionVisible:!1})},i.toggleChallengeView=function(){i.state.isChallengeDescriptionVisible?i.hideChallengeDescription():i.showChallengeDescription(),i.player.pause()},i.onReadyToSubmitChallenge=function(){var e=i.props,t=e.currentChapter,n=e.showNotification;if(t.state===p.e.NotCompleted){i.player.pause();var r=t.id;if(!i.state.watchedChallenges.includes(r)){t.type===p.n.ChallengeSelfApproval?n(Object(p.L)({type:p.M.Info,title:"Solve the Challenge",text:'After you solve the challenge, click the "Mark as completed" button to proceed to next task'})):t.type===p.n.Practice&&n(Object(p.L)({type:p.M.Info,title:"Practice Exercise",text:'After you complete the practice exercise, click the "I\u2019m ready to move on" button to proceed to next task'}));var o=i.state.watchedChallenges.push(r),a=Date.now();i._storeWatchedChallengesData(o.toArray(),a),i.setState({watchedChallenges:o,lastChallengeStartTime:a})}t.description&&i.showChallengeDescription()}},i.onChallengeSubmission=function(){var e=i.props,t=e.room,n=e.currentAttendee,r=e.currentChapter,o=i.state.lastChallengeStartTime?Date.now()-i.state.lastChallengeStartTime:0,a=Object(p.j)({resourceUrl:"",screenshotUrl:"",duration:o,attendeeChapterId:r.id});return i.props.sendChallengeSubmission(t,n,r,a).then((function(){i.hideChallengeDescription(),i._clearLastChallengeStartTime()})).catch((function(){i.props.showNotification(Object(p.L)({type:p.M.Error,text:"Something went wrong. Please, try again"}))}))};var o=i._loadStoredWatchedChallengesData();return i.state={isChallengeDescriptionVisible:!1,watchedChallenges:Object(oi.List)(o.challenges),lastChallengeStartTime:o.lastChallengeStartTime},i}return Object(o.a)(n,[{key:"shouldShowChallengeDescription",get:function(){var e=this.props.currentChapter;return this.state.isChallengeDescriptionVisible&&e.description&&e.type!==p.n.Instruction}},{key:"componentDidMount",value:function(){var e=this;window.onbeforeunload=function(){return e._storeLeaveTime()}}},{key:"componentDidUpdate",value:function(e){this.props.currentChapter&&e.currentChapter&&(this.props.currentChapter.id!==e.currentChapter.id&&this.state.isChallengeDescriptionVisible&&this.hideChallengeDescription(),this.props.currentChapter.id===e.currentChapter.id&&!this.props.currentChapter.canSubmit&&e.currentChapter.canSubmit&&this.player.complete());var t=this.props.isInactivityModalVisible;t!==e.isInactivityModalVisible&&(t&&this.player.isPlaying?(this.player.pause(),this._shouldPlayVideoOnActiveUser=!0):!t&&this._shouldPlayVideoOnActiveUser&&(this.player.play(),this._shouldPlayVideoOnActiveUser=!1))}},{key:"componentWillUnmount",value:function(){this._storeLeaveTime()}},{key:"render",value:function(){var e=this,t=this.props.currentChapter,n=t.type===p.n.ChallengeSelfApproval||t.type===p.n.Practice;return Object(x.jsxs)(Re,{className:"recorded-session-content",children:[Object(x.jsx)(vi,{}),n?Object(x.jsx)(mi,{onToggleView:this.toggleChallengeView,chapter:t,isDescriptionVisible:this.state.isChallengeDescriptionVisible}):Object(x.jsx)("h2",{className:"a11y-visually-hidden",children:"Instructor Video"}),Object(x.jsxs)("div",{className:"expanded",children:[this.shouldShowChallengeDescription&&Object(x.jsx)("div",{className:"challenge-description",dangerouslySetInnerHTML:{__html:pi(t.description)}}),Object(x.jsx)(rr,{ref:function(t){return e.player=t},zoomLevel:this.context.zoomLevel,hidden:this.state.isChallengeDescriptionVisible,onSessionCompleted:this.props.onSessionCompleted,onReadyToSubmitChallenge:this.onReadyToSubmitChallenge,onPlaybackRateChange:this.props.onPlaybackRateChange})]}),n&&Object(x.jsx)(Oi,{onChallengeSubmission:this.onChallengeSubmission})]})}},{key:"_loadStoredWatchedChallengesData",value:function(){var e=Object(j.e)(j.a.WatchedChallenges);if(e&&e[this.props.room.id]){var t=e[this.props.room.id].lastChallengeStartTime;if(t){var n=Object(j.e)(j.a.LeftSession);if(n&&n[this.props.room.id]){var i=n[this.props.room.id];Date.now()-i>=6e5&&(t=Date.now(),e[this.props.room.id].lastChallengeStartTime=t,Object(j.j)(j.a.WatchedChallenges,e))}}return{challenges:e[this.props.room.id].challenges||[],lastChallengeStartTime:t||null}}return{challenges:[],lastChallengeStartTime:null}}},{key:"_clearLastChallengeStartTime",value:function(){var e=Object(j.e)(j.a.WatchedChallenges)||{};e[this.props.room.id]={challenges:this.state.watchedChallenges,lastChallengeStartTime:null},Object(j.j)(j.a.WatchedChallenges,e)}},{key:"_storeWatchedChallengesData",value:function(e,t){var n=Object(j.e)(j.a.WatchedChallenges)||{};n[this.props.room.id]={challenges:e,lastChallengeStartTime:t},Object(j.j)(j.a.WatchedChallenges,n)}},{key:"_storeLeaveTime",value:function(){var e=Object(j.e)(j.a.LeftSession)||{};e[this.props.room.id]=Date.now(),Object(j.j)(j.a.LeftSession,e)}}]),n}(c.PureComponent));or.contextType=Z.b;var ar,sr,cr=function(e){var t={room:Object(u.e)(y.q),currentAttendee:Object(u.e)(y.l),currentChapter:Object(u.e)(y.i)},n=Object(u.d)(),r=Object(c.useCallback)((function(){return n(ct.a.sendChallengeSubmission.apply(ct.a,arguments))}),[n]),o=Object(ai.a)(),a=Object(c.useContext)(k);return Object(x.jsx)(or,Object(i.a)(Object(i.a)({},t),{},{sendChallengeSubmission:r,showNotification:o,isVmConnected:a.isConnected},e))},lr=n(167),ur=["isDisabled"],dr=Object(c.forwardRef)((function(e,t){var n=e.isDisabled,r=Object(_e.a)(e,ur),o=Object(c.useContext)(Q.a).isDisabled||!!n;return Object(x.jsx)("a",Object(i.a)(Object(i.a)({ref:t},r),{},{className:_()("rhyme-anchor",r.className),tabIndex:o?-1:r.tabIndex,"data-disabled":o||void 0}))})),pr=n(44),hr=n(1041),br=n(1089),fr=function(e,t){return(ar=ar||Object(Qi.a)(Object(Yi.a)().mark((function e(t,n){var i,r,o,a,s,c,l,u,d,p,h;return Object(Yi.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.name.match(/(.*[\\/])?(.*)/)||[],r=Object(pe.a)(i,3),o=r[2]){e.next=3;break}throw new Error("Could not match filename ".concat(n.name));case 3:return e.next=5,Object(br.a)(t);case 5:return a=e.sent,s=a.tunnel,c=a.filesystem,l=a.token,u=a.client,d=function(){return u.disconnect()},e.next=13,new Promise((function(e){return c.object.requestInputStream(n.streamName,e)}));case 13:return(p=e.sent).onblob=function(){return p.sendAck("OK",pr.Status.Code.SUCCESS)},p.onend=function(){return setTimeout(d,5e3)},h=t.protocol+"://"+t.host+"/api/session/tunnels/"+s.uuid+"/streams/"+encodeURIComponent(p.index)+"/"+encodeURIComponent(Object(hr.c)(o))+"?token="+encodeURIComponent(l),e.prev=17,e.next=20,Object(hr.b)(h,n.name,{credentials:"include"});case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(17),console.error(e.t0);case 25:return e.prev=25,d(),e.finish(25);case 28:case"end":return e.stop()}}),e,null,[[17,22,25,28]])})))).apply(this,arguments)},vr=n(381),mr=n(181),yr=n(376),jr=(n(1001),function(e){Object(a.a)(n,e);var t=Object(s.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(x.jsxs)(P.a,{title:"Download File","data-e2e":"download-file-modal",className:"download-file-confirmation-modal form-styles",visible:this.props.isVisible,onToggle:this.props.onClose,size:"small",children:[Object(x.jsxs)("p",{className:"text",children:['Are you sure you want to download file "',this.props.file.name,'"?']}),Object(x.jsxs)("div",{className:"button-sequence",children:[Object(x.jsx)(S.a,{htmlAttributes:{"aria-label":"No, do not download file"},className:"modal-button",kind:"cancel",onClick:this.props.onClose,children:"No"}),Object(x.jsx)(S.a,{htmlAttributes:{"aria-label":"Yes, download file"},className:"modal-button",onClick:this.props.onDownload,children:"Yes"})]})]})}}]),n}(c.PureComponent)),gr=["title","titleId"];function Or(){return Or=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Or.apply(this,arguments)}function wr(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xr(e,t){var n=e.title,i=e.titleId,r=wr(e,gr);return c.createElement("svg",Or({width:48,height:48,viewBox:"0 0 48 48",ref:t,"aria-labelledby":i},r),n?c.createElement("title",{id:i},n):null,sr||(sr=c.createElement("path",{d:"M0 40h30V0H0v40zM28.333 1.667v36.666H1.667V1.667h26.666zM18.333 25h-10v1.667h10V25zm3.334-6.667H8.333V20h13.334v-1.667zm0-6.666H8.333v1.666h13.334v-1.666z"})))}var kr,Cr=c.forwardRef(xr),Ar=(n.p,["title","titleId"]);function _r(){return _r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_r.apply(this,arguments)}function Sr(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Pr(e,t){var n=e.title,i=e.titleId,r=Sr(e,Ar);return c.createElement("svg",_r({width:48,height:48,viewBox:"0 0 48 48",ref:t,"aria-labelledby":i},r),n?c.createElement("title",{id:i},n):null,kr||(kr=c.createElement("path",{d:"M38.709 21.023v12.372c0 1.101-.9 2-2 2H12.091c-1.1 0-2-.899-2-2V21.023h28.616zM20.585 13l3.816 3.11h12.308c1.1 0 2 .9 2 2v1.588H10.093V15c0-1.1.899-2 2-2h8.492z"})))}var Er,Rr,Dr=c.forwardRef(Pr),Ir=(n.p,function(e){var t=e.file,n=e.index,i=e.focusable,r=e.onClick,o=Object(c.useRef)(null);Object(c.useEffect)((function(){o.current&&i&&o.current.focus()}),[i]);var a=t.type===mr.c.DIRECTORY;return Object(x.jsxs)("li",{ref:o,className:"content-item",onClick:r,title:t.name,tabIndex:i?0:-1,"aria-label":"".concat(t.name,a?" folder. Press Enter to navigate to the contents of this folder.":" file. Press Enter to download this file")+" Press Up or Down to navigate in the list.",children:[a?Object(x.jsx)(Dr,{"aria-hidden":!0,className:"file-browser-icon"}):Object(x.jsx)(Cr,{"aria-hidden":!0,className:"file-browser-icon"}),Object(x.jsx)("span",{"aria-hidden":!0,children:t.name})]},"".concat(n,"-").concat(t.name))}),Mr=(n(1454),["title","titleId"]);function Nr(){return Nr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Nr.apply(this,arguments)}function Tr(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Vr(e,t){var n=e.title,i=e.titleId,r=Tr(e,Mr);return c.createElement("svg",Nr({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:48,height:48,viewBox:"0 0 48 48",ref:t,"aria-labelledby":i},r),n?c.createElement("title",{id:i},n):null,Er||(Er=c.createElement("defs",null,c.createElement("polygon",{id:"chevronprevious-a",points:"18.074 24 28.878 35.852 29.925 34.804 20.169 24 29.925 13.196 28.878 12.148"}))),Rr||(Rr=c.createElement("use",{fill:"#1F1F1F",fillRule:"evenodd",xlinkHref:"#chevronprevious-a"})))}var Lr,Fr=c.forwardRef(Vr),zr=(n.p,["title","titleId"]);function Br(){return Br=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Br.apply(this,arguments)}function Wr(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ur(e,t){var n=e.title,i=e.titleId,r=Wr(e,zr);return c.createElement("svg",Br({width:"48px",height:"48px",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:t,"aria-labelledby":i},r),void 0===n?c.createElement("title",{id:i},"RHYME/SHAPES/48x48/Folder Open Fill"):n?c.createElement("title",{id:i},n):null,Lr||(Lr=c.createElement("g",{id:"RHYME/SHAPES/48x48/Folder-Open-Fill",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},c.createElement("path",{d:"M16.4167,20.2781 L42.1637,20.3151 C42.8047,20.3961 43.3147,20.6871 43.5777,21.1661 C43.8867,21.7281 43.8147,22.4411 43.3827,23.1221 L43.3827,23.1221 L36.0647,34.6151 C35.3387,35.7561 33.7107,36.6491 32.3577,36.6491 L32.3577,36.6491 L8.9857,36.6491 C7.7597,36.6491 6.7297,35.8371 6.3767,34.7261 L6.3767,34.7261 L14.4557,21.4101 C14.7697,20.8921 15.6157,20.3671 16.2627,20.2881 C16.3147,20.2811 16.3657,20.2781 16.4167,20.2781 L16.4167,20.2781 Z M17.3625,12.9998 C17.3985,12.9998 17.4295,13.0158 17.4635,13.0208 C17.5145,13.0278 17.5615,13.0328 17.6105,13.0498 C17.6625,13.0688 17.7055,13.0958 17.7515,13.1238 C17.7785,13.1418 17.8105,13.1478 17.8365,13.1688 L17.8365,13.1688 L21.4035,16.0758 L33.2885,16.0758 C34.8055,16.0758 36.0385,17.2918 36.0385,18.7868 L36.0385,18.7868 L36.0385,18.8068 L16.4145,18.7778 C16.3075,18.7778 16.1975,18.7848 16.0825,18.7988 C14.9755,18.9348 13.7245,19.7228 13.1735,20.6328 L13.1735,20.6328 L6.2355,32.0668 L6.2355,15.7498 C6.2355,14.2338 7.4695,12.9998 8.9855,12.9998 L8.9855,12.9998 Z",id:"Folder-Open-Fill",fill:"#1F1F1F"}))))}var Hr,Xr,Kr=c.forwardRef(Ur),qr=(n.p,["title","titleId"]);function Yr(){return Yr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Yr.apply(this,arguments)}function Qr(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Gr(e,t){var n=e.title,i=e.titleId,r=Qr(e,qr);return c.createElement("svg",Yr({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:48,height:48,viewBox:"0 0 48 48",ref:t,"aria-labelledby":i},r),n?c.createElement("title",{id:i},n):null,Hr||(Hr=c.createElement("defs",null,c.createElement("path",{id:"sync-a",d:"M7.97822556,24.0044444 C7.97822556,32.8933333 15.0197989,40.0026667 23.6760174,40.0026667 C31.5183283,40.0026667 35.1137451,35.4951111 38.5915097,31.1386667 C38.5985337,31.1288889 37.8223803,31.1155556 37.8302823,31.1155556 L32.1197594,31.1155556 L32.1197594,29.3377778 L41.7777778,29.3377778 L41.7777778,39.1155556 L40.0217744,39.1155556 L40.0217744,32.7155556 C36.5097678,37.0586667 32.2760437,41.7777778 23.8937618,41.7777778 C14.2699855,41.7777778 6.22222222,33.7822222 6.22222222,24.0044444 L6.22222222,24.0044444 Z M24.0518021,6.22222222 C33.7063084,6.22222222 41.342289,14.2266667 41.342289,24.0044444 L41.342289,24.0044444 L39.5862856,24.0044444 C39.5862856,15.1155556 32.5201282,8.00444444 23.8340577,8.00444444 C16.2430434,8.00444444 12.6352797,12.1370975 9.29888385,16.4173453 L8.92910137,16.8933333 L16.3157294,16.8933333 L16.3157294,18.6711111 L6.65771105,18.6711111 L6.65771105,8.89333333 L8.41371439,8.89333333 L8.41371439,15.2408889 C11.0477194,10.8844444 15.6818122,6.22222222 24.0518021,6.22222222 Z"}))),Xr||(Xr=c.createElement("use",{fill:"#1F1F1F",fillRule:"evenodd",xlinkHref:"#sync-a"})))}var Zr=c.forwardRef(Gr),Jr=(n.p,function(e){return e.split(/[\\, \/]+/).filter((function(e){return e}))}),$r=function(e,t){return e.type===mr.c.NORMAL&&t.type===mr.c.DIRECTORY?1:e.type===mr.c.DIRECTORY&&t.type===mr.c.NORMAL?-1:e.name>t.name?1:e.name<t.name?-1:0},eo={startsWith:["."],endsWith:[".lnk",".desktop"]},to=function(e){var t=e.name.toLowerCase();return!eo.startsWith.map((function(e){return t.startsWith(e)})).reduce((function(e,t){return e||t}),!1)&&!eo.endsWith.map((function(e){return t.endsWith(e)})).reduce((function(e,t){return e||t}),!1)},no=function(e){return!0},io={currentDirectory:null,fileToDownload:null,downloading:!1,isDownloadModalVisible:!1,isLoadingDirectory:!1,isMovingToInitialDirectory:!1,showAllFiles:!1,focusIndex:-1},ro=function(e,t,n){Object(a.a)(l,e);var i=Object(s.a)(l);function l(){var e,t;Object(r.a)(this,l);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(t=i.call.apply(i,[this].concat(o))).contextType=void 0,t.state=io,t.fileSystem=null,t.folderContentRef=Object(c.createRef)(),t.rootContentRef=Object(c.createRef)(),t.backRef=Object(c.createRef)(),t.currentRef=Object(c.createRef)(),t.fileIndexFocusable=function(e){return!t.isDisabled&&t.state.focusIndex-2===e},t.toggleDownloadModal=function(e){t.setState({isDownloadModalVisible:e})},t.onDownloadModalClose=function(){t.toggleDownloadModal(!1)},t.onDownload=function(){if(t.toggleDownloadModal(!1),t.props.vm&&t.state.fileToDownload){v.b.say("Downloading file...",v.a.Assertive),t.setState({downloading:!0});var e=function(){t.state.downloading&&(v.b.say("Finished downloading file.",v.a.Assertive),t.setState({downloading:!1,fileToDownload:null}))};fr(t.props.vm.connection,t.state.fileToDownload).then(e).catch(e)}},t.renderFolderContent=function(e){return Object(x.jsx)("ul",{ref:t.folderContentRef,className:"folder-content",children:e.map((function(e,n){return Object(x.jsx)(Ir,{index:n,file:e,focusable:t.fileIndexFocusable(n),onClick:function(){return t.onFileClick(e)}},"".concat(n,"-").concat(e.name))}))})},t.fileSystemReadyHandler=function(){t.client&&(t.fileSystem=t.client.getFileSystem(),t.fileSystem&&(t.setState({currentDirectory:t.fileSystem.currentDirectory}),t.fileSystem.on(vr.b.Initialized,t.initializeHandler),t.fileSystem.on(vr.b.CurrentDirectoryUpdate,t.currentDirectoryUpdateHandler),t.fileSystem.on(vr.b.LoadDirectory,t.loadDirectoryHandler),t.fileSystem.isInitialized&&t.initializeHandler()))},t.initializeHandler=Object(Qi.a)(Object(Yi.a)().mark((function e(){var n,i;return Object(Yi.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.props.vm&&!t.props.isVmFileSystemInitialized){e.next=2;break}return e.abrupt("return");case 2:if(!(n=t.props.vm.connection.options.fileSystemDefaultPath)){e.next=13;break}return e.prev=4,t.setState({isMovingToInitialDirectory:!0}),i=Jr(n),e.next=9,t.moveToDirectory(i);case 9:return e.prev=9,t.setState({isMovingToInitialDirectory:!1}),t.props.setVmFileSystemInitialized(),e.finish(9);case 13:case"end":return e.stop()}}),e,null,[[4,,9,13]])}))),t.currentDirectoryUpdateHandler=function(e){t.setState({currentDirectory:e,isLoadingDirectory:!1}),t.folderContentRef.current&&(t.folderContentRef.current.scrollTop=0),t.rootContentRef.current&&(t.rootContentRef.current.scrollTop=0)},t.loadDirectoryHandler=function(e){t.setState({isLoadingDirectory:!0})},t.onFileClick=function(n){return(e=e||Object(Qi.a)(Object(Yi.a)().mark((function e(n){return Object(Yi.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.type!==mr.c.DIRECTORY){e.next=6;break}return v.b.say("Navigating to the directory...",v.a.Assertive),e.next=4,t.changeDirectory(n);case 4:e.next=7;break;case 6:t.setState({fileToDownload:n},(function(){return t.toggleDownloadModal(!0)}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)},t.onBack=Object(Qi.a)(Object(Yi.a)().mark((function e(){var n;return Object(Yi.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=t.state.currentDirectory)||!n.parent){e.next=5;break}return v.b.say("Navigating to parent directory...",v.a.Assertive),e.next=5,t.changeDirectory(n.parent);case 5:case"end":return e.stop()}}),e)}))),t._onRefresh=Object(Qi.a)(Object(Yi.a)().mark((function e(){return Object(Yi.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.state.currentDirectory){e.next=2;break}return e.abrupt("return");case 2:return v.b.say("Reloading current directory contents...",v.a.Assertive),e.next=5,t.changeDirectory(t.state.currentDirectory);case 5:v.b.say("Current directory contents was reloaded.",v.a.Assertive);case 6:case"end":return e.stop()}}),e)}))),t.toggleFilesFilter=function(){v.b.say(t.state.showAllFiles?"Hiding system files from the files list.":"Showing all files in the files list."),t.setState({showAllFiles:!t.state.showAllFiles})},t.handleKeyDown=function(e){if(console.log(e.key),!t.state.isLoadingDirectory){if("ArrowUp"===e.key||"ArrowDown"===e.key){e.preventDefault();var n=t.state.focusIndex+("ArrowUp"===e.key?-1:1);n<0?n=t.visibleFiles.count()-1+2:n>t.visibleFiles.count()-1+2&&(n=0),n=Object(dn.a)(0,t.visibleFiles.count()-1+2,n),t.setState({focusIndex:n})}if("Enter"===e.key)if(e.preventDefault(),e.stopPropagation(),0===t.state.focusIndex)t.onBack();else if(1===t.state.focusIndex)t._onRefresh();else{var i=t.visibleFiles.get(t.state.focusIndex-2);i&&t.onFileClick(i)}}},t}return Object(o.a)(l,[{key:"isDisabled",get:function(){return this.context.isDisabled||!!this.props.isDisabled}},{key:"client",get:function(){return this.props.remoteClient}},{key:"backFocusable",get:function(){return!this.isDisabled&&0===this.state.focusIndex}},{key:"currentFocusable",get:function(){return!this.isDisabled&&1===this.state.focusIndex}},{key:"visibleFiles",get:function(){return this.state.currentDirectory?this.state.currentDirectory.files.toList().filter(this.state.showAllFiles?no:to).sort($r).toList():Object(oi.List)([])}},{key:"componentDidMount",value:function(){this.client&&this.onRemoteClientInit()}},{key:"componentDidUpdate",value:function(e,t){this.props.remoteClient&&!e.remoteClient&&this.onRemoteClientInit(),this.state.focusIndex!==t.focusIndex&&(this.backFocusable&&this.backRef.current?this.backRef.current.focus():this.currentFocusable&&this.currentRef.current&&this.currentRef.current.focus())}},{key:"componentWillUnmount",value:function(){this.client&&this.client.off(yr.c,this.fileSystemReadyHandler),this.fileSystem&&(this.fileSystem.off(vr.b.Initialized,this.initializeHandler),this.fileSystem.off(vr.b.CurrentDirectoryUpdate,this.currentDirectoryUpdateHandler),this.fileSystem.off(vr.b.LoadDirectory,this.loadDirectoryHandler))}},{key:"render",value:function(){var e=this.state,t=e.downloading,n=e.currentDirectory,i=e.fileToDownload,r=e.isDownloadModalVisible,o=e.isMovingToInitialDirectory,a=this.isDisabled;return Object(x.jsx)("div",{"aria-disabled":a,className:_()("vm-file-browser",{disabled:a}),children:t?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h2",{children:"Your file is downloading"}),Object(x.jsx)("p",{className:"description",children:"If the file is large, it might take a while"}),Object(x.jsx)(J.a,{theme:"dark",htmlAttributes:{"aria-label":"Downloading the file..."}})]}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h2",{children:"Download File"}),Object(x.jsx)("div",{className:"description",children:"Click on a file to download it"}),n&&!o?this.renderDirectory(n):Object(x.jsx)(J.a,{theme:"dark",htmlAttributes:{"aria-label":"Loading the current directory files list..."}}),i&&Object(x.jsx)(jr,{isVisible:r,file:i,onClose:this.onDownloadModalClose,onDownload:this.onDownload})]})})}},{key:"renderDirectory",value:function(e){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(ce.a,{disabled:this.isDisabled,className:"show-hide-btn",onClick:this.toggleFilesFilter,"aria-label":this.state.showAllFiles?"Hide system files from the folder contents list":"Show all files in the folder contents list",children:this.state.showAllFiles?"Hide":"Show All"}),Object(x.jsxs)("div",{className:_()("file-tree-root","one-item-list",this.state.isLoadingDirectory&&"loading"),"aria-label":"List of the files in the folder. Press Up or Down to navigate."+(this.state.isLoadingDirectory?" Loading directory contents.":""),tabIndex:this.isDisabled?void 0:-1===this.state.focusIndex?0:-1,onKeyDown:this.handleKeyDown,ref:this.rootContentRef,role:"application",children:[this.renderBackRowWithLoader(),this.renderCurrentDirectoryRow(e),this.renderFolderContent(this.visibleFiles)]})]})}},{key:"renderBackRowWithLoader",value:function(){return Object(x.jsxs)("div",{ref:this.backRef,className:_()("back",!parent&&"disabled"),onClick:this.onBack,title:parent?parent.name:"",tabIndex:this.backFocusable?0:-1,"aria-label":"Back button. Press Enter to goto the parent folder."+(parent&&parent.name?" Parent folder name: ".concat(parent.name):"")+" Press Up or Down to navigate the list.",children:[Object(x.jsx)(Fr,{"aria-hidden":!0}),parent?Object(x.jsx)("span",{className:"parent-folder",children:parent.name}):null,this.state.isLoadingDirectory?Object(x.jsx)(J.a,{theme:"dark",htmlAttributes:{"aria-label":"Loading the directory files list..."}}):null]})}},{key:"renderCurrentDirectoryRow",value:function(e){var t=e.name?"".concat(e.name,". Current directory. "):"",n=1===this.visibleFiles.count()?"item":"items",i=this.visibleFiles?" ".concat(this.visibleFiles.count()," ").concat(n,". "):"",r="\n    ".concat(t).concat(i,"Press Enter to reload the contents. Press Up or Down to navigate the list.\n    ");return Object(x.jsxs)("div",{ref:this.currentRef,className:"current-folder",onClick:this._onRefresh,tabIndex:this.currentFocusable?0:-1,"aria-label":r,children:[Object(x.jsxs)("div",{"aria-hidden":!0,title:e.name,className:"content-item",children:[Object(x.jsx)(Kr,{className:"file-browser-icon"}),Object(x.jsx)("span",{children:e.name})]}),Object(x.jsx)(Zr,{className:"refresh-icon","aria-hidden":!0})]})}},{key:"onRemoteClientInit",value:function(){this.client&&(this.client.getFileSystem()?this.fileSystemReadyHandler():this.client.on(yr.c,this.fileSystemReadyHandler))}},{key:"changeDirectory",value:function(e){return(t=t||Object(Qi.a)(Object(Yi.a)().mark((function e(t){return Object(Yi.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.client){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.client.changeDirectory(t);case 4:(this.state.focusIndex>1||0===this.state.focusIndex)&&this.setState({focusIndex:1});case 5:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"moveToDirectory",value:function(e){return(n=n||Object(Qi.a)(Object(Yi.a)().mark((function e(t){return Object(Yi.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.client){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.client.moveToDirectory(t);case 4:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}}]),l}(c.PureComponent);ro.contextType=Q.a;var oo,ao=Object(u.c)((function(e){return{isVmFileSystemInitialized:Object(y.R)(e)}}),(function(e){return{setVmFileSystemInitialized:function(){return e(new d.yb)}}}))(ro),so=n(1188),co=["title","titleId"];function lo(){return lo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},lo.apply(this,arguments)}function uo(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function po(e,t){var n=e.title,i=e.titleId,r=uo(e,co);return c.createElement("svg",lo({width:48,height:48,viewBox:"0 0 48 48",ref:t,"aria-labelledby":i},r),n?c.createElement("title",{id:i},n):null,oo||(oo=c.createElement("path",{d:"M22.222 9.777v1.778H8V40h28.445V25.778h1.778v16h-32v-32h16zm19.555-3.555v13.333h-1.776V9.257L20.184 29.073l-1.257-1.257L38.744 8h-10.3V6.222h13.333z"})))}var ho,bo=c.forwardRef(po),fo=(n.p,n(1455),Object(c.memo)((function(){var e,t=Object(u.e)(y.Q),n=Object(u.e)(y.s),i=n?Object(lr.a)().getRemoteClient(n.id):void 0;return Object(x.jsxs)("div",{className:"vm-files-settings",children:[Object(x.jsx)("h2",{children:"Upload File"}),Object(x.jsx)(so.a,{vm:n,isDisabled:!t,label:"Upload files to your cloud workspace"}),Object(x.jsxs)("p",{className:"upload-fallback",children:[Object(x.jsx)("span",{"aria-hidden":!0,children:"You can also use any upload service like "}),Object(x.jsxs)(dr,{"aria-label":"You can also use any upload service like https://ufile.io, opens in new window",href:"https://ufile.io",target:"_blank",rel:"noopener noreferrer",children:["ufile.io",Object(x.jsx)(bo,{"aria-hidden":!0,className:"external-link"})]})]}),Object(x.jsx)("div",{className:"separator"}),Object(x.jsx)(ao,{isDisabled:!t,remoteClient:i,vm:n},null===i||void 0===i||null===(e=i.getFileSystem())||void 0===e?void 0:e.id)]})}))),vo=n(1516),mo=n(1531),yo=n(1007),jo=(n(1456),"Download File"),go=function(e){var t=e.file,n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Object(c.useRef)();return Object(c.useEffect)((function(){var i,r=document.createElement("a");return function(){(i=i||Object(Qi.a)(Object(Yi.a)().mark((function i(){var o,a;return Object(Yi.a)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,fetch(e);case 2:return o=i.sent,i.next=5,o.blob();case 5:a=i.sent,r.href=URL.createObjectURL(a),r.download=t,n.current=r;case 9:case"end":return i.stop()}}),i)})))).apply(this,arguments)}(),function(){n.current&&URL.revokeObjectURL(n.current.href),n.current=null}}),[e,t]),function(){var e;null===(e=n.current)||void 0===e||e.click()}}(t.url,t.name),i=Object(c.useCallback)((function(e){e.preventDefault(),n()}),[n]);return Object(x.jsx)(mo.a,{href:"#",variant:"quiet",typographyVariant:"body1",icon:Object(x.jsx)(vo.a,{}),iconPosition:"before",onClick:i,"aria-label":"".concat(t.name," file. Press Enter to download this file"),children:t.name})},Oo=function(){var e=Object(u.e)(y.f);return e?Object(x.jsxs)("div",{className:"vb-files",children:[Object(x.jsx)(yo.a,{variant:"h1semibold",component:"h2",align:"center",children:jo}),Object(x.jsx)(yo.a,{children:"Click on a file to download it."}),Object(x.jsx)("ul",{className:"vb-files__list","aria-label":jo,children:e.map((function(e){return Object(x.jsx)("li",{children:Object(x.jsx)(go,{file:e})},e.id)}))})]}):null},wo=(n(1457),Object(c.memo)((function(){var e=Object(u.e)(y.I);return Object(x.jsx)(Re,{className:"files-settings",children:e?Object(x.jsx)(Oo,{}):Object(x.jsx)(fo,{})})}))),xo=n(383),ko=(n(1458),function(){var e=Object(u.d)(),t=Object(u.e)(y.I);return Object(x.jsxs)("div",{className:"student-help",children:[!t&&Object(x.jsxs)("section",{className:"student-help__tip student-help__highlight",children:[Object(x.jsx)("h4",{className:"student-help__tip-title",children:"Want to download your project files?"}),Object(x.jsx)("div",{className:"student-help__tip-content",children:"Access the Files tab next to the Instructor tab. Then click on the files you want to download."}),Object(x.jsx)("img",{className:"student-help__tip-image",src:"data:image/png;base64,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","aria-hidden":!0})]}),Object(x.jsxs)("section",{className:"student-help__section",children:[Object(x.jsx)("h3",{className:"student-help__section-title",children:"Troubleshooting"}),Object(x.jsx)("div",{className:"student-help__section-content",children:"Visit our learner support center to get answers to frequently asked questions."}),Object(x.jsxs)(L.a,{className:"student-help__section-button",component:"a",href:"https://learner.coursera.help/hc/en-us/articles/360044549452",target:"_blank",size:"small",variant:"secondary",children:["Visit Support Centre ",Object(x.jsx)(un.a,{className:"external-link"})]})]}),Object(x.jsxs)("section",{className:"student-help__section",children:[Object(x.jsx)("h3",{className:"student-help__section-title",children:"Keyboard shortcuts"}),Object(x.jsxs)("div",{className:"student-help__section-content",children:["To see a full list of shortcuts at any time, press ",Object(x.jsx)("kbd",{className:"student-help__highlight",children:"shift"})," ",Object(x.jsx)("kbd",{className:"student-help__highlight",children:"?"}),Object(x.jsx)(L.a,{className:"student-help__section-button student-help__section-button--block",size:"small",variant:"secondary",onClick:function(){return e(new xo.c)},children:"See shortcuts"})]})]})]})}),Co=n(1534),Ao=n(1525),_o=n(358),So=function(){var e=Object(u.d)(),t=Object(u.e)(y.q),n=Object(u.e)(y.l),i=Object(u.e)(y.C);return Object(c.useCallback)((function(){i===p.xb.PersonalWorkspace&&e(new We.a({playVideoInBackground:!1})),e(new d.x(p.F.None)),e(new d.zb(p.xb.CloudWorkspace)),e(ct.a.createAttendeeVMAndConnection(t,n))}),[e,t,n,i])},Po=n(152),Eo=n(377),Ro=function(){var e=Object(u.d)(),t=Object(u.e)(y.s),n=Object(c.useCallback)((function(){return e(new Eo.e(t.id))}),[e,t]);return Object(x.jsx)(L.a,{onClick:n,disabled:!t||Object(Po.d)(t.state),variant:"secondary",size:"small",children:"Release Keys"})};n(1459);function Do(e,t,n){n(new We.a(Object(sn.a)({},e,t)))}var Io=function(){var e,t=Object(u.e)(y.D),n=Object(u.e)(y.C),i=Object(u.e)(y.z),r=Object(u.e)(y.I),o=Object(u.d)(),a=Object(F.k)(),s=So(),l=Ue(),d=(e=i.virtualBrowserUrl,Object(c.useCallback)((function(){return window.open(e,"_blank","noopener,noreferrer")}),[e])),h=Object(It.a)(),b="Workspace preference",f=n===p.xb.PersonalWorkspace?"You\u2019re currently learning this tool in a separate browser tab. We recommend this for large screen or dual-monitors.":"You\u2019re currently learning this tool in a side-by-side view. We recommend this for small screen.",v="".concat(b,". ").concat(f),m=Object(c.useCallback)((function(e){return Do(e.target.name,e.target.checked,o)}),[o]),j=Object(c.useCallback)((function(e){e.persist(),function(e,t,n){(ho=ho||Object(Qi.a)(Object(Yi.a)().mark((function e(t,n,i){return Object(Yi.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(Object(_o.a)(Object(p.Z)({id:"confirm-disable-vm-checkbox",choices:Object(oi.List)([Object(p.Y)({id:"yes",label:n?"Enable and reload":"Disable and reload",type:"cancel"}),Object(p.Y)({id:"no",label:"Cancel"})]),cancelChoiceIndex:1,title:n?"Enable accessible mode?":"Disable accessible mode?",message:Object(x.jsxs)(x.Fragment,{children:[n?"If you enable accessible mode, the cloud workspace will be turned off. You will be able to practice on your own computer by installing the needed software.":"If you disable accessible mode, the cloud workspace will be available and you will be able to practice on it.",Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),"After ",n?"disabling":"enabling",", the page will reload to apply the change."]})}),{autoCloseOnButtonPress:!0}));case 2:"yes"===e.sent&&(Do(t,n,i),window.onbeforeunload=null,location.reload());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(e.target.name,e.target.checked,o)}),[o]),g=Object(c.useCallback)((function(){d(),a({action:"click",obj:"settings open link again button"})}),[d,a]),O=Object(c.useCallback)((function(){d(),l(),a({action:"click",obj:"settings open link button"})}),[l,d,a]),w=Object(c.useCallback)((function(){s(),a({action:"click",obj:"settings learn side-by-side button"})}),[s,a]);return Object(x.jsxs)("div",{className:"session-settings",children:[Object(x.jsxs)("fieldset",{className:"settings-group",children:[Object(x.jsx)("legend",{className:"settings-group-title",children:"Video playback"}),Object(x.jsx)(Co.a,{name:"playVideoInBackground",checked:t.playVideoInBackground,onChange:m,label:"Keep playing video when the web page is inactive",disabled:n===p.xb.PersonalWorkspace,supportText:n===p.xb.PersonalWorkspace?"This is enabled so you could work on a separate browser tab":""})]}),Object(x.jsxs)("fieldset",{className:"settings-group",children:[Object(x.jsx)("legend",{className:"settings-group-title",children:"Accessibility"}),Object(x.jsx)(Co.a,{name:"enableKeyboardShortcuts",checked:t.enableKeyboardShortcuts,onChange:m,label:"Enable keyboard shortcuts"}),!r&&Object(x.jsx)(Co.a,{name:"a11yDisableVM",checked:t.a11yDisableVM,onChange:j,label:"Accessible mode"}),Object(x.jsx)(Co.a,{name:"a11yIncreaseTimeAdjustables",checked:t.a11yIncreaseTimeAdjustables,onChange:m,label:"Extend time-limited interactions"})]}),n!==p.xb.None&&r&&Object(x.jsxs)("fieldset",{className:"settings-group","aria-label":v,children:[Object(x.jsx)("legend",{className:"settings-group-title",children:b}),Object(x.jsx)(yo.a,{children:f}),n===p.xb.PersonalWorkspace?Object(x.jsxs)("div",{className:"controls",children:[Object(x.jsx)(L.a,{size:"small",variant:"secondary",onClick:w,children:"Learn side-by-side"}),Object(x.jsx)(L.a,{size:"small",variant:"ghost",iconPosition:"after",icon:Object(x.jsx)(un.a,{size:"small"}),onClick:g,children:"Open link again"})]}):Object(x.jsx)(L.a,{size:"small",variant:"secondary",iconPosition:"after",icon:Object(x.jsx)(un.a,{size:"small"}),onClick:O,children:"Open link"})]}),t.a11yDisableVM&&!r||n!==p.xb.CloudWorkspace?null:Object(x.jsxs)("fieldset",{className:"settings-group","aria-labelledby":h,children:[Object(x.jsx)(Ao.a,{helpToggleProps:{"aria-label":"Information about the release keys button"},label:Object(x.jsx)("span",{id:h,className:"settings-group-title",children:"Controls"}),children:'If any of your keys are stuck in the cloud workspace click "Release Keys" button to release them.'}),Object(x.jsx)("div",{className:"controls",children:Object(x.jsx)(Ro,{})})]})]})};var Mo,No,To,Vo,Lo,Fo,zo,Bo=n(1523),Wo=n(1240),Uo=n.n(Wo),Ho=(n(1460),["value","ariaLabel","onCopy","onReset","children"]),Xo=function(e){var t=e.value,n=e.ariaLabel,r=e.onCopy,o=e.onReset,a=e.children,s=Object(_e.a)(e,Ho),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3,t=Object(c.useState)(!1),n=Object(pe.a)(t,2),i=n[0],r=n[1],o=Object(c.useCallback)((function(e){Uo()(e),r(!0)}),[]);return Object(c.useEffect)((function(){if(i){var t=setTimeout((function(){return r(!1)}),e);return function(){return clearTimeout(t)}}}),[i,e]),[i,o]}(),u=Object(pe.a)(l,2),d=u[0],p=u[1],h=!!Object(hn.a)(d),b=Object(c.useCallback)((function(){p(t),null===r||void 0===r||r()}),[p,t,r]);return Object(c.useEffect)((function(){d||h===d||null===o||void 0===o||o()}),[d,h,o]),Object(x.jsxs)("div",{className:_()("btn-clipboard",s.size),children:[Object(x.jsx)("div",{className:"a11y-visually-hidden","aria-live":"polite","aria-atomic":"true",children:d?"Copied":n||a}),d?Object(x.jsx)(yo.a,{component:"span",variant:"h4bold",color:"success",children:"Copied"}):Object(x.jsx)(L.a,Object(i.a)(Object(i.a)({},s),{},{onClick:b,children:a}))]})},Ko=["title","titleId"];function qo(){return qo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},qo.apply(this,arguments)}function Yo(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Qo(e,t){var n=e.title,i=e.titleId,r=Yo(e,Ko);return c.createElement("svg",qo({fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 66 67",ref:t,"aria-labelledby":i},r),n?c.createElement("title",{id:i},n):null,Mo||(Mo=c.createElement("path",{d:"M65.679 32.145c0 17.629-27.385 32.09-45.335 32.09S.68 49.773.68 32.144C.679 14.516 24.489.638 42.439.638s23.24 13.878 23.24 31.507z",fill:"#0056D2"})),No||(No=c.createElement("path",{d:"M60.418 15.728h4.596v39.58H1v-39.58h59.801m-42.6 49.91h29.385M26.205 55.072L23.55 65.637m16.01-10.565l2.674 10.565",stroke:"#fff",strokeWidth:.81,strokeLinejoin:"round"})),To||(To=c.createElement("path",{d:"M62.013 18.697H4.001v33.642h58.012V18.697z",stroke:"#fff",strokeWidth:.81,strokeLinejoin:"round"})),Vo||(Vo=c.createElement("path",{d:"M33.007 23.644H8.002v15.832h25.005V23.644z",stroke:"#fff",strokeWidth:.81,strokeLinejoin:"round"})),Lo||(Lo=c.createElement("path",{d:"M10.002 28.591h9.002m-9.002 5.937h7.002m-7.002-2.968h14.003",stroke:"#fff",strokeWidth:.81,strokeLinecap:"round",strokeLinejoin:"round"})),Fo||(Fo=c.createElement("path",{d:"M58.012 29.58H29.006v17.811h29.006v-17.81z",fill:"#0056D2",stroke:"#fff",strokeWidth:.81,strokeLinejoin:"round"})),zo||(zo=c.createElement("path",{d:"M40.472 43.371a.27.27 0 01-.325.014.315.315 0 01-.113-.142.355.355 0 01-.022-.187v-9.14a.355.355 0 01.022-.187.315.315 0 01.113-.142.27.27 0 01.325.014l8.352 4.634c.248.138.248.364 0 .51l-8.352 4.626z",stroke:"#fff",strokeWidth:.81,strokeLinejoin:"round"})))}var Go,Zo,Jo,$o,ea,ta=c.forwardRef(Qo),na=(n.p,["title","titleId"]);function ia(){return ia=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ia.apply(this,arguments)}function ra(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oa(e,t){var n=e.title,i=e.titleId,r=ra(e,na);return c.createElement("svg",ia({fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 72 66",ref:t,"aria-labelledby":i},r),n?c.createElement("title",{id:i},n):null,Go||(Go=c.createElement("path",{d:"M48.37 11.86c4.846 4.413 12.374 4.66 17.468 8.58 6.497 5.011 7.033 16.087 5.342 23.573-2.207 9.653-8.786 17.861-18.562 20.398-14.891 3.898-32.133-3.547-42.384-14.437C3.098 42.343-1.192 31.639.293 21.326 4.315-6.95 31.148-3.877 48.369 11.86z",fill:"#0056D2"})),Zo||(Zo=c.createElement("path",{d:"M66.673 9.639H6.062v41.25h60.611V9.638z",stroke:"#fff",strokeWidth:.81,strokeLinejoin:"round"})),Jo||(Jo=c.createElement("path",{d:"M47.947 35.293a.271.271 0 01-.329.014.322.322 0 01-.113-.145.367.367 0 01-.023-.19V25.64a.367.367 0 01.023-.191.322.322 0 01.113-.145.27.27 0 01.329.014l8.435 4.732c.25.14.25.371 0 .52l-8.435 4.723z",stroke:"#fff",strokeWidth:.81,strokeLinejoin:"round"})),$o||($o=c.createElement("path",{d:"M63.934 13.133H8.8v34.346h55.134V13.133z",stroke:"#fff",strokeWidth:.81,strokeLinejoin:"round"})),ea||(ea=c.createElement("path",{d:"M16.774 59.86h53.088m-66.99 0h9.096m27.43-46.727v34.346M13.131 21.214h13.133M13.132 31.316h10.102m-10.102-5.051h20.204",stroke:"#fff",strokeWidth:.81,strokeLinecap:"round",strokeLinejoin:"round"})))}var aa,sa=c.forwardRef(oa),ca=(n.p,n(1461),"Choose how you want to learn"),la=function(e){var t=e.url,n=e.hasFiles,i=Object(c.useState)(!1),r=Object(pe.a)(i,2),o=r[0],a=r[1],s=Object(F.k)(),l=So(),u=Ue(),d="Open the link in a separate browser tab, or use the default side-by-side workspace.",p="You can update your preference later in the Settings".concat(n?" or download the starting files from the Files tab.":"."),h=Object(c.useCallback)((function(){a(!0),s({action:"click",obj:"copy project link button"})}),[s]),b=Object(c.useCallback)((function(){l(),s({action:"click",obj:"learn side-by-side button"})}),[l,s]),f=Object(c.useCallback)((function(){u(),s({action:"click",obj:"open project link button"}),window.open(t,"_blank","noopener,noreferrer")}),[u,t,s]);return Object(x.jsx)("section",{className:"workspace-controls","aria-label":"".concat(ca,". ").concat(d," ").concat(p),children:Object(x.jsx)("div",{className:"workspace-controls__inner",children:Object(x.jsxs)("div",{className:"workspace-controls__content",children:[Object(x.jsxs)("div",{className:"workspace-controls__head",children:[Object(x.jsx)(yo.a,{variant:"h1semibold",component:"h2",color:"invertBody","aria-hidden":"true",children:ca}),Object(x.jsxs)(yo.a,{color:"invertBody",children:[d,Object(x.jsx)("br",{}),p]})]}),Object(x.jsxs)("div",{className:"workspace-controls__body",children:[Object(x.jsxs)("div",{className:"workspace-controls__group",children:[Object(x.jsx)(ta,{width:"93",height:"93",className:"workspace-controls__media"}),Object(x.jsx)(yo.a,{variant:"body2",color:"invertBody",id:"byob-mode-description",className:"workspace-controls__group-text",children:"Seamless login, best for large screen or dual-monitors"}),Object(x.jsx)("span",{className:"a11y-visually-hidden","aria-live":"polite","aria-atomic":"true",children:o?"Copied":"Copy project link"}),Object(x.jsxs)("div",{className:"workspace-controls__field",children:[Object(x.jsx)(Bo.a,{invert:!0,fullWidth:!0,value:t,label:"Link",renderLabel:function(e){return Object(c.cloneElement)(e,{className:"a11y-visually-hidden"})},suffix:Object(x.jsx)(Xo,{variant:"ghost",size:"small",value:t,ariaLabel:"Copy project link",onCopy:h,onReset:function(){return a(!1)},children:"Copy"})}),Object(x.jsx)(L.a,{iconPosition:"after",icon:Object(x.jsx)(un.a,{size:"small"}),onClick:f,"aria-describedby":"byob-mode-description",children:"Open"})]})]}),Object(x.jsxs)("div",{className:"workspace-controls__group",children:[Object(x.jsx)(sa,{width:"102",height:"93",className:"workspace-controls__media"}),Object(x.jsx)(yo.a,{variant:"body2",color:"invertBody",id:"side-by-side-mode-description",className:"workspace-controls__group-text",children:"Side-by-side learning, best for small screen"}),Object(x.jsx)(L.a,{variant:"secondary",onClick:b,"aria-describedby":"side-by-side-mode-description",children:"Learn side-by-side"})]})]})]})})})},ua=[p.db.Host,p.db.FilesSettings],da=[p.db.Host],pa="Instructor's Panel",ha={sessionCompletedOverlay:!1,isInactivityModalVisible:!1,isSettingsVisible:!1,isHelpVisible:!1,playbackRate:$.a.x100},ba=function(e){Object(a.a)(n,e);var t=Object(s.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e)).state=ha,i._stayedInSessionAfterCompletingIt=!1,i._remoteTrackAddedUnsubscribe=w.a,i._remoteTrackRemovedUnsubscribe=w.a,i._onInactivityLimitReachedUnsubscriber=w.a,i._appInteractionTracker=new q,i._keyboardActionHandlers=void 0,i.onFocusVmConnect=function(){i._appInteractionTracker.startTracking()},i.onFocusVmDisconnect=function(){i._appInteractionTracker.stopTracking()},i.onToggleExpandRightPanel=function(){var e=i.props.expandedPanel.mode===p.F.Right?p.F.None:p.F.Right;i.props.changeExpandedPanel(e)},i.onViewChange=function(e){i.props.setVisibleView(e)},i.onSessionCompleted=function(){i.props.room.settings.timerSource!==p.bb.ChapterDuration||i._stayedInSessionAfterCompletingIt||i.setState({sessionCompletedOverlay:!0})},i.onPlaybackRateChange=function(e){i.setState({playbackRate:e})},i.stayInSession=function(){i._stayedInSessionAfterCompletingIt=!0,i.setState({sessionCompletedOverlay:!1})},i.toggleInactivityModal=function(e){i.setState({isInactivityModalVisible:e})},i.toggleSettings=function(){i.setState({isSettingsVisible:!i.state.isSettingsVisible,isHelpVisible:!1})},i.toggleHelp=function(){i.setState({isHelpVisible:!i.state.isHelpVisible,isSettingsVisible:!1})},i.onConfirmInactivity=function(){i.toggleInactivityModal(!1),i.props.onConfirmInactivity()},i.renderInstructionsPanel=function(){var e;return Object(x.jsx)(en,{className:_()((null===(e=i.props.currentChapter)||void 0===e?void 0:e.type)===p.n.Practice&&"splitter-panel--lightgray"),"data-onboarding-step":xn,header:Object(x.jsx)(qn,{selectedTabId:i.props.visibleView,onTabClick:i.onViewChange,visibleTabIds:i.visibleViewIds,onChangeInstructionsPanelMode:i[i.props.isDetachedInstructionsPanelModeSelected?"onDisableDetachedInstructionsPanelMode":"onEnableDetachedInstructionsPanelMode"]}),content:i._renderViews(),ariaLabel:pa})},i._onInactivityLimitReached=function(){i.state.isInactivityModalVisible||i.toggleInactivityModal(!0)},i.enableDetachedInstructionsPanelMode=function(){i.props.isCloudWorkspaceModeSelected&&(i.props.changeInstructionsPanelMode(p.I.Detached),i.props.changeExpandedPanel(p.F.Left))},i.onEnableDetachedInstructionsPanelMode=function(){i.enableDetachedInstructionsPanelMode(),i.props.track({action:"click",obj:"popout video feature open instructions panel in separate window button"})},i.disableDetachedInstructionsPanelMode=function(){i.props.isCloudWorkspaceModeSelected&&i.props.isDetachedInstructionsPanelModeSelected&&(i.props.changeInstructionsPanelMode(p.I.Docked),i.props.changeExpandedPanel(p.F.None))},i.onDisableDetachedInstructionsPanelMode=function(){i.disableDetachedInstructionsPanelMode(),i.props.track({action:"click",obj:"popout video feature external window back to side-by-side button"})},i.onLeavePage=function(){i.disableDetachedInstructionsPanelMode(),i.props.track({action:"leave",obj:"popout video feature close external window due to reloading main page"})},i.onCloseExternalWindow=function(){i.disableDetachedInstructionsPanelMode(),i.props.track({action:"close",obj:"popout video feature close external window itself"})},i._keyboardActionHandlers={"video.toggleExpand":i.onToggleExpandRightPanel},i}return Object(o.a)(n,[{key:"shouldRenderFilesView",get:function(){return this.props.isVirtualBrowserTemplate?this.props.hasCourseAttachedFiles:!this.props.a11yDisableVM}},{key:"visibleViewIds",get:function(){return this.shouldRenderFilesView?ua:da}},{key:"componentDidMount",value:function(){Object(le.a)(!0),this._onInactivityLimitReachedUnsubscriber=this._appInteractionTracker.onInactivityLimitReached(this._onInactivityLimitReached),window.addEventListener("beforeunload",this.onLeavePage)}},{key:"componentWillUnmount",value:function(){Object(le.a)(!1),window.removeEventListener("beforeunload",this.onLeavePage),this._remoteTrackAddedUnsubscribe(),this._remoteTrackRemovedUnsubscribe(),this._onInactivityLimitReachedUnsubscriber(),this._appInteractionTracker.stopTracking()}},{key:"componentDidUpdate",value:function(e){var t=this.props.expandedPanel;t!==e.expandedPanel&&t.mode===p.F.Right&&t.expandedByGuide&&this.props.views&&this.props.setVisibleView(p.db.Host),this.props.isCloudWorkspaceModeSelected||this._appInteractionTracker.stopTracking()}},{key:"renderStudentUI",value:function(){var e;return Object(x.jsxs)(Z.c,{children:[Object(x.jsx)(Dn,{}),Object(x.jsx)(G.c,{handlers:this._keyboardActionHandlers}),Object(x.jsx)(Bt,{header:Object(x.jsxs)(Xt,{children:[Object(x.jsx)(it,{}),Object(x.jsx)(Ae,{}),Object(x.jsx)(zt,{}),Object(x.jsx)(ot,{onToggleHelp:this.toggleHelp,selected:this.state.isHelpVisible}),Object(x.jsx)(et,{onToggleSettings:this.toggleSettings,selected:this.state.isSettingsVisible}),Object(x.jsx)(nt,{onLeave:this.props.onSessionLeave})]}),content:Object(x.jsx)(nn,{leftPanel:this.props.a11yDisableVM||this.props.workspaceMode===p.xb.PersonalWorkspace?null:Object(x.jsx)(en,{className:_()((null===(e=this.props.currentChapter)||void 0===e?void 0:e.type)===p.n.Practice&&"splitter-panel--lightgray"),"data-onboarding-step":kn,header:Object(x.jsx)(Ze,{}),content:this.props.isCloudWorkspaceModeSelected?Object(x.jsxs)(x.Fragment,{children:[this.renderScreenOverlays(),this._renderFocusVm()]}):Object(x.jsx)(la,{url:this.props.course.virtualBrowserUrl,hasFiles:this.props.hasCourseAttachedFiles}),ariaLabel:"Workspace"}),rightPanel:this.props.isDetachedInstructionsPanelModeSelected?Object(x.jsx)(je,{containerClassName:"splitter",title:"".concat(document.title,". ").concat(pa),onClose:this.onCloseExternalWindow,children:this.renderInstructionsPanel()}):this.renderInstructionsPanel()})}),Object(x.jsx)(Qn,{visible:this.state.isInactivityModalVisible,onToggle:this.toggleInactivityModal,onConfirmInactivity:this.onConfirmInactivity}),Object(x.jsx)(ue,{title:"Help",visible:this.state.isHelpVisible,onToggle:this.toggleHelp,children:Object(x.jsx)(ko,{})}),Object(x.jsx)(ue,{title:"Settings",visible:this.state.isSettingsVisible,onToggle:this.toggleSettings,children:Object(x.jsx)(Io,{})})]})}},{key:"renderSidebarOverlay",value:function(){return this.renderSessionCompleteOverlay(this.state.sessionCompletedOverlay&&(this.props.a11yDisableVM||!this.props.isCloudWorkspaceModeSelected))}},{key:"renderScreenOverlays",value:function(){return this.renderSessionCompleteOverlay(this.state.sessionCompletedOverlay&&!this.props.a11yDisableVM&&this.props.isCloudWorkspaceModeSelected)}},{key:"renderSessionCompleteOverlay",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Object(x.jsx)(ri,{visible:e,course:this.props.course,stay:this.stayInSession,leave:this.props.onSessionLeave})}},{key:"render",value:function(){return this.renderStudentUI()}},{key:"_renderFocusVm",value:function(){return Object(x.jsx)(Q.b,{isDisabled:this.state.sessionCompletedOverlay,children:Object(x.jsx)(ze,{onEvent:this._appInteractionTracker.logVmInteraction,onConnect:this.onFocusVmConnect,onDisconnect:this.onFocusVmDisconnect})})}},{key:"_renderViews",value:function(){return Object(x.jsxs)(x.Fragment,{children:[this.renderSidebarOverlay(),Object(x.jsx)(an,{ref:this.props.onViewsRef,visibleViewId:this.props.visibleView,onViewChange:this.onViewChange,children:this.shouldRenderFilesView?[this._renderHostView(),this._renderFilesView()]:[this._renderHostView()]})]})}},{key:"_renderHostView",value:function(){return this.props.currentChapter||console.error("There is no currentChapter in recorded session"),Object(x.jsx)(on,{id:p.db.Host,landmarkAriaLabel:"Instructor (Video) tab",children:this.props.currentChapter?Object(x.jsx)(cr,{isInactivityModalVisible:this.state.isInactivityModalVisible,onSessionCompleted:this.onSessionCompleted,onPlaybackRateChange:this.onPlaybackRateChange}):Object(x.jsx)(J.a,{theme:"dark"})},p.db.Host)}},{key:"_renderFilesView",value:function(){return Object(x.jsx)(on,{id:p.db.FilesSettings,landmarkAriaLabel:"Files on your cloud workspace",children:Object(x.jsx)(wo,{})},p.db.FilesSettings)}}]),n}(c.PureComponent),fa=Object(u.c)((function(e){return{course:Object(y.z)(e),room:Object(y.q)(e),currentChapter:Object(y.i)(e),isVirtualBrowserTemplate:Object(y.I)(e),expandedPanel:e.expandedPanel,visibleView:e.sessionApp.visibleView||p.db.Host,a11yDisableVM:Object(y.D)(e).a11yDisableVM,isCloudWorkspaceModeSelected:Object(y.H)(e),workspaceMode:Object(y.C)(e),hasCourseAttachedFiles:Object(y.G)(e),isDetachedInstructionsPanelModeSelected:Object(y.K)(e)}}),(function(e){return{changeExpandedPanel:function(t){return e(new d.x(t))},setVisibleView:function(t){return e(new d.wb(t))},changeInstructionsPanelMode:function(t){return e(new d.rb(t))}}}))(Object(F.l)(ba)),va=(n(1462),function(e){var t=e.redirecting?m.b.redirecting:m.b.inProgress;return Object(x.jsxs)("div",{className:"page-wrapper","aria-label":t,"aria-busy":"true",children:[Object(x.jsx)(I.a,{overflow:"hidden"}),Object(x.jsx)(D.a,{}),Object(x.jsxs)("div",{className:"room-loading",children:[Object(x.jsx)(J.a,{theme:"dark"}),Object(x.jsx)("h1",{children:t})]})]})}),ma=(n(1463),"page"),ya={sessionEndedAfterJoin:!1,views:null},ja=function(e){Object(a.a)(n,e);var t=Object(s.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e)).state=ya,i.windowEventsAbortController=new AbortController,i.onSessionLeave=function(){return i.endSession()},i.navigateToCoursera=function(){var e,t,n=null===(e=i.props.currentAttendee)||void 0===e?void 0:e.courseraLearningUrl,r=null===(t=i.props.roomCourse)||void 0===t?void 0:t.courseraSlug,o=r?Object(b.P)(r):b.h,a=null!==n&&void 0!==n?n:o;location.href=a},i.onActiveUser=function(){Object(j.i)(i.props.currentRoomId),i.state.sessionEndedAfterJoin?(i.setState({sessionEndedAfterJoin:!1}),i.beginRoomInit()):i.beginEnterRoom()},i.onConfirmInactivity=function(){Object(j.o)(i.props.currentRoomId),i.endSession()},i.onViewsRef=function(e){i.setState({views:e})},i.renderContent=function(){var e=i.props.initRoomStatus;if(i.props.initRoomError)return Object(x.jsx)(N,{error:i.props.initRoomError});if(i.showInactiveView)return Object(x.jsx)(Y,{onActiveUser:i.onActiveUser});if(e===p.X.RoomEntered&&i.props.currentAttendee)return Object(x.jsx)(fa,{views:i.state.views,onViewsRef:i.onViewsRef,onSessionLeave:i.onSessionLeave,onConfirmInactivity:i.onConfirmInactivity});var t=e===p.X.RoomExiting||e===p.X.RoomExited;return Object(x.jsx)(va,{redirecting:t})},i.endSession=function(){i.props.dispatch(new d.u),i.setState({sessionEndedAfterJoin:!0})},i.beginRoomInit=function(){return i.props.dispatch(new d.v(i.roomSecret))},i.beginEnterRoom=function(){return i.props.dispatch(new d.t(i.roomSecret))},Object(f.c)(),i}return Object(o.a)(n,[{key:"roomSecret",get:function(){return this.props.match.params.secret}},{key:"showInactiveView",get:function(){return this.props.currentRoomId&&Object(j.p)(this.props.currentRoomId)}},{key:"componentDidMount",value:function(){var e=this,t=this.windowEventsAbortController.signal;this.beginRoomInit(),window.addEventListener("focus",(function(){e.props.track({action:"focus",obj:ma})}),{signal:t}),window.addEventListener("blur",(function(){e.props.track({action:"blur",obj:ma})}),{signal:t}),window.addEventListener("beforeunload",(function(){e.props.track({action:"leave",obj:ma,state:e.props.vm.state})}),{signal:t})}},{key:"componentWillUnmount",value:function(){this.props.dispatch(new d.I),this.windowEventsAbortController.abort()}},{key:"componentDidUpdate",value:function(e,t){var n=this.props,i=n.initRoomStatus,r=n.visibleView;if(i!==e.initRoomStatus&&(this.props.currentAttendee&&i===p.X.LobbyLoaded&&this.props.track({action:"load",obj:ma}),i!==p.X.LobbyLoaded||this.showInactiveView||this.beginEnterRoom(),i!==p.X.RoomExited||this.showInactiveView||this.navigateToCoursera(),i===p.X.RoomEntered&&v.b.say(m.b.success),i!==p.X.EnterRoomError&&i!==p.X.LobbyLoadError||v.b.say(m.b.error)),!t.views&&this.state.views&&!r){var o=this.state.views.props.children.filter(Boolean);if(o.length){var a=o[0].props.id;this.props.setVisibleView(a)}}!e.roomCourse&&this.props.roomCourse&&(document.title=Object(h.b)("Coursera",this.props.roomCourse))}},{key:"render",value:function(){return Object(x.jsxs)(C,{children:[Object(x.jsxs)("div",{className:"room-wrapper",children:[Object(x.jsx)(g.a,{}),this.renderContent()]}),Object(x.jsx)(R,{})]})}}]),n}(c.Component),ga=Object(F.l)((aa=function(e){var t={vm:Object(u.e)(y.s)||Object(p.vb)(),currentRoomId:Object(u.e)((function(e){return e.currentRoom})),roomCourse:Object(u.e)(y.y),currentAttendee:Object(u.e)(y.h),initRoomStatus:Object(u.e)((function(e){return e.sessionApp.initStatus})),initRoomError:Object(u.e)((function(e){return e.sessionApp.initError})),visibleView:Object(u.e)((function(e){return e.sessionApp.visibleView}))},n=Object(u.d)(),r=Object(c.useCallback)((function(e){return n(new d.wb(e))}),[n]);return Object(x.jsx)(ja,Object(i.a)(Object(i.a)(Object(i.a)({},e),t),{},{dispatch:n,setVisibleView:r}))},function(e){var t=Object(u.e)(y.h);return Object(c.useEffect)((function(){}),[t]),Object(x.jsx)(aa,Object(i.a)({},e))})),Oa=function(e){return Object(x.jsx)(F.g,{pageName:F.f,children:Object(x.jsx)(ga,Object(i.a)({},e))})}}}]);
//# sourceMappingURL=8.e37161be.chunk.js.map